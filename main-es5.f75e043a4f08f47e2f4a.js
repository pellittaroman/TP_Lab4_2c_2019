var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),__generator=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,a=n("mrSG"),s=n("zVF4"),u=n("q/0M"),l=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),s.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:s.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),c=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return s.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),h=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l(e)}}catch(n){}return new c},p=h("localStorage"),f=h("sessionStorage"),d=new u.Logger("@firebase/database"),v=(i=1,function(){return i++}),g=function(t){var e=s.stringToByteArray(t),n=new s.Sha1;n.update(e);var r=n.digest();return s.base64.encodeByteArray(r)},y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?n+=y.apply(null,t[r]):n+="object"==typeof t[r]?s.stringify(t[r]):t[r],n+=" ";return n},m=null,_=!0,b=function(t,e){s.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(d.logLevel=u.LogLevel.VERBOSE,m=d.log.bind(d),e&&f.set("logging_enabled",!0)):"function"==typeof t?m=t:(m=null,f.remove("logging_enabled"))},w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===_&&(_=!1,null===m&&!0===f.get("logging_enabled")&&b(!0)),m){var n=y.apply(null,t);m(n)}},C=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];w.apply(void 0,a.__spread([t],e))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,a.__spread(t));d.error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,a.__spread(t));throw d.error(n),new Error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+y.apply(void 0,a.__spread(t));d.warn(n)},I=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},k="[MIN_NAME]",A="[MAX_NAME]",N=function(t,e){if(t===e)return 0;if(t===k||e===A)return-1;if(e===k||t===A)return 1;var n=Q(t),r=Q(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},x=function(t,e){return t===e?0:t<e?-1:1},O=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+s.stringify(e))},R=function(t){if("object"!=typeof t||null===t)return s.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=s.stringify(e[i]),r+=":",r+=R(t[e[i]]);return r+"}"},P=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function D(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L,M,U,j,F,V,q,H,W,B,z=function(t){var e,n,r,i,o,a,u;for(s.assert(!I(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),a=[],o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse(),u=a.join("");var l="";for(o=0;o<64;o+=8){var c=parseInt(u.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()},G=new RegExp("^-?(0*)\\d{1,10}$"),Q=function(t){if(G.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},K=function(t){try{t()}catch(e){setTimeout((function(){throw T("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},Y=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},X=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},Z=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=N(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),J=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=s.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=s.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=s.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),$="long_polling",tt=function(){function t(t,e,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(s.assert("string"==typeof t,"typeof type must == string"),s.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==$)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return D(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),et=function(t){var e=nt(t),n=e.namespace;return"firebase"===e.domain&&S(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&T("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tt(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,"",n!=e.subdomain),path:new Z(e.pathString)}},nt=function(t){var e="",n="",r="",i="",o="",s=!0,u="https",l=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(u=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var p=t.indexOf("?");-1===p&&(p=t.length),e=t.substring(0,Math.min(h,p)),h<p&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,p)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=a.__values(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):T("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,p)));(c=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,l=parseInt(e.substring(c+1),10)):c=t.length;var d=e.split(".");3===d.length?(n=d[1],o=r=d[0].toLowerCase()):2===d.length?n=d[0]:"localhost"===d[0].slice(0,c).toLowerCase()&&(n="localhost"),"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},rt=/[\[\].#$\/\u0000-\u001F\u007F]/,it=/[\[\].#$\u0000-\u001F\u007F]/,ot=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},at=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},st=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!I(t)||t&&"object"==typeof t&&s.contains(t,".sv")},ut=function(t,e,n,r,i){i&&void 0===n||lt(s.errorPrefix(t,e,i),n,r)},lt=function(t,e,n){var r=n instanceof Z?new J(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(I(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&s.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(D(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!ot(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),lt(t,n,r),r.pop()})),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ct=function(t,e,n,r,i){if(!i||void 0!==n){var o=s.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];D(n,(function(t,e){var n=new Z(t);if(lt(o,e,r.child(n)),".priority"===n.getBack()&&!st(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ot(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Z.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},ht=function(t,e,n,r){if(!r||void 0!==n){if(I(n))throw new Error(s.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!st(n))throw new Error(s.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},pt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(s.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ft=function(t,e,n,r){if(!(r&&void 0===n||ot(n)))throw new Error(s.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dt=function(t,e,n,r){if(!(r&&void 0===n||at(n)))throw new Error(s.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},vt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dt(t,e,n,r)},gt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},yt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ot(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),at(t)}(r))throw new Error(s.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},mt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(s.errorPrefix(t,e,r)+"must be a boolean.")},_t=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){s.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),s.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){s.validateArgCount("OnDisconnect.remove",0,1,arguments.length),gt("OnDisconnect.remove",this.path_),s.validateCallback("OnDisconnect.remove",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){s.validateArgCount("OnDisconnect.set",1,2,arguments.length),gt("OnDisconnect.set",this.path_),ut("OnDisconnect.set",1,t,this.path_,!1),s.validateCallback("OnDisconnect.set",2,e,!0);var n=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){s.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),gt("OnDisconnect.setWithPriority",this.path_),ut("OnDisconnect.setWithPriority",1,t,this.path_,!1),ht("OnDisconnect.setWithPriority",2,e,!1),s.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new s.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(s.validateArgCount("OnDisconnect.update",1,2,arguments.length),gt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,T("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("OnDisconnect.update",1,t,this.path_,!1),s.validateCallback("OnDisconnect.update",2,e,!0);var i=new s.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),bt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return s.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),wt=(L="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",M=0,U=[],function(t){var e,n=t===M;M=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=L.charAt(t%64),t=Math.floor(t/64);s.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===U[e];e--)U[e]=0;U[e]++}else for(e=0;e<12;e++)U[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=L.charAt(U[e]);return s.assert(20===i.length,"nextPushId: Length should be 20."),i}),Ct=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Et=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Ct(k,t),r=new Ct(k,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Ct.MIN},t}(),St=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return j},set:function(t){j=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return N(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw s.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return new Ct(A,j)},e.prototype.makePost=function(t,e){return s.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ct(t,j)},e.prototype.toString=function(){return".key"},e}(Et),Tt=new St,It=function(t){return"number"==typeof t?"number:"+z(t):"string:"+t},kt=function(t){if(t.isLeafNode()){var e=t.val();s.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&s.contains(e,".sv"),"Priority must be a string or number.")}else s.assert(t===F||t.isEmpty(),"priority of unexpected type.");s.assert(t===F||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},At=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,s.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),kt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return V},set:function(t){V=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(s.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+It(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?z(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(s.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return s.assert(i>=0,"Unknown leaf type: "+n),s.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Nt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return new Ct(A,new At("[PRIORITY-POST]",H))},e.prototype.makePost=function(t,e){var n=q(t);return new Ct(e,new At("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Et)),xt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ot=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Pt.EMPTY_NODE,this.right=null!=o?o:Pt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,i;return(i=(r=n(t,(i=this).key))<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Pt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Pt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Rt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ot(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Pt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ot.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ot.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new xt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new xt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new xt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new xt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Rt,t}(),Dt=Math.log(2),Lt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Dt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Mt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0==s)return null;if(1==s)return o=t[e],a=n?n(o):o,new Ot(a,o.node,Ot.BLACK,null,null);var u=parseInt(s/2,10)+e,l=i(e,u),c=i(u+1,r);return o=t[u],a=n?n(o):o,new Ot(a,o.node,Ot.BLACK,l,c)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var l=i(o+1,s),c=t[o],h=n?n(c):c;u(new Ot(h,c.node,r,null,l))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},l=0;l<e.count;++l){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(l+1));c?s(h,Ot.BLACK):(s(h,Ot.BLACK),s(h,Ot.RED))}return o}(new Lt(t.length));return new Pt(r||e,o)},Ut={},jt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return s.assert(Ut&&Nt,"ChildrenNode.ts has not been loaded"),W=W||new t({".priority":Ut},{".priority":Nt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=s.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Pt?e:null},t.prototype.hasIndex=function(t){return s.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){s.assert(e!==Tt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,u=n.getIterator(Ct.Wrap),l=u.getNext();l;)o=o||e.isDefinedOn(l.node),i.push(l),l=u.getNext();r=o?Mt(i,e.getCompare()):Ut;var c=e.toString(),h=a.__assign({},this.indexSet_);h[c]=e;var p=a.__assign({},this.indexes_);return p[c]=r,new t(p,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(s.map(this.indexes_,(function(t,i){var o=s.safeGet(r.indexSet_,i);if(s.assert(o,"Missing index implementation for "+i),t===Ut){if(o.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(Ct.Wrap),l=u.getNext();l;)l.name!=e.name&&a.push(l),l=u.getNext();return a.push(e),Mt(a,o.getCompare())}return Ut}var c=n.get(e.name),h=t;return c&&(h=h.remove(new Ct(e.name,c))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(s.map(this.indexes_,(function(t){if(t===Ut)return t;var r=n.get(e.name);return r?t.remove(new Ct(e.name,r)):t})),this.indexSet_)},t}();function Ft(t,e){return N(t.name,e.name)}function Vt(t,e){return N(t,e)}var qt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&kt(this.priorityNode_),this.children_.isEmpty()&&s.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return B||(B=new t(new Pt(Vt),null,jt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||B},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?B:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(s.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r,i=new Ct(e,n),o=void 0,a=void 0;return n.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_)),r=o.isEmpty()?B:this.priorityNode_,new t(o,r,a)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;s.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Nt,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+It(this.getPriority().val())+":"),this.forEachChild(Nt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ct(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Ct(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Ct(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Ct.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Ct.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ht?-1:0},t.prototype.withIndex=function(e){if(e===Tt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Tt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Nt),r=e.getIterator(Nt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Tt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ht=new(function(t){function e(){return t.call(this,new Pt(Vt),qt.EMPTY_NODE,jt.Default)||this}return a.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return qt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(qt));Object.defineProperties(Ct,{MIN:{value:new Ct(k,qt.EMPTY_NODE)},MAX:{value:new Ct(A,Ht)}}),St.__EMPTY_NODE=qt.EMPTY_NODE,At.__childrenNodeConstructor=qt,F=Ht,H=Ht;var Wt=!0;function Bt(t,e){if(void 0===e&&(e=null),null===t)return qt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),s.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new At(t,Bt(e));if(t instanceof Array||!Wt){var n=qt.EMPTY_NODE;return D(t,(function(e,r){if(s.contains(t,e)&&"."!==e.substring(0,1)){var i=Bt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Bt(e))}var r=[],i=!1;if(D(t,(function(t,e){if("."!==t.substring(0,1)){var n=Bt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ct(t,n)))}})),0==r.length)return qt.EMPTY_NODE;var o=Mt(r,Ft,(function(t){return t.name}),Vt);if(i){var a=Mt(r,Nt.getCompare());return new qt(o,Bt(e),new jt({".priority":a},{".priority":Nt}))}return new qt(o,Bt(e),jt.Default)}q=Bt;var zt,Gt,Qt,Kt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?N(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return Ct.MAX},e.prototype.makePost=function(t,e){var n=Bt(t);return new Ct(e,n)},e.prototype.toString=function(){return".value"},e}(Et)),Yt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,s.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return a.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Bt(t),r=qt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ct(e,r)},e.prototype.maxPost=function(){var t=qt.EMPTY_NODE.updateChild(this.indexPath_,Ht);return new Ct(A,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Et),Xt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return s.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return s.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return s.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return s.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){s.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),dt("DataSnapshot.child",1,e,!1);var n=new Z(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Nt)},t.prototype.hasChild=function(t){s.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),dt("DataSnapshot.hasChild",1,t,!1);var e=new Z(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return s.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(s.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),s.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Nt))}))},t.prototype.hasChildren=function(){return s.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return s.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return s.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Zt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+s.stringify(this.snapshot.exportVal())},t}(),Jt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),$t=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Zt("value",this,new Xt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Jt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),te=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return s.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Jt(this,t,e):null},t.prototype.createEvent=function(t,e){s.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Zt(t.type,this,new Xt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||e.callbacks_[a]&&this.callbacks_[s]&&e.callbacks_[a]!==this.callbacks_[s])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),ee=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(zt,"Reference.ts has not been loaded"),zt},set:function(t){zt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Tt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=k)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!=A)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Nt){if(null!=e&&!st(e)||null!=n&&!st(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(s.assert(t.getIndex()instanceof Yt||t.getIndex()===Kt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return s.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){s.validateArgCount("Query.on",2,4,arguments.length),pt("Query.on",1,e,!1),s.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new $t(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new te(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){s.validateArgCount("Query.off",0,3,arguments.length),pt("Query.off",1,t,!0),s.validateCallback("Query.off",2,e,!0),s.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var o=e||null;r=new $t(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new te(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;s.validateArgCount("Query.once",1,4,arguments.length),pt("Query.once",1,e,!1),s.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,l=new s.Deferred;l.promise.catch((function(){}));var c=function(t){u&&(u=!1,o.off(e,c),n&&n.bind(a.context)(t),l.resolve(t))};return this.on(e,c,(function(t){o.off(e,c),a.cancel&&a.cancel.bind(a.context)(t),l.reject(t)})),l.promise},t.prototype.limitToFirst=function(e){if(s.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(s.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(s.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');dt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new Z(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Yt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){s.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Tt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){s.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Nt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){s.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),s.validateArgCount("Query.startAt",0,2,arguments.length),ut("Query.startAt",1,e,this.path,!0),ft("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),s.validateArgCount("Query.endAt",0,2,arguments.length),ut("Query.endAt",1,e,this.path,!0),ft("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(s.validateArgCount("Query.equalTo",1,2,arguments.length),ut("Query.equalTo",1,t,this.path,!1),ft("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return s.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return s.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=R(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(s.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,s.validateCallback(t,3,r.cancel,!0),r.context=n,s.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(s.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),ne=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Nt,(function(t,e){n.remember(new Z(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new Z(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),re=function(t,e){return t&&"object"==typeof t?(s.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},ie=function(t,e){var n,r=t.getPriority().val(),i=re(r,e);if(t.isLeafNode()){var o=t,a=re(o.getValue(),e);return a!==o.getValue()||i!==o.getPriority().val()?new At(a,Bt(i)):t}var s=t;return n=s,i!==s.getPriority().val()&&(n=n.updatePriority(new At(i))),s.forEachChild(Nt,(function(t,r){var i=ie(r,e);i!==r&&(n=n.updateImmediateChild(t,i))})),n},oe=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),ae=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,s.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),se=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=oe.ACK_USER_WRITE,this.source=ae.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return s.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Z(e));return new t(Z.Empty,n,this.revert)}return s.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ue=function(){return Gt||(Gt=new Pt(x)),Gt},le=function(){function t(t,e){void 0===e&&(e=ue()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return D(e,(function(t,e){n=n.set(new Z(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Z.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new Z(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(Z.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Z.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Z.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(Z.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),ce=function(){function t(t,e){this.source=t,this.path=e,this.type=oe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Z.Empty):new t(this.source,this.path.popFront())},t}(),he=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=oe.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Z.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),pe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=oe.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new Z(e));return n.isEmpty()?null:n.value?new he(this.source,Z.Empty,n.value):new t(this.source,Z.Empty,n)}return s.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),fe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),de=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new fe(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new fe(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new fe(qt.EMPTY_NODE,!1,!1),new fe(qt.EMPTY_NODE,!1,!1)),t}(),ve=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ge=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){s.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(ve.childRemovedChange(e,a)):s.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ve.childAddedChange(e,n)):o.trackChildChange(ve.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Nt,(function(t,r){e.hasChild(t)||n.trackChildChange(ve.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Nt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ve.childChangedChange(e,r,i))}else n.trackChildChange(ve.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?qt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ye=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;s.assert(e==ve.CHILD_ADDED||e==ve.CHILD_CHANGED||e==ve.CHILD_REMOVED,"Only child changes supported for tracking"),s.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e==ve.CHILD_ADDED&&i==ve.CHILD_REMOVED)this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e==ve.CHILD_REMOVED&&i==ve.CHILD_ADDED)this.changeMap.delete(n);else if(e==ve.CHILD_REMOVED&&i==ve.CHILD_CHANGED)this.changeMap.set(n,ve.childRemovedChange(n,r.oldSnap));else if(e==ve.CHILD_CHANGED&&i==ve.CHILD_ADDED)this.changeMap.set(n,ve.childAddedChange(n,t.snapshotNode));else{if(e!=ve.CHILD_CHANGED||i!=ve.CHILD_CHANGED)throw s.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),me=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),_e=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new fe(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),be=function(t,e){this.viewCache=t,this.changes=e},we=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){s.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),s.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,a,u=new ye;if(n.type===oe.OVERWRITE){var l=n;l.source.fromUser?o=this.applyUserOverwrite_(e,l.path,l.snap,r,i,u):(s.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),o=this.applyServerOverwrite_(e,l.path,l.snap,r,i,a,u))}else if(n.type===oe.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,u):(s.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,a,u))}else if(n.type===oe.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==oe.LISTEN_COMPLETE)throw s.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,u)}var p=u.getChanges();return t.maybeAddValueEvent_(e,o,p),new be(o,p)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ve.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,u=void 0;if(e.isEmpty())if(s.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),c=n.calcCompleteEventChildren(l instanceof qt?l:qt.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),c,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var p=e.getFront();if(".priority"==p){s.assert(1==e.getLength(),"Can't have a priority with additional path components");var f=o.getNode();u=t.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(e,f,u);a=null!=d?this.filter_.updatePriority(f,d):o.getNode()}else{var v=e.popFront(),g=void 0;if(o.isCompleteForChild(p)){u=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),u);g=null!=y?o.getNode().getImmediateChild(p).updateChild(v,y):o.getNode().getImmediateChild(p)}else g=n.calcCompleteChild(p,t.getServerCache());a=null!=g?this.filter_.updateChild(o.getNode(),p,g,v,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=l.updateFullNode(u.getNode(),n,null);else if(l.filtersNodes()&&!u.isFiltered()){var c=u.getNode().updateChild(e,n);s=l.updateFullNode(u.getNode(),c,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var p=e.popFront(),f=u.getNode().getImmediateChild(h).updateChild(p,n);s=".priority"==h?l.updatePriority(u.getNode(),f):l.updateChild(u.getNode(),h,f,p,me,null)}var d=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),v=new _e(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,v,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),l=new _e(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),p=u.getNode().getImmediateChild(c),f=void 0;if(h.isEmpty())f=n;else{var d=l.getCompleteChild(c);f=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):qt.EMPTY_NODE}if(p.equals(f))a=t;else{var v=this.filter_.updateChild(u.getNode(),c,f,h,l,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach((function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(u=s.applyUserOverwrite_(u,c,l,i,o,a))})),r.foreach((function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(u=s.applyUserOverwrite_(u,c,l,i,o,a))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,l=t;u=e.isEmpty()?n:le.Empty.setTree(e,n);var c=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(c.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);l=s.applyServerOverwrite_(l,new Z(e),h,r,i,o,a)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),p=s.applyMerge_(h,n);l=s.applyServerOverwrite_(l,new Z(e),p,r,i,o,a)}})),l},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=le.Empty;return s.getNode().forEachChild(Tt,(function(t,e){u=u.set(new Z(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var l=le.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(l=l.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,l,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,me,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new _e(n,t,r),u=t.getEventCache().getNode(),l=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();s.assert(h instanceof qt,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}l=this.filter_.updateFullNode(u,c=c,i)}else{var p=e.getFront(),f=n.calcCompleteChild(p,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(p)&&(f=u.getImmediateChild(p)),(l=null!=f?this.filter_.updateChild(u,p,f,e.popFront(),a,i):t.getEventCache().getNode().hasChild(p)?this.filter_.updateChild(u,p,qt.EMPTY_NODE,e.popFront(),a,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Z.Empty),t.updateEventSnap(l,o,this.filter_.filtersNodes())},t}(),Ce=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===ve.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(ve.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,ve.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,ve.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,ve.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,ve.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,ve.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter((function(t){return t.type===e}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw s.assertionError("Should only compare child_ events.");var n=new Ct(t.childName,t.snapshotNode),r=new Ct(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ee=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new ge(n.getIndex()),i=n.getNodeFilter();this.processor_=new we(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(qt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(qt.EMPTY_NODE,a.getNode(),null),l=new fe(s,o.isFullyInitialized(),r.filtersNodes()),c=new fe(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new de(c,l),this.eventGenerator_=new Ce(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){s.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===oe.MERGE&&null!==t.source.queryId&&(s.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),s.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),s.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Nt,(function(t,e){n.push(ve.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(ve.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Se=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(Qt,"Reference.ts has not been loaded"),Qt},set:function(t){s.assert(!Qt,"__referenceConstructor has already been defined"),Qt=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var u=this.views.get(o);return s.assert(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var l=[];try{for(var c=a.__values(this.views.values()),h=c.next();!h.done;h=c.next())l=l.concat((u=h.value).applyOperation(t,e,n))}catch(p){r={error:p}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return l},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof qt?(s=n.calcCompleteEventChildren(r),u=!1):(s=qt.EMPTY_NODE,u=!1);var l=new de(new fe(s,u,!1),new fe(r,i,!1));a=new Ee(t,l),this.views.set(o,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,s=e.queryIdentifier(),u=[],l=[],c=this.hasCompleteView();if("default"===s)try{for(var h=a.__values(this.views.entries()),p=h.next();!p.done;p=h.next()){var f,d=a.__read(p.value,2),v=d[0];l=l.concat((f=d[1]).removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(v),f.getQuery().getQueryParams().loadsAllData()||u.push(f.getQuery()))}}catch(g){i={error:g}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else(f=this.views.get(s))&&(l=l.concat(f.removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(s),f.getQuery().getQueryParams().loadsAllData()||u.push(f.getQuery())));return c&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:l}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=a.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=a.__values(this.views.values()),o=i.next();!o.done;o=i.next())r=r||o.value.getCompleteServerCache(t)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=a.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Te=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new le(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=Z.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new le(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return D(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,le.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Z.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Nt,(function(e,n){t.push(new Ct(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ct(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new le(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(s.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(Z.Empty,this.writeTree_,t)},t.Empty=new t(new le(null)),t}(),Ie=function(){function t(){this.visibleWrites_=Te.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new ke(t,this)},t.prototype.addOverwrite=function(t,e,n,r){s.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){s.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));s.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(o=!0)),a--}return!!i&&(o?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):D(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(Z.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||qt.EMPTY_NODE):null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(e);return s.isEmpty()?n:null!=n||s.hasCompleteWrite(Z.Empty)?s.apply(n||qt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=qt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Nt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Nt,(function(t,e){var r=i.childCompoundWrite(new Z(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){s.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(Z.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var l=[],c=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),p=h.getNext();p&&l.length<r;)0!==c(p,n)&&l.push(p),p=h.getNext();return l},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,Z.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Te.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,u=void 0;if(o.snap)n.contains(a)?(u=Z.relativePath(n,a),r=r.addWrite(u,o.snap)):a.contains(n)&&(u=Z.relativePath(a,n),r=r.addWrite(Z.Empty,o.snap.getChild(u)));else{if(!o.children)throw s.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))u=Z.relativePath(n,a),r=r.addWrites(u,o.children);else if(a.contains(n))if((u=Z.relativePath(a,n)).isEmpty())r=r.addWrites(Z.Empty,o.children);else{var l=s.safeGet(o.children,u.getFront());if(l){var c=l.getChild(u.popFront());r=r.addWrite(Z.Empty,c)}}}}}return r},t}(),ke=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ae=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=le.Empty,this.pendingWriteTree_=new Ie,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new he(ae.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=le.fromObject(e);return this.applyOperationToSyncPoints_(new pe(ae.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=le.Empty;return null!=n.snap?r=r.set(Z.Empty,!0):D(n.children,(function(t,e){r=r.set(new Z(t),e)})),this.applyOperationToSyncPoints_(new se(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new he(ae.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=le.fromObject(e);return this.applyOperationToSyncPoints_(new pe(ae.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ce(ae.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Z.relativePath(a,e),l=new he(ae.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Z.relativePath(a,e),l=le.fromObject(n),c=new pe(ae.forServerTaggedQuery(s),u,l);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=Z.relativePath(o,e),u=new ce(ae.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Z.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var a,u=this.syncPointTree_.get(r);u?(o=o||u.hasCompleteView(),i=i||u.getCompleteServerCache(Z.Empty)):(u=new Se,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=qt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(Z.Empty);n&&(i=i.updateImmediateChild(t,n))})));var l=u.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);s.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var p=this.pendingWriteTree_.childWrites(r),f=u.addEventRegistration(e,n,p,i,a);if(!l&&!o){var d=u.viewForQuery(e);f=f.concat(this.setupListener_(e,d))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=u.removed;s=u.events;var c=-1!==l.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(c&&!h){var p=this.syncPointTree_.subtree(o);if(!p.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(p),d=0;d<f.length;++d){var v=f[d],g=v.getQuery(),y=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}!h&&l.length>0&&!r&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):l.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(l)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=Z.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),D(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(r);if(i)s.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),D(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<l.length;++c){var h=l[c];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||qt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return s.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Z(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);s.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Z.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(Z.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Z.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,l,c))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(Z.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Z.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),l=t.operationForChild(e);l&&(a=a.concat(i.applyOperationDescendantsHelper_(l,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Ne=function(){function t(){this.rootNode_=qt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),xe=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,(function(t){return t&&"auth/token-not-initialized"===t.code?(w("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}))},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';T(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Oe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),s.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return s.deepCopy(this.counters_)},t}(),Re=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Oe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Pe=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=a.__assign({},t);return this.last_&&D(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),De=1e4,Le=3e4,Me=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Pe(t);var n=De+(Le-De)*Math.random();X(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;D(e,(function(e,i){i>0&&s.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),X(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ue=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new je(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),je=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();m&&w("event: "+e.toString()),K(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Fe=function(){function t(t){this.allowedEvents_=t,this.listeners_={},s.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=a.__spread(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){s.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Ve=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Fe),qe=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||s.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Fe),He=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&K((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),We="pLPCommand",Be="pRTLPCB",ze=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(t),this.stats_=Re.getCollection(e),this.urlFn=function(t){return e.connectionURL($,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new He(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(s.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ge((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.__read(t,5),i=r[0],o=r[1],s=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.__read(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(s.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=s.base64Encode(e),r=P(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!s.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=s.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ge=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,s.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window[We+this.uniqueCallbackIdentifier]=e,window[Be+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){w("frame writing exception"),u.stack&&w(u.stack),w(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||w("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;s.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){w("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Qe="",Ke=null;"undefined"!=typeof MozWebSocket?Ke=MozWebSocket:"undefined"!=typeof WebSocket&&(Ke=WebSocket);var Ye=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=Re.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!s.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(s.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+Qe+"/"+process.platform+"/"+(s.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},i=process.env,o=0==this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;o&&(r.proxy={origin:o}),this.mySock=new Ke(this.connURL,[],r)}else this.mySock=new Ke(this.connURL)}catch(u){this.log_("Error instantiating WebSocket.");var a=u.message||u.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ke&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=s.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(s.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=P(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Xe=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[ze,Ye]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Ye&&Ye.isAvailable(),o=i&&!Ye.previouslyFailed();if(e.webSocketOnly&&(i||T("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ye];else{var s=this.transports_=[];try{for(var u=a.__values(t.ALL_TRANSPORTS),l=u.next();!l.done;l=u.next()){var c=l.value;c&&c.isAvailable()&&s.push(c)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ze=function(){function t(t,e,n,r,i,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new Xe(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=X((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=O("t",t),n=O("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=O("t",t),n=O("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=O("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&T("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),X((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):X((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Je=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),$e=1e3,tn=3e5,en=function(t){function e(n,r,i,o,a,u){var l=t.call(this)||this;if(l.repoInfo_=n,l.onDataUpdate_=r,l.onConnectStatus_=i,l.onServerInfoUpdate_=o,l.authTokenProvider_=a,l.authOverride_=u,l.id=e.nextPersistentConnectionId_++,l.log_=C("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=$e,l.maxReconnectDelay_=tn,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,u&&!s.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Ve.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&qe.getInstance().on("online",l.onOnline_,l),l}return a.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(s.stringify(i)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&s.contains(t,"w")){var n=s.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();T("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||s.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=s.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+s.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+s.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$e,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=$e,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=$e),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,u=!1,l=null,c=function(){l?l.close():(u=!0,r())};this.realtime_={close:c,sendRequest:function(t){s.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(e){u?w("getToken() completed but was canceled"):(w("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,l=new Ze(i,o.repoInfo_,t,n,r,(function(t){T(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),a))})).then(null,(function(t){o.log_("Failed to get token: "+t),u||(s.CONSTANTS.NODE_ADMIN&&T(t),c())}))}},e.prototype.interrupt=function(t){w("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){w("Resuming connection for reason: "+t),delete this.interruptReasons_[t],s.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=$e,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return R(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Z(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){w("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=a.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,a.__values(s.values())),l=u.next();!l.done;l=u.next())this.sendListen_(l.value)}catch(p){n={error:p}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";s.CONSTANTS.NODE_ADMIN?e="admin_node":s.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+Qe.replace(/\./g,"-")]=1,s.isMobileCordova()?t["framework.cordova"]=1:s.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=qe.getInstance().currentlyOnline();return s.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Je),nn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=C("p:rest:"),i.listens_={},i}return a.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(s.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var u=e.getListenId_(t,r),l={};this.listens_[u]=l;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),s.safeGet(o.listens_,u)===l&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+s.querystring(e);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=s.jsonEval(u.responseText)}catch(e){T("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&T("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()}))},e}(Je),rn=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ne,this.persistentConnection_=null;var i=new xe(n);if(this.stats_=Re.getCollection(t),e||Y())this.server_=new nn(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{s.stringify(o)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}this.persistentConnection_=new en(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener((function(t){r.server_.refreshAuthToken(t)})),this.statsReporter_=Re.getOrCreateReporter(t,(function(){return new Me(r.stats_,r.server_)})),this.transactions_init_(),this.infoData_=new Ne,this.infoSyncTree_=new Ae({startListening:function(t,e,n,i){var o=[],a=r.infoData_.getNode(t.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ae({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,(function(e,n){var o=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new Z(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=s.map(e,(function(t){return Bt(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var u=Bt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var l=s.map(e,(function(t){return Bt(t)}));o=this.serverSyncTree_.applyServerMerge(i,l)}else{var c=Bt(e);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;D(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new Z("/.info/"+t),r=Bt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=Bt(e,n),s=ie(a,o),u=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,s,u,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),a.val(!0),(function(e,n){var o="ok"===e;o||T("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)}));var c=this.abortTransactions_(t);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(D(e,(function(t,e){i=!1;var n=Bt(e);a[t]=ie(n,o)})),i)w("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||T("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)})),D(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=function(t,e){var n=new ne;return t.forEachTree(new Z(""),(function(t,r){n.remember(t,ie(r,e))})),n}(this.onDisconnect_,e),r=[];n.forEachTree(Z.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new ne,this.eventQueue_.raiseEventsForChangedPath(Z.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Bt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Bt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(s.isEmpty(e))return w("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&D(e,(function(e,n){var i=Bt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Pe(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);D(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),w.apply(void 0,a.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&K((function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new dn(this))},enumerable:!0,configurable:!0}),t}(),on=function(){function t(e){this.indexedFilter_=new ge(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Ct(e,n))||(n=qt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=qt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(qt.EMPTY_NODE);var i=this;return e.forEachChild(Nt,(function(t,e){i.matches(new Ct(t,e))||(r=r.updateImmediateChild(t,qt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),an=function(){function t(t){this.rangedFilter_=new on(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Ct(e,n))||(n=qt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=qt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(qt.EMPTY_NODE);var s=void 0,u=void 0,l=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&l(s,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,u)<=0?o++:r=r.updateImmediateChild(a.name,qt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var u=t;s.assert(u.numChildren()==this.limit_,"");var l=new Ct(e,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(u.hasChild(e)){for(var p=u.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name==e||u.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:o(f,l);if(h&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(ve.childChangedChange(e,n,p)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ve.childRemovedChange(e,p));var v=u.updateImmediateChild(e,qt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(ve.childAddedChange(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}return n.isEmpty()?t:h&&o(c,l)>=0?(null!=i&&(i.trackChildChange(ve.childRemovedChange(c.name,c.node)),i.trackChildChange(ve.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(c.name,qt.EMPTY_NODE)):t},t}(),sn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:k},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return s.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Nt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Nt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ge(this.getIndex()):this.hasLimit()?new an(this):new on(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===Nt?e=n.PRIORITY_INDEX:this.index_===Kt?e=n.VALUE_INDEX:this.index_===Tt?e=n.KEY_INDEX:(s.assert(this.index_ instanceof Yt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=s.stringify(e),this.startSet_&&(r[n.START_AT]=s.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+s.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=s.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+s.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),un=function(t){function e(e,n){if(!(e instanceof rn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,sn.DEFAULT,!1)||this}return a.__extends(e,t),e.prototype.getKey=function(){return s.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return s.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Z||(null===this.path.getFront()?vt("Reference.child",1,t,!1):dt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){s.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){s.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){s.validateArgCount("Reference.set",1,2,arguments.length),gt("Reference.set",this.path),ut("Reference.set",1,t,this.path,!1),s.validateCallback("Reference.set",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(s.validateArgCount("Reference.update",1,2,arguments.length),gt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,T("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("Reference.update",1,t,this.path,!1),s.validateCallback("Reference.update",2,e,!0);var i=new s.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(s.validateArgCount("Reference.setWithPriority",2,3,arguments.length),gt("Reference.setWithPriority",this.path),ut("Reference.setWithPriority",1,t,this.path,!1),ht("Reference.setWithPriority",2,e,!1),s.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new s.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return s.validateArgCount("Reference.remove",0,1,arguments.length),gt("Reference.remove",this.path),s.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(s.validateArgCount("Reference.transaction",1,3,arguments.length),gt("Reference.transaction",this.path),s.validateCallback("Reference.transaction",1,t,!1),s.validateCallback("Reference.transaction",2,e,!0),mt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new s.Deferred;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new bt(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){s.validateArgCount("Reference.setPriority",1,2,arguments.length),gt("Reference.setPriority",this.path),ht("Reference.setPriority",1,t,!1),s.validateCallback("Reference.setPriority",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){s.validateArgCount("Reference.push",0,2,arguments.length),gt("Reference.push",this.path),ut("Reference.push",1,t,this.path,!0),s.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=wt(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return gt("Reference.onDisconnect",this.path),new _t(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(ee);ee.__referenceConstructor=un,Se.__referenceConstructor=un;var ln=function(){this.children={},this.childCount=0,this.value=null},cn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new ln),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof Z?e:new Z(e),i=this;null!==(n=r.getFront());)i=new t(n,i,s.safeGet(i.node_.children,n)||new ln),r=r.popFront();return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){s.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;D(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new Z(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=s.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),hn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});rn.MAX_TRANSACTION_RETRIES_=25,rn.prototype.transactions_init_=function(){this.transactionQueueTree_=new cn},rn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new un(this,t);o.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:v(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);a.currentInputSnapshot=u;var l=a.update(u.val());if(void 0===l){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var c=new Xt(a.currentInputSnapshot,new un(this,a.path),Nt);a.onComplete(null,!1,c)}}else{lt("transaction failed: Data returned ",l,a.path),a.status=hn.RUN;var h=this.transactionQueueTree_.subTree(t),p=h.getValue()||[];p.push(a),h.setValue(p);var f=void 0;"object"==typeof l&&null!==l&&s.contains(l,".priority")?(f=s.safeGet(l,".priority"),s.assert(st(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(this.serverSyncTree_.calcCompleteEventCache(t)||qt.EMPTY_NODE).getPriority().val(),f=f;var d=this.generateServerValues(),g=Bt(l,f),y=ie(g,d);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,y,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},rn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||qt.EMPTY_NODE},rn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);s.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===hn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},rn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,a=i.hash(),u=0;u<e.length;u++){var l=e[u];s.assert(l.status===hn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=hn.SENT,l.retryCount++;var c=Z.relativePath(t,l.path);o=o.updateChild(c,l.currentOutputSnapshotRaw)}var h=o.val(!0),p=t;this.server_.put(p.toString(),h,(function(r){n.log_("transaction put response",{path:p.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=hn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new un(n,e[a].path),l=new Xt(s,u,Nt);o.push(e[a].onComplete.bind(null,null,!0,l))}e[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),a=0;a<o.length;a++)K(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status=e[a].status===hn.SENT_NEEDS_ABORT?hn.NEEDS_ABORT:hn.RUN;else for(T("transaction at "+p.toString()+" failed: "+r),a=0;a<e.length;a++)e[a].status=hn.NEEDS_ABORT,e[a].abortReason=r;n.rerunTransactions_(t)}}),a)},rn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},rn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===hn.RUN})).map((function(t){return t.currentWriteId})),o=0;o<t.length;o++){var a=t[o],u=Z.relativePath(e,a.path),l=!1,c=void 0;if(s.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===hn.NEEDS_ABORT)l=!0,c=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===hn.RUN)if(a.retryCount>=rn.MAX_TRANSACTION_RETRIES_)l=!0,c="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,i);a.currentInputSnapshot=h;var p=t[o].update(h.val());if(void 0!==p){lt("transaction failed: Data returned ",p,a.path);var f=Bt(p);"object"==typeof p&&null!=p&&s.contains(p,".priority")||(f=f.updatePriority(h.getPriority()));var d=a.currentWriteId,v=this.generateServerValues(),g=ie(f,v);a.currentOutputSnapshotRaw=f,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(d),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,g,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(d,!0))}else l=!0,c="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],l&&(t[o].status=hn.COMPLETED,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete))if("nodata"===c){var y=new un(this,t[o].path),m=new Xt(t[o].currentInputSnapshot,y,Nt);n.push(t[o].onComplete.bind(null,null,!1,m))}else n.push(t[o].onComplete.bind(null,new Error(c),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)K(n[o]);this.sendReadyTransactions_()}},rn.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},rn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},rn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},rn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==hn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},rn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},rn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===hn.SENT_NEEDS_ABORT||(e[o].status===hn.SENT?(s.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=hn.SENT_NEEDS_ABORT,e[o].abortReason="set"):(s.assert(e[o].status===hn.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)K(n[o])}};var pn,fn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return pn||(pn=new t),pn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&S("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=et(n),i=r.repoInfo,o=void 0;return"undefined"!=typeof process&&(o=process.env.FIREBASE_DATABASE_EMULATOR_HOST),o&&(i=(r=et(n="http://"+o+"?ns="+i.namespace)).repoInfo),yt("Invalid Firebase Database URL",1,r),r.path.isEmpty()||S("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,t).database},t.prototype.deleteRepo=function(t){var e=s.safeGet(this.repos_,t.app.name);e&&s.safeGet(e,t.repoInfo_.toURLString())===t||S("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=s.safeGet(this.repos_,e.name);n||(this.repos_[e.name]=n={});var r=s.safeGet(n,t.toURLString());return r&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new rn(t,this.useRestClient_,e),n[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),dn=function(){function t(t){this.repo_=t,t instanceof rn||S("Don't call new Database() directly - please use firebase.database()."),this.root_=new un(t,Z.Empty),this.INTERNAL=new vn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),s.validateArgCount("database.ref",0,1,arguments.length),t instanceof un?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),s.validateArgCount(e,1,1,arguments.length);var n=et(t);yt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&S(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&S("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){s.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){s.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),vn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return this.database.checkDeleted_("delete"),fn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),gn=Object.freeze({__proto__:null,forceLongPolling:function(){Ye.forceDisallow(),ze.forceAllow()},forceWebSockets:function(){ze.forceDisallow()},isWebSocketsAvailable:function(){return Ye.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),yn=en;en.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},en.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var mn=Object.freeze({__proto__:null,DataConnection:yn,RealTimeConnection:Ze,hijackHash:function(t){var e=en.prototype.put;return en.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){en.prototype.put=e}},ConnectionTarget:tt,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){fn.getInstance().forceRestClient(t)}}),_n=dn.ServerValue;function bn(e){Qe=e.SDK_VERSION;var n=e.INTERNAL.registerService("database",(function(t,e,n){return fn.getInstance().databaseFromApp(t,n)}),{Reference:un,Query:ee,Database:dn,DataSnapshot:Xt,enableLogging:b,INTERNAL:gn,ServerValue:_n,TEST_ACCESS:mn},null,!0);s.isNodeSdk()&&(t.exports=n)}bn(o),e.DataSnapshot=Xt,e.Database=dn,e.OnDisconnect=_t,e.Query=ee,e.Reference=un,e.ServerValue=_n,e.enableLogging=b,e.registerDatabase=bn},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return E}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function p(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return u})),n.d(e,"setLogLevel",(function(){return l}));var i=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a=o.INFO,s=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var a=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case o.INFO:console.info.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case o.WARN:console.warn.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case o.ERROR:console.error.apply(console,r(["["+a+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=s,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function l(t){i.forEach((function(e){e.logLevel=t}))}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("mrSG"),o=n("zVF4"),a=n("q/0M"),s=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),u=new o.ErrorFactory("app","Firebase",s),l="[DEFAULT]",c=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.services_={},this.tokenListeners_=[],this.analyticsEventRequests_=[],this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t);var i=this;this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){r.tokenListeners_.push(t),setTimeout((function(){return t(null)}),0)},removeAuthTokenListener:function(t){r.tokenListeners_=r.tokenListeners_.filter((function(e){return e!==t}))},analytics:{logEvent:function(){i.analyticsEventRequests_.push(arguments)}}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){t.firebase_.INTERNAL.removeApp(t.name_);for(var e=[],n=0,r=Object.keys(t.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(t.services_[i]);o<a.length;o++)e.push(t.services_[i][a[o]]);return Promise.all(e.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))})).then((function(){t.isDeleted_=!0,t.services_={}}))},t.prototype._getService=function(t,e){if(void 0===e&&(e=l),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==l?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=l),this.services_[t]&&this.services_[t][e]&&delete this.services_[t][e]},t.prototype.extendApp=function(t){if(o.deepExtend(this,t),t.INTERNAL){if(t.INTERNAL.addAuthTokenListener){for(var e=0,n=this.tokenListeners_;e<n.length;e++)this.INTERNAL.addAuthTokenListener(n[e]);this.tokenListeners_=[]}if(t.INTERNAL.analytics){for(var r=0,i=this.analyticsEventRequests_;r<i.length;r++)this.INTERNAL.analytics.logEvent.apply(void 0,i[r]);this.analyticsEventRequests_=[]}}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var h=new a.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var p=self.firebase.SDK_VERSION;p&&p.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var f=function t(){var e=function(t){var e={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var a=r;void 0===a.name&&(a.name=l);var s=a.name;if("string"!=typeof s||!s)throw u.create("bad-app-name",{appName:String(s)});if(o.contains(e,s))throw u.create("duplicate-app",{appName:s});var h=new t(n,a,i);return e[s]=h,c(h,"create"),h},app:a,apps:null,SDK_VERSION:"7.3.0",INTERNAL:{registerService:function(e,l,c,p,f){if(void 0===f&&(f=!1),n[e])return h.debug("There were multiple attempts to register service "+e+"."),i[e];function d(t){if(void 0===t&&(t=a()),"function"!=typeof t[e])throw u.create("invalid-app-argument",{appName:e});return t[e]()}return n[e]=l,p&&(r[e]=p,s().forEach((function(t){p("create",t)}))),void 0!==c&&o.deepExtend(d,c),i[e]=d,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this._getService.bind(this,e);return r.apply(this,f?t:[])},d},removeApp:function(t){c(e[t],"delete"),delete e[t]},factories:n,useAsService:p}};function a(t){if(!o.contains(e,t=t||l))throw u.create("no-app",{appName:t});return e[t]}function s(){return Object.keys(e).map((function(t){return e[t]}))}function c(t,e){for(var i=0,o=Object.keys(n);i<o.length;i++){var a=p(0,o[i]);if(null===a)return;r[a]&&r[a](e,t)}}function p(t,e){return"serverAuth"===e?null:e}return i.default=i,Object.defineProperty(i,"apps",{get:s}),a.App=t,i}(c);return e.INTERNAL=i.__assign(i.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),d=f.initializeApp;f.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),d.apply(void 0,t)};var v=f;e.default=v,e.firebase=v},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function a(t){setTimeout((function(){throw t}))}var s={closed:!0,next:function(t){},error:function(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete:function(){}},u=Array.isArray||function(t){return t&&"number"==typeof t.length};function l(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);var h,p=c,f=((h=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,i=this._parents,o=this._unsubscribe,a=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,c=i?i.length:0;n;)n.remove(this),n=++s<c&&i[s]||null;if(r(o))try{o.call(this)}catch(f){e=!0,t=f instanceof p?d(f.errors):[f]}if(u(a))for(s=-1,c=a.length;++s<c;){var h=a[s];if(l(h))try{h.unsubscribe()}catch(f){e=!0,t=t||[],f instanceof p?t=t.concat(d(f.errors)):t.push(f)}}if(e)throw new p(t)}},t.prototype.add=function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t}()).EMPTY=function(t){return t.closed=!0,t}(new h),h);function d(t){return t.reduce((function(t,e){return t.concat(e instanceof p?e.errors:e)}),[])}var v="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),g=function(t){function e(n,r,i){var o=this;switch((o=t.call(this)||this).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s;break;case 1:if(!n){o.destination=s;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new y(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new y(o,n,r,i)}return o}return __extends(e,t),e.prototype[v]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(f),y=function(t){function e(e,n,i,o){var a,u=this;(u=t.call(this)||this)._parentSubscriber=e;var l=u;return r(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==s&&(r((l=Object.create(n)).unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(u))),u._context=l,u._next=a,u._error=i,u._complete=o,u}return __extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(a(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(g),m="function"==typeof Symbol&&Symbol.observable||"@@observable";function _(){}function b(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return w(t)}function w(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:_}var C,E=((C=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof g)return t;if(t[v])return t[v]()}return t||e||n?new g(t,e,n):new g(s)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.closed,n=t.destination,r=t.isStopped;if(e||r)return!1;t=n&&n instanceof g?n:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=S(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[m]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:w(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=S(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t}()).create=function(t){return new C(t)},C);function S(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function T(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}T.prototype=Object.create(Error.prototype);var I,k=T,A=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).subject=e,r.subscriber=n,r.closed=!1,r}return __extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(f),N=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).destination=e,n}return __extends(e,t),e}(g),x=((I=function(t){function e(){var e=this;return(e=t.call(this)||this).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return __extends(e,t),e.prototype[v]=function(){return new N(this)},e.prototype.lift=function(t){var e=new O(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new k;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new k;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new k;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new k;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new k;return this.hasError?(t.error(this.thrownError),f.EMPTY):this.isStopped?(t.complete(),f.EMPTY):(this.observers.push(t),new A(this,t))},e.prototype.asObservable=function(){var t=new E;return t.source=this,t},e}(E)).create=function(t,e){return new O(t,e)},I),O=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).destination=e,r.source=n,r}return __extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):f.EMPTY},e}(x);function R(t){return t&&"function"==typeof t.schedule}var P=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return __extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(g),D=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},L=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,a),e}};var M="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",U=function(t){return function(e){for(var n=t[M]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e}},j=function(t){return function(e){var n=t[m]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},F=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function V(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var q=function(t){if(t instanceof E)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[m])return j(t);if(F(t))return D(t);if(V(t))return L(t);if(t&&"function"==typeof t[M])return U(t);var e=l(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function H(t,e,n,r,i){if(void 0===i&&(i=new P(t,n,r)),!i.closed)return q(e)(i)}var W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(g);function B(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new z(t,e))}}var z=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new G(t,this.project,this.thisArg))},t}(),G=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e)||this).project=n,i.count=0,i.thisArg=r||i,i}return __extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(g);function Q(t,e){return new E(e?function(n){var r=new f,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:D(t))}function K(t,e){if(!e)return t instanceof E?t:new E(q(t));if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new E(e?function(n){var r=new f;return r.add(e.schedule((function(){var i=t[m]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}:j(t))}(t,e);if(V(t))return function(t,e){return new E(e?function(n){var r=new f;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}:L(t))}(t,e);if(F(t))return Q(t,e);if(function(t){return t&&"function"==typeof t[M]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new E(e?function(n){var r,i=new f;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[M](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}:U(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Y(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(Y((function(n,r){return K(t(n,r)).pipe(B((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new X(t,n))})}var X=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new Z(t,this.project,this.concurrent))},t}(),Z=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=this;return(i=t.call(this,e)||this).project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return __extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new P(this,void 0,void 0);this.destination.add(r),H(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(W);function J(t){return t}function $(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Y(J,t)}function tt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return R(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof E?t[0]:$(n)(Q(t,r))}function et(){return function(t){return t.lift(new nt(t))}}var nt=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new rt(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),rt=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).connectable=n,r}return __extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(g),it=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return __extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new f).add(this.source.subscribe(new at(this.getSubject(),this))),t.closed?(this._connection=null,t=f.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return et()(this)},e}(E).prototype,ot={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:it._subscribe},_isComplete:{value:it._isComplete,writable:!0},getSubject:{value:it.getSubject},connect:{value:it.connect},refCount:{value:it.refCount}},at=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).connectable=n,r}return __extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(N);function st(){return new x}function ut(){return function(t){return et()((e=st,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,ot);return r.source=t,r.subjectFactory=n,r})(t));var e}}var lt="__parameters__";function ct(t,e,n){var r=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,e);for(var i in r)this[i]=r[i]}}}(e);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof i)return r.apply(this,t),this;var n=new(i.bind.apply(i,[void 0].concat(t)));return o.annotation=n,o;function o(t,e,r){for(var i=t.hasOwnProperty(lt)?t[lt]:Object.defineProperty(t,lt,{value:[]})[lt];i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(n),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}var ht=ct("Inject",(function(t){return{token:t}})),pt=ct("Optional"),ft=ct("Self"),dt=ct("SkipSelf"),vt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function gt(t){for(var e in t)if(t[e]===gt)return e;throw Error("Could not find renamed property on target object.")}function yt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mt(t){var e=t[_t];return e&&e.token===t?e:null}var _t=gt({ngInjectableDef:gt});function bt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(bt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var wt=gt({__forward_ref__:gt});function Ct(t){return t.__forward_ref__=Ct,t.toString=function(){return bt(this())},t}function Et(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(wt)&&e.__forward_ref__===Ct?e():t}var St,Tt="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,kt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,At="undefined"!=typeof global&&global,Nt=Tt||At||It||kt,xt=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=yt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),Ot=new xt("INJECTOR",-1),Rt=new Object,Pt=/\n/gm,Dt="\u0275",Lt="__source",Mt=gt({provide:String,useValue:gt}),Ut=void 0;function jt(t){var e=Ut;return Ut=t,e}function Ft(t,e){if(void 0===e&&(e=vt.Default),void 0===Ut)throw new Error("inject() must be called from an injection context");return null===Ut?function(t,e,n){var r=mt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&vt.Optional)return null;throw new Error("Injector: NOT_FOUND ["+bt(t)+"]")}(t,0,e):Ut.get(t,e&vt.Optional?null:void 0,e)}function Vt(t,e){return void 0===e&&(e=vt.Default),(St||Ft)(t,e)}var qt=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=Rt),e===Rt){var n=new Error("NullInjectorError: No provider for "+bt(t)+"!");throw n.name="NullInjectorError",n}return e},t}();function Ht(t,e,n,r){void 0===r&&(r=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Dt?t.substr(2):t;var i=bt(e);if(e instanceof Array)i=e.map(bt).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):bt(s)))}i="{"+o.join(", ")+"}"}return n+(r?"("+r+")":"")+"["+i+"]: "+t.replace(Pt,"\n  ")}var Wt=function(){},Bt=function(){};function zt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Gt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Qt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Kt=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Nt),Yt="ngDebugContext",Xt="ngOriginalError",Zt="ngErrorLogger";function Jt(t){return t[Yt]}function $t(t){return t[Xt]}function te(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}var ee=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Zt]||te}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?Jt(t)?Jt(t):this._findContext($t(t)):null},t.prototype._findOriginalError=function(t){for(var e=$t(t);e&&$t(e);)e=$t(e);return e},t}(),ne=!0,re=!1;function ie(){return re=!0,ne}var oe=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),ae=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,se=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ue(t){return(t=String(t)).match(ae)||t.match(se)?t:(ie()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function le(t){for(var e={},n=0,r=t.split(",");n<r.length;n++){e[r[n]]=!0}return e}function ce(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];for(var a in o)o.hasOwnProperty(a)&&(n[a]=!0)}return n}var he,pe=le("area,br,col,hr,img,wbr"),fe=le("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),de=le("rp,rt"),ve=ce(de,fe),ge=ce(pe,ce(fe,le("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ce(de,le("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ve),ye=le("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),me=le("srcset"),_e=ce(ye,me,le("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),le("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),be=le("script,style,template"),we=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(!ge.hasOwnProperty(e))return this.sanitizedSomething=!0,!be.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(_e.hasOwnProperty(s)){var u=o.value;ye[s]&&(u=ue(u)),me[s]&&(n=u,u=(n=String(n)).split(",").map((function(t){return ue(t.trim())})).join(", ")),this.buf.push(" ",a,'="',Se(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();ge.hasOwnProperty(e)&&!pe.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(Se(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),Ce=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ee=/([^\#-~ |!])/g;function Se(t){return t.replace(/&/g,"&amp;").replace(Ce,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Ee,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Te(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ie=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),ke=function(){},Ae=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ne=/^url\(([^)]+)\)$/,xe=/([A-Z])/g;function Oe(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}var Re=function(){var t=function(){};return t.__NG_ELEMENT_ID__=function(){return Pe()},t}(),Pe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},De=new xt("The presence of this token marks an injector as being the root injector."),Le=function(t,e,n){return new qe(t,e,n)},Me=function(){var t=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?Le(t,e,""):Le(t.providers,t.parent,t.name||"")},t}();return t.THROW_IF_NOT_FOUND=Rt,t.NULL=new qt,t.ngInjectableDef=yt({token:t,providedIn:"any",factory:function(){return Vt(Ot)}}),t.__NG_ELEMENT_ID__=-1,t}(),Ue=function(t){return t},je=[],Fe=Ue,Ve=function(){return Array.prototype.slice.call(arguments)},qe=function(){function t(t,e,n){void 0===e&&(e=Me.NULL),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(Me,{token:Me,fn:Ue,deps:je,value:this,useNew:!1}),r.set(Ot,{token:Ot,fn:Ue,deps:je,value:this,useNew:!1}),function t(e,n){if(n)if((n=Et(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw We("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw We("Unexpected provider",n);var i=Et(n.provide),o=function(t){var e=function(t){var e=je,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6,o=Et(n[r]);if(o instanceof Array)for(var a=0,s=o;a<s.length;a++){var u=s[a];u instanceof pt||u==pt?i|=1:u instanceof dt||u==dt?i&=-3:u instanceof ft||u==ft?i&=-5:o=u instanceof ht?u.token:Et(u)}e.push({token:o,options:i})}}else if(t.useExisting)e=[{token:Et(t.useExisting),options:6}];else if(!(n||Mt in t))throw We("'deps' required",t);return e}(t),n=Ue,r=je,i=!1,o=Et(t.provide);if(Mt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=Et(t.useClass);else{if("function"!=typeof o)throw We("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==Ve)throw He(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:Ve,value:je});a.deps.push({token:i=n,options:6})}var s=e.get(i);if(s&&s.fn==Ve)throw He(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=vt.Default);var r=this._records.get(t);try{return function t(e,n,r,i,o,a){try{return function(e,n,r,i,o,a){var s;if(!n||a&vt.SkipSelf)a&vt.Self||(s=i.get(e,o,vt.Default));else{if((s=n.value)==Fe)throw Error("\u0275Circular dependency");if(s===je){n.value=Fe;var u=n.useNew,l=n.fn,c=n.deps,h=je;if(c.length){h=[];for(var p=0;p<c.length;p++){var f=c[p],d=f.options,v=2&d?r.get(f.token):void 0;h.push(t(f.token,v,r,v||4&d?i:Me.NULL,1&d?null:Me.THROW_IF_NOT_FOUND,vt.Default))}}n.value=s=u?new(l.bind.apply(l,[void 0].concat(h))):l.apply(void 0,h)}}return s}(e,n,r,i,o,a)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(e),n&&n.value==Fe&&(n.value=je),s}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){var i=t.ngTempTokenPath;throw e[Lt]&&i.unshift(e[Lt]),t.message=Ht("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(i,t,0,this.source)}},t.prototype.toString=function(){var t=[];return this._records.forEach((function(e,n){return t.push(bt(n))})),"StaticInjector["+t.join(", ")+"]"},t}();function He(t){return We("Cannot mix multi providers and regular providers",t)}function We(t,e){return new Error(Ht(t,e,"StaticInjectorError"))}var Be=new xt("AnalyzeForEntryComponents"),ze=null;function Ge(){if(!ze){var t=Nt.Symbol;if(t&&t.iterator)ze=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ze=r)}}return ze}function Qe(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ke(t,e){var n=Xe(t),r=Xe(e);return n&&r?function(t,e,n){for(var r=t[Ge()](),i=e[Ge()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,Ke):!(n||!(t&&("object"==typeof t||"function"==typeof t))||r||!(e&&("object"==typeof e||"function"==typeof e)))||Qe(t,e)}var Ye=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}();function Xe(t){return!!Ze(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ge()in t)}function Ze(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Je(t){return!!t&&"function"==typeof t.then}function $e(t){return!!t&&"function"==typeof t.subscribe}var tn=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}(),en=function(){},nn=function(){};function rn(t){var e=Error("No component factory found for "+bt(t)+". Did you add it to @NgModule.entryComponents?");return e[on]=t,e}var on="ngComponent",an=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw rn(t)},t}(),sn=function(){var t=function(){};return t.NULL=new an,t}(),un=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw rn(t);return new ln(e,this._ngModule)},t}(),ln=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return __extends(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(nn);function cn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var hn=function(){var t=function(t){this.nativeElement=t};return t.__NG_ELEMENT_ID__=function(){return pn(t)},t}(),pn=cn,fn=function(){},dn=function(){},vn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),gn=function(){var t=function(){};return t.__NG_ELEMENT_ID__=function(){return yn()},t}(),yn=cn,mn=new function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("8.2.13"),_n=function(){function t(){}return t.prototype.supports=function(t){return Xe(t)},t.prototype.create=function(t){return new wn(t)},t}(),bn=function(t,e){return e},wn=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||bn}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Tn(n,r,i)?e:n,a=Tn(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,p=h+c;l<=p&&p<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Xe(t))throw new Error("Error trying to diff '"+bt(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&Qe(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Qe(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Ge()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Qe(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Qe(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Qe(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Qe(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Cn(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Sn),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Sn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),Cn=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},En=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Qe(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Sn=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new En,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Tn(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var In=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Ze(t)},t.prototype.create=function(){return new kn},t}(),kn=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Ze(t)))throw new Error("Error trying to diff '"+bt(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new An(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){Qe(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))},t}(),An=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Nn=function(){var t=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new dt,new pt]]}},t.prototype.find=function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t}();return t.ngInjectableDef=yt({token:t,providedIn:"root",factory:function(){return new t([new _n])}}),t}(),xn=function(){var t=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new dt,new pt]]}},t.prototype.find=function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}();return t.ngInjectableDef=yt({token:t,providedIn:"root",factory:function(){return new t([new In])}}),t}(),On=[new In],Rn=new Nn([new _n]),Pn=new xn(On),Dn=function(){var t=function(){};return t.__NG_ELEMENT_ID__=function(){return Ln(t,hn)},t}(),Ln=cn,Mn=function(){var t=function(){};return t.__NG_ELEMENT_ID__=function(){return Un(t,hn)},t}(),Un=cn;function jn(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Fn(n,e),n}(i,t)}function Fn(t,e){t[Yt]=e,t[Zt]=e.logError.bind(e)}function Vn(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function qn(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Hn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Wn(t,e){return t.nodes[e]}function Bn(t,e){return t.nodes[e]}function zn(t,e){return t.nodes[e]}function Gn(t,e){return t.nodes[e]}function Qn(t,e){return t.nodes[e]}var Kn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Yn=function(){},Xn=new Map;function Zn(t){var e=Xn.get(t);return e||(e=bt(t)+"_"+Xn.size,Xn.set(t,e)),e}var Jn="$$undefined",$n="$$empty";function tr(t){return{id:Jn,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var er=0;function nr(t,e,n,r){return!(!(2&t.state)&&Qe(t.oldValues[e.bindingIndex+n],r))}function rr(t,e,n,r){return!!nr(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function ir(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ke(i,r)){var o=e.bindings[n].name;throw jn(Kn.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function or(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function ar(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function sr(t,e,n,r){try{return or(33554432&t.def.nodes[e].flags?Bn(t,e).componentView:t),Kn.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function ur(t){return t.parent?Bn(t.parent,t.parentNodeDef.nodeIndex):null}function lr(t){return t.parent?t.parentNodeDef.parent:null}function cr(t,e){switch(201347067&e.flags){case 1:return Bn(t,e.nodeIndex).renderElement;case 2:return Wn(t,e.nodeIndex).renderText}}function hr(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function pr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function fr(t){var e={},n=0,r={};return t&&t.forEach((function(t){var i=t[0],o=t[1];"number"==typeof i?(e[i]=o,n|=function(t){return 1<<t%32}(i)):r[i]=o})),{matchedQueries:e,references:r,matchedQueryIds:n}}function dr(t,e){return t.map((function(t){var n,r;return Array.isArray(t)?(r=t[0],n=t[1]):(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Lt,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:Zn(n)}}))}function vr(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Qt.Native?Bn(t,n.renderParent.nodeIndex).renderElement:void 0:e}var gr=new WeakMap;function yr(t){var e=gr.get(t);return e||((e=t((function(){return Yn}))).factory=t,gr.set(t,e)),e}function mr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(cr(t,t.def.lastRenderRootNode))),_r(t,e,0,t.def.nodes.length-1,n,r,i)}function _r(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&wr(t,u,e,i,o,a),s+=u.childCount}}function br(t,e,n,r,i,o){for(var a=t;a&&!hr(a);)a=a.parent;for(var s=a.parent,u=lr(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=s.def.nodes[c];h.ngContentIndex===e&&wr(s,h,n,r,i,o),c+=h.childCount}if(!s.parent){var p=t.root.projectableNodes[e];if(p)for(c=0;c<p.length;c++)Cr(t,p[c],n,r,i,o)}}function wr(t,e,n,r,i,o){if(8&e.flags)br(t,e.ngContent.index,n,r,i,o);else{var a=cr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Cr(t,a,n,r,i,o),32&e.bindingFlags&&Cr(Bn(t,e.nodeIndex).componentView,a,n,r,i,o)):Cr(t,a,n,r,i,o),16777216&e.flags)for(var s=Bn(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)mr(s[u],n,r,i,o);1&e.flags&&!e.element.name&&_r(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Cr(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var Er=/^:([^:]+):(.+)$/;function Sr(t){if(":"===t[0]){var e=t.match(Er);return[e[1],e[2]]}return["",t]}function Tr(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}var Ir=new Object,kr=Zn(Me),Ar=Zn(Ot),Nr=Zn(Wt);function xr(t,e,n,r){return n=Et(n),{index:-1,deps:dr(r,bt(e)),flags:t,token:e,value:n}}function Or(t,e,n){void 0===n&&(n=Me.THROW_IF_NOT_FOUND);var r,i,o=jt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case kr:case Ar:case Nr:return t}var s,u=t._def.providersByKey[a];if(u){var l=t._providers[u.index];return void 0===l&&(l=t._providers[u.index]=Rr(t,u)),l===Ir?void 0:l}if((s=mt(e.token))&&(r=t,null!=(i=s).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(r,i.providedIn)||"root"===i.providedIn&&r._def.isRoot))){var c=t._providers.length;return t._def.providers[c]=t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:c,token:e.token},t._providers[c]=Ir,t._providers[c]=Rr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{jt(o)}}function Rr(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(Or(t,n[0]));case 2:return new e(Or(t,n[0]),Or(t,n[1]));case 3:return new e(Or(t,n[0]),Or(t,n[1]),Or(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=Or(t,n[o]);return new(e.bind.apply(e,[void 0].concat(i)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(Or(t,n[0]));case 2:return e(Or(t,n[0]),Or(t,n[1]));case 3:return e(Or(t,n[0]),Or(t,n[1]),Or(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=Or(t,n[o]);return e.apply(void 0,i)}}(t,e.value,e.deps);break;case 2048:n=Or(t,e.deps[0]);break;case 256:n=e.value}return n===Ir||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Ir:n}function Pr(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Gt(n,e),Kn.dirtyParentQueries(r),Lr(r),r}function Dr(t,e,n){var r=e?cr(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);mr(n,2,i,o,void 0)}function Lr(t){mr(t,3,null,null,void 0)}var Mr=new Object;function Ur(t,e,n,r,i,o){return new jr(t,e,n,r,i,o)}var jr=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this)||this).selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return __extends(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=yr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=Kn.createRootView(t,e||[],n,i,r,Mr),s=zn(a,o).instance;return n&&a.renderer.setAttribute(Bn(a,0).renderElement,"ng-version",mn.full),new Fr(a,new Wr(a),s)},e}(nn),Fr=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this)._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return __extends(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new hn(Bn(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Qr(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(en);function Vr(t,e,n){return new qr(t,e,n)}var qr=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new hn(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Qr(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=lr(t),t=t.parent;return t?new Qr(t,e):new Qr(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Pr(this._data,t);Kn.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Wr(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof ln||(i=o.get(Wt));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a,s=t;return n=this._view,r=this._data,i=e,o=s._view,a=r.viewContainer._embeddedViews,null==i&&(i=a.length),o.viewContainerParent=n,zt(a,i,o),function(t,e){var n=ur(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var n=e.parent;n;)n.childFlags|=4,n=n.parent}}(e.parent.def,e.parentNodeDef)}}(r,o),Kn.dirtyParentQueries(o),Dr(r,i>0?a[i-1]:null,o),s.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return n=this._data,r=s,i=e,o=n.viewContainer._embeddedViews,a=o[r],Gt(o,r),null==i&&(i=o.length),zt(o,i,a),Kn.dirtyParentQueries(a),Lr(a),Dr(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Pr(this._data,t);e&&Kn.destroyView(e)},t.prototype.detach=function(t){var e=Pr(this._data,t);return e?new Wr(e):null},t}();function Hr(t){return new Wr(t)}var Wr=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return mr(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){or(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Kn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){Kn.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Kn.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Lr(this._view),Kn.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Br(t,e){return new zr(t,e)}var zr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this)._parentView=e,r._def=n,r}return __extends(e,t),e.prototype.createEmbeddedView=function(t){return new Wr(Kn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new hn(Bn(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(Dn);function Gr(t,e){return new Qr(t,e)}var Qr=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=Me.THROW_IF_NOT_FOUND),Kn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Zn(t)},e)},t}();function Kr(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=Bn(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Wn(t,n.nodeIndex).renderText;if(20240&n.flags)return zn(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Yr(t){return new Xr(t.renderer)}var Xr=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Sr(e),r=n[0],i=n[1],o=this.delegate.createElement(i,r);return t&&this.delegate.appendChild(t,o),o},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=Sr(e),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Zr(t,e,n,r){return new Jr(t,e,n,r)}var Jr=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Rr(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=Me.THROW_IF_NOT_FOUND),void 0===n&&(n=vt.Default);var r=0;return n&vt.SkipSelf?r|=1:n&vt.Self&&(r|=4),Or(this,{token:t,tokenKey:Zn(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(sn)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+bt(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==Ir){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach((function(t){return t()}))},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),$r=Zn(fn),ti=Zn(gn),ei=Zn(hn),ni=Zn(Mn),ri=Zn(Dn),ii=Zn(Re),oi=Zn(Me),ai=Zn(Ot);function si(t,e,n,r,i,o,a,s){var u=[];if(a)for(var l in a){var c=a[l],h=c[0],p=c[1];u[h]={flags:8,name:l,nonMinifiedName:p,ns:null,securityContext:null,suffix:null}}var f=[];if(s)for(var d in s)f.push({type:1,propName:d,target:null,eventName:s[d]});return li(t,e|=16384,n,r,i,i,o,u,f)}function ui(t,e,n,r,i){return li(-1,t,e,0,n,r,i)}function li(t,e,n,r,i,o,a,s,u){var l=fr(n),c=l.matchedQueries,h=l.references,p=l.matchedQueryIds;u||(u=[]),s||(s=[]),o=Et(o);var f=dr(a,bt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:p,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Tr(s),outputs:u,element:null,provider:{token:i,value:o,deps:f},text:null,query:null,ngContent:null}}function ci(t,e){return di(t,e)}function hi(t,e){for(var n=t;n.parent&&!hr(n);)n=n.parent;return vi(n.parent,lr(n),!0,e.provider.value,e.provider.deps)}function pi(t,e){var n=vi(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName];if(!$e(o))throw new Error("@Output "+i.propName+" not initialized in '"+n.constructor.name+"'.");var a=o.subscribe(fi(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=a.unsubscribe.bind(a)}return n}function fi(t,e,n){return function(r){return sr(t,e,n,r)}}function di(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return vi(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(yi(t,e,n,i[0]));case 2:return r(yi(t,e,n,i[0]),yi(t,e,n,i[1]));case 3:return r(yi(t,e,n,i[0]),yi(t,e,n,i[1]),yi(t,e,n,i[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=yi(t,e,n,i[s]);return r.apply(void 0,a)}}(t,e.parent,n,r.value,r.deps);case 2048:return yi(t,e.parent,n,r.deps[0]);case 256:return r.value}}function vi(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(yi(t,e,n,i[0]));case 2:return new r(yi(t,e,n,i[0]),yi(t,e,n,i[1]));case 3:return new r(yi(t,e,n,i[0]),yi(t,e,n,i[1]),yi(t,e,n,i[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=yi(t,e,n,i[s]);return new(r.bind.apply(r,[void 0].concat(a)))}}var gi={};function yi(t,e,n,r,i){if(void 0===i&&(i=Me.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===ii&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case $r:return Yr(mi(s,e,n));case ti:return mi(s,e,n).renderer;case ei:return new hn(Bn(s,e.nodeIndex).renderElement);case ni:return Bn(s,e.nodeIndex).viewContainer;case ri:if(e.element.template)return Bn(s,e.nodeIndex).template;break;case ii:return Hr(mi(s,e,n));case oi:case ai:return Gr(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var l=zn(s,u.nodeIndex);return l||(l={instance:di(s,u)},s.nodes[u.nodeIndex]=l),l.instance}}n=hr(s),e=lr(s),s=s.parent,4&r.flags&&(s=null)}var c=o.root.injector.get(r.token,gi);return c!==gi||i===gi?c:o.root.ngModule.injector.get(r.token,i)}function mi(t,e,n){var r;if(n)r=Bn(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!hr(r);)r=r.parent;return r}function _i(t,e,n,r,i,o){if(32768&n.flags){var a=Bn(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=Ye.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new tn(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function bi(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&Ci(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=wi(t,a,e,r)),a=a.parent}}function wi(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&Ci(t,i,o.flags&n,r++),i+=o.childCount}return r}function Ci(t,e,n,r){var i=zn(t,e);if(i){var o=i.instance;o&&(Kn.setCurrentNode(t,e),1048576&n&&Hn(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Hn(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var Ei=new xt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Kt}}),Si={},Ti=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Ii=void 0,ki=["en",[["a","p"],["AM","PM"],Ii],[["AM","PM"],Ii,Ii],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ii,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ii,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ii,"{1} 'at' {0}",Ii],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Ai="en-US";function Ni(t){null==t&&function(t){throw new Error("ASSERTION ERROR: Expected localeId to be defined")}(),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var xi=function(t){function e(e){void 0===e&&(e=!1);var n=this;return(n=t.call(this)||this).__isAsync=e,n}return __extends(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout((function(){return n(t)}))}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var s=t.prototype.subscribe.call(this,i,o,a);return e instanceof f&&e.add(s),s},e}(x);function Oi(){return this._results[Ge()]()}var Ri=function(){function t(){this.dirty=!0,this._results=[],this.changes=new xi,this.length=0;var e=Ge(),n=t.prototype;n[e]||(n[e]=Oi)}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),Pi=new xt("Application Initializer"),Di=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Je(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}},t}(),Li=new xt("AppId");function Mi(){return""+Ui()+Ui()+Ui()}function Ui(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var ji=new xt("Platform Initializer"),Fi=new xt("Platform ID"),Vi=new xt("appBootstrapListener"),qi=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}(),Hi=new xt("LocaleId"),Wi=!1;function Bi(){throw new Error("Runtime compiler is not loaded")}var zi,Gi,Qi=Bi,Ki=Bi,Yi=Bi,Xi=Bi,Zi=function(){function t(){this.compileModuleSync=Qi,this.compileModuleAsync=Ki,this.compileModuleAndAllComponentsSync=Yi,this.compileModuleAndAllComponentsAsync=Xi}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),Ji=function(){};var $i,to=!(!($i=Nt.wtf)||!(zi=$i.trace)||(Gi=zi.events,0));function eo(t,e){return null}var no=to?function(t,e){return void 0===e&&(e=null),Gi.createScope(t,e)}:function(t,e){return eo},ro=to?function(t,e){return zi.leaveScope(t,e),e}:function(t,e){return e},io=Promise.resolve(0);function oo(t){"undefined"==typeof Zone?io.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var ao=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xi(!1),this.onMicrotaskEmpty=new xi(!1),this.onStable=new xi(!1),this.onError=new xi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return co(e),t.invokeTask(r,i,o,a)}finally{ho(e)}},onInvoke:function(t,n,r,i,o,a,s){try{return co(e),t.invoke(r,i,o,a,s)}finally{ho(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,lo(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular((function(){return e.onError.emit(i)})),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,uo,so,so);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function so(){}var uo={};function lo(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function co(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ho(t){t._nesting--,lo(t)}var po,fo=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xi,this.onMicrotaskEmpty=new xi,this.onStable=new xi,this.onError=new xi}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),vo=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){ao.assertNotInAngularZone(),oo((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())oo((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),go=function(){function t(){this._applications=new Map,yo.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),yo.findTestabilityInTree(this,t,e)},t}(),yo=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),mo=new xt("AllowMultipleToken"),_o=function(t,e){this.name=t,this.token=e};function bo(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new xt(r);return function(e){void 0===e&&(e=[]);var o=wo();if(!o||o.injector.get(mo,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(po&&!po.destroyed&&!po.injector.get(mo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");po=t.get(Co);var e=t.get(ji,null);e&&e.forEach((function(t){return t()}))}(Me.create({providers:a,name:r}))}return function(t){var e=wo();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function wo(){return po&&!po.destroyed?po:null}var Co=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new fo:("zone.js"===n?void 0:n)||new ao({enableLongStackTrace:ie()}),o=[{provide:ao,useValue:i}];return i.run((function(){var e=Me.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(ee,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Wi&&Ni(n.injector.get(Hi,Ai)||Ai),n.onDestroy((function(){return Io(r._modules,n)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})})),function(t,e,i){try{var o=((a=n.injector.get(Di)).runInitializers(),a.donePromise.then((function(){return r._moduleDoBootstrap(n),n})));return Je(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(a,i)}))},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=Eo({},e);return function(t,e,n){return t.get(Ji).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then((function(t){return n.bootstrapModuleFactory(t,r)}))},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(To);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+bt(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function Eo(t,e){return Array.isArray(e)?e.reduce(Eo,t):Object.assign({},t,e)}var So,To=((So=function(){function t(t,e,n,r,i,o){var a=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ie(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var s=new E((function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){t.next(a._stable),t.complete()}))})),u=new E((function(t){var e;a._zone.runOutsideAngular((function(){e=a._zone.onStable.subscribe((function(){ao.assertNotInAngularZone(),oo((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){ao.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=tt(s,u.pipe(ut()))}return t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof nn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof ln?null:this._injector.get(Wt),o=n.create(Me.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(vo,null);return a&&o.injector.get(go).registerApplication(o.location.nativeElement,a),this._loadComponent(o),ie()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0;for(var r=0,i=this._views;r<i.length;r++)i[r].detectChanges();if(this._enforceNoNewChanges)for(var o=0,a=this._views;o<a.length;o++)a[o].checkNoChanges()}catch(s){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1,ro(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;Io(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Vi,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),Io(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach((function(t){return t.destroy()}))},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t}())._tickScope=no("ApplicationRef#tick()"),So);function Io(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var ko=function(){},Ao=function(){},No={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},xo=function(){function t(t,e){this._compiler=t,this._config=e||No}return t.prototype.load=function(t){return!Wi&&this._compiler instanceof Zi?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=t.split("#"),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return Oo(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))},t.prototype.loadFactory=function(t){var e=t.split("#"),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return Oo(t,r,i)}))},t}();function Oo(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var Ro=function(t,e){this.name=t,this.callback=e},Po=function(){function t(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Do&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),Do=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return __extends(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,r=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(e)),e.forEach((function(e){e.parent&&e.parent.removeChild(e),t.parent=r})))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var n=[];return function t(n,r,i){n.childNodes.forEach((function(n){n instanceof e&&(r(n)&&i.push(n),t(n,r,i))}))}(this,t,n),n},e.prototype.queryAllNodes=function(t){var n=[];return function t(n,r,i){n instanceof e&&n.childNodes.forEach((function(n){r(n)&&i.push(n),n instanceof e&&t(n,r,i)}))}(this,t,n),n},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter((function(t){return t instanceof e}))},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach((function(n){n.name==t&&n.callback(e)}))},e}(Po),Lo=new Map,Mo=function(t){return Lo.get(t)||null};function Uo(t){Lo.set(t.nativeNode,t)}var jo=bo(null,"core",[{provide:Fi,useValue:"unknown"},{provide:Co,deps:[Me]},{provide:go,deps:[]},{provide:qi,deps:[]}]);function Fo(){return Rn}function Vo(){return Pn}function qo(t){return t?(Wi&&Ni(t),t):Ai}function Ho(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}var Wo=function(t){};function Bo(t,e,n,r,i,o){t|=1;var a=fr(e),s=a.matchedQueries,u=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?yr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Yn},provider:null,text:null,query:null,ngContent:null}}function zo(t,e,n,r,i,o,a,s,u,l,c,h){var p;void 0===a&&(a=[]),l||(l=Yn);var f=fr(n),d=f.matchedQueries,v=f.references,g=f.matchedQueryIds,y=null,m=null;o&&(y=(p=Sr(o))[0],m=p[1]),s=s||[];for(var _=new Array(s.length),b=0;b<s.length;b++){var w=s[b],C=w[0],E=w[1],S=w[2],T=Sr(E),I=T[0],k=T[1],A=void 0,N=void 0;switch(15&C){case 4:N=S;break;case 1:case 8:A=S}_[b]={flags:C,ns:I,name:k,nonMinifiedName:k,securityContext:A,suffix:N}}u=u||[];var x=new Array(u.length);for(b=0;b<u.length;b++){var O=u[b],R=O[0],P=O[1];x[b]={type:0,target:R,eventName:P,propName:null}}var D=(a=a||[]).map((function(t){var e=t[0],n=t[1],r=Sr(e);return[r[0],r[1],n]}));return h=function(t){if(t&&t.id===Jn){var e=null!=t.encapsulation&&t.encapsulation!==Qt.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+er++:$n}return t&&t.id===$n&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:g,references:v,ngContentIndex:r,childCount:i,bindings:_,bindingFlags:Tr(_),outputs:x,element:{ns:y,name:m,attrs:D,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:l||Yn},provider:null,text:null,query:null,ngContent:null}}function Go(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,a=t.renderer;if(t.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=vr(t,e,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===Qt.ShadowDom);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var l=i.attrs[u],c=l[0],h=l[1],p=l[2];a.setAttribute(r,h,p,c)}return r}function Qo(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=Ko(t,n.nodeIndex,(h=o.eventName,(c=o.target)?c+":"+h:h)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var l=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=l}var c,h}function Ko(t,e,n){return function(r){return sr(t,e,n,r)}}function Yo(t,e,n,r){if(!rr(t,e,n,r))return!1;var i=e.bindings[n],o=Bn(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(Ie.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}function Xo(t){for(var e=t.def.nodeMatchedQueries;t.parent&&pr(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Qn(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&Qn(t,i).setDirty(),i+=o.childCount}}function Zo(t,e){var n=Qn(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=Jo(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=zn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Jo(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function Jo(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push($o(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Bn(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Jo(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],p=ur(h);p&&p===u&&Jo(h,0,h.def.nodes.length-1,r,i)}var f=u.template._projectedViews;if(f)for(c=0;c<f.length;c++){var d=f[c];Jo(d,0,d.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function $o(t,e,n){if(null!=n)switch(n){case 1:return Bn(t,e.nodeIndex).renderElement;case 0:return new hn(Bn(t,e.nodeIndex).renderElement);case 2:return Bn(t,e.nodeIndex).template;case 3:return Bn(t,e.nodeIndex).viewContainer;case 4:return zn(t,e.nodeIndex).instance}}function ta(t,e,n){var r=vr(t,e,n);r&&br(t,n.ngContent.index,1,r,null,void 0)}function ea(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function na(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=vr(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function ra(t,e){return(null!=t?t.toString():"")+e.suffix}function ia(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,l=null,c=null,h=!1,p=!1,f=null,d=0;d<e.length;d++){var v=e[d];if(v.nodeIndex=d,v.parent=l,v.bindingIndex=i,v.outputIndex=o,v.renderParent=c,a|=v.flags,u|=v.matchedQueryIds,v.element){var g=v.element;g.publicProviders=l?l.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,p=!1,v.element.template&&(u|=v.element.template.nodeMatchedQueries)}if(aa(l,v,e.length),i+=v.bindings.length,o+=v.outputs.length,!c&&3&v.flags&&(f=v),20224&v.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var y=0!=(32768&v.flags);0==(8192&v.flags)||y?l.element.publicProviders[Zn(v.provider.token)]=v:(p||(p=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Zn(v.provider.token)]=v),y&&(l.element.componentProvider=v)}if(l?(l.childFlags|=v.flags,l.directChildFlags|=v.flags,l.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(l.childMatchedQueries|=v.element.template.nodeMatchedQueries)):s|=v.flags,v.childCount>0)l=v,oa(v)||(c=v);else for(;l&&d===l.nodeIndex+l.childCount;){var m=l.parent;m&&(m.childFlags|=l.childFlags,m.childMatchedQueries|=l.childMatchedQueries),c=(l=m)&&oa(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Yn,updateRenderer:r||Yn,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:f}}function oa(t){return 0!=(1&t.flags)&&null===t.element.name}function aa(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function sa(t,e,n,r){var i=ca(t.root,t.renderer,t,e,n);return ha(i,t.component,r),pa(i),i}function ua(t,e,n){var r=ca(t,t.renderer,null,null,e);return ha(r,n,n),pa(r),r}function la(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,ca(t.root,i,t,e.element.componentProvider,n)}function ca(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function ha(t,e,n){t.component=e,t.context=n}function pa(t){var e;hr(t)&&(e=Bn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i],a=void 0;switch(Kn.setCurrentNode(t,i),201347067&o.flags){case 1:var s=Go(t,e,o),u=void 0;if(33554432&o.flags){var l=yr(o.element.componentView);u=Kn.createComponentView(t,o,l,s)}Qo(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?Br(t,o):void 0},16777216&o.flags&&(a.viewContainer=Vr(t,o,a));break;case 2:a=na(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:ci(t,o)});break;case 16:a={instance:hi(t,o)};break;case 16384:(a=r[i])||(a={instance:pi(t,o)}),32768&o.flags&&ha(Bn(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Ri;break;case 8:ta(t,e,o),a=void 0}r[i]=a}wa(t,ba.CreateViewNodes),Ta(t,201326592,268435456,0)}function fa(t){ga(t),Kn.updateDirectives(t,1),Ca(t,ba.CheckNoChanges),Kn.updateRenderer(t,1),wa(t,ba.CheckNoChanges),t.state&=-97}function da(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,qn(t,0,256),ga(t),Kn.updateDirectives(t,0),Ca(t,ba.CheckAndUpdate),Ta(t,67108864,536870912,0);var e=qn(t,256,512);bi(t,2097152|(e?1048576:0)),Kn.updateRenderer(t,0),wa(t,ba.CheckAndUpdate),Ta(t,134217728,536870912,0),bi(t,8388608|((e=qn(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,qn(t,768,1024)}function va(t,e,n,r,i,o,a,s,u,l,c,h,p){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=e.bindings.length,f=!1;return p>0&&Yo(t,e,0,n)&&(f=!0),p>1&&Yo(t,e,1,r)&&(f=!0),p>2&&Yo(t,e,2,i)&&(f=!0),p>3&&Yo(t,e,3,o)&&(f=!0),p>4&&Yo(t,e,4,a)&&(f=!0),p>5&&Yo(t,e,5,s)&&(f=!0),p>6&&Yo(t,e,6,u)&&(f=!0),p>7&&Yo(t,e,7,l)&&(f=!0),p>8&&Yo(t,e,8,c)&&(f=!0),p>9&&Yo(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,o,a,s,u,l,c,h);case 2:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=!1,f=e.bindings,d=f.length;if(d>0&&rr(t,e,0,n)&&(p=!0),d>1&&rr(t,e,1,r)&&(p=!0),d>2&&rr(t,e,2,i)&&(p=!0),d>3&&rr(t,e,3,o)&&(p=!0),d>4&&rr(t,e,4,a)&&(p=!0),d>5&&rr(t,e,5,s)&&(p=!0),d>6&&rr(t,e,6,u)&&(p=!0),d>7&&rr(t,e,7,l)&&(p=!0),d>8&&rr(t,e,8,c)&&(p=!0),d>9&&rr(t,e,9,h)&&(p=!0),p){var v=e.text.prefix;d>0&&(v+=ra(n,f[0])),d>1&&(v+=ra(r,f[1])),d>2&&(v+=ra(i,f[2])),d>3&&(v+=ra(o,f[3])),d>4&&(v+=ra(a,f[4])),d>5&&(v+=ra(s,f[5])),d>6&&(v+=ra(u,f[6])),d>7&&(v+=ra(l,f[7])),d>8&&(v+=ra(c,f[8])),d>9&&(v+=ra(h,f[9]));var g=Wn(t,e.nodeIndex).renderText;t.renderer.setValue(g,v)}return p}(t,e,n,r,i,o,a,s,u,l,c,h);case 16384:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=zn(t,e.nodeIndex),f=p.instance,d=!1,v=void 0,g=e.bindings.length;return g>0&&nr(t,e,0,n)&&(d=!0,v=_i(t,p,e,0,n,v)),g>1&&nr(t,e,1,r)&&(d=!0,v=_i(t,p,e,1,r,v)),g>2&&nr(t,e,2,i)&&(d=!0,v=_i(t,p,e,2,i,v)),g>3&&nr(t,e,3,o)&&(d=!0,v=_i(t,p,e,3,o,v)),g>4&&nr(t,e,4,a)&&(d=!0,v=_i(t,p,e,4,a,v)),g>5&&nr(t,e,5,s)&&(d=!0,v=_i(t,p,e,5,s,v)),g>6&&nr(t,e,6,u)&&(d=!0,v=_i(t,p,e,6,u,v)),g>7&&nr(t,e,7,l)&&(d=!0,v=_i(t,p,e,7,l,v)),g>8&&nr(t,e,8,c)&&(d=!0,v=_i(t,p,e,8,c,v)),g>9&&nr(t,e,9,h)&&(d=!0,v=_i(t,p,e,9,h,v)),v&&f.ngOnChanges(v),65536&e.flags&&Hn(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),d}(t,e,n,r,i,o,a,s,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=e.bindings,f=!1,d=p.length;if(d>0&&rr(t,e,0,n)&&(f=!0),d>1&&rr(t,e,1,r)&&(f=!0),d>2&&rr(t,e,2,i)&&(f=!0),d>3&&rr(t,e,3,o)&&(f=!0),d>4&&rr(t,e,4,a)&&(f=!0),d>5&&rr(t,e,5,s)&&(f=!0),d>6&&rr(t,e,6,u)&&(f=!0),d>7&&rr(t,e,7,l)&&(f=!0),d>8&&rr(t,e,8,c)&&(f=!0),d>9&&rr(t,e,9,h)&&(f=!0),f){var v=Gn(t,e.nodeIndex),g=void 0;switch(201347067&e.flags){case 32:g=new Array(p.length),d>0&&(g[0]=n),d>1&&(g[1]=r),d>2&&(g[2]=i),d>3&&(g[3]=o),d>4&&(g[4]=a),d>5&&(g[5]=s),d>6&&(g[6]=u),d>7&&(g[7]=l),d>8&&(g[8]=c),d>9&&(g[9]=h);break;case 64:g={},d>0&&(g[p[0].name]=n),d>1&&(g[p[1].name]=r),d>2&&(g[p[2].name]=i),d>3&&(g[p[3].name]=o),d>4&&(g[p[4].name]=a),d>5&&(g[p[5].name]=s),d>6&&(g[p[6].name]=u),d>7&&(g[p[7].name]=l),d>8&&(g[p[8].name]=c),d>9&&(g[p[9].name]=h);break;case 128:var y=n;switch(d){case 1:g=y.transform(n);break;case 2:g=y.transform(r);break;case 3:g=y.transform(r,i);break;case 4:g=y.transform(r,i,o);break;case 5:g=y.transform(r,i,o,a);break;case 6:g=y.transform(r,i,o,a,s);break;case 7:g=y.transform(r,i,o,a,s,u);break;case 8:g=y.transform(r,i,o,a,s,u,l);break;case 9:g=y.transform(r,i,o,a,s,u,l,c);break;case 10:g=y.transform(r,i,o,a,s,u,l,c,h)}}v.value=g}return f}(t,e,n,r,i,o,a,s,u,l,c,h);default:throw"unreachable"}}(t,e,r,i,o,a,s,u,l,c,h,p):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)Yo(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)rr(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=ra(n[o],r[o]);a=e.text.prefix+a;var s=Wn(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=zn(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)nr(t,e,s,n[s])&&(o=!0,a=_i(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&Hn(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)rr(t,e,o,n[o])&&(i=!0);if(i){var a=Gn(t,e.nodeIndex),s=void 0;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(o=0;o<n.length;o++)s[r[o].name]=n[o];break;case 128:var u=n[0],l=n.slice(1);s=u.transform.apply(u,l)}a.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function ga(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=Bn(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,ar(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ya(t,e,n,r,i,o,a,s,u,l,c,h,p){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){var p=e.bindings.length;p>0&&ir(t,e,0,n),p>1&&ir(t,e,1,r),p>2&&ir(t,e,2,i),p>3&&ir(t,e,3,o),p>4&&ir(t,e,4,a),p>5&&ir(t,e,5,s),p>6&&ir(t,e,6,u),p>7&&ir(t,e,7,l),p>8&&ir(t,e,8,c),p>9&&ir(t,e,9,h)}(t,e,r,i,o,a,s,u,l,c,h,p):function(t,e,n){for(var r=0;r<n.length;r++)ir(t,e,r,n[r])}(t,e,r),!1}function ma(t,e){if(Qn(t,e.nodeIndex).dirty)throw jn(Kn.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function _a(t){if(!(128&t.state)){if(Ca(t,ba.Destroy),wa(t,ba.Destroy),bi(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=ur(t);if(e){var n=e.template._projectedViews;n&&(Gt(n,n.indexOf(t)),Kn.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Bn(t,n).renderElement):2&r.flags?t.renderer.destroyNode(Wn(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Qn(t,n).destroy()}}(t),hr(t)&&t.renderer.destroy(),t.state|=128}}var ba=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function wa(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Ea(Bn(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Ca(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Bn(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)Ea(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Ea(t,e){var n=t.state;switch(e){case ba.CheckNoChanges:0==(128&n)&&(12==(12&n)?fa(t):64&n&&Sa(t,ba.CheckNoChangesProjectedViews));break;case ba.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?fa(t):64&n&&Sa(t,e));break;case ba.CheckAndUpdate:0==(128&n)&&(12==(12&n)?da(t):64&n&&Sa(t,ba.CheckAndUpdateProjectedViews));break;case ba.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?da(t):64&n&&Sa(t,e));break;case ba.Destroy:_a(t);break;case ba.CreateViewNodes:pa(t)}}function Sa(t,e){Ca(t,e),wa(t,e)}function Ta(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(Kn.setCurrentNode(t,a.nodeIndex),r){case 0:Zo(t,a);break;case 1:ma(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var Ia=!1;function ka(t,e,n,r,i,o){var a=i.injector.get(dn);return ua(Na(t,i,a,e,n),r,o)}function Aa(t,e,n,r,i,o){var a=i.injector.get(dn),s=Na(t,i,new ss(a),e,n),u=Fa(r);return os(Ka.create,ua,null,[s,u,o])}function Na(t,e,n,r,i){var o=e.injector.get(ke),a=e.injector.get(ee),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function xa(t,e,n,r){var i=Fa(n);return os(Ka.create,sa,null,[t,e,i,r])}function Oa(t,e,n,r){return n=La.get(e.element.componentProvider.provider.token)||Fa(n),os(Ka.create,la,null,[t,e,n,r])}function Ra(t,e,n,r){return Zr(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Pa.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach((function(t){var r=Pa.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)})),t.modules.forEach((function(t){Da.forEach((function(r,i){mt(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)}))})),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasOverrides,r=e.hasDeprecatedOverrides;return n?(function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];r&&(n.flags|=4096);var i=Pa.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=dr(i.deps),n.value=i.value)}if(Da.size>0){var o=new Set(t.modules);Da.forEach((function(e,n){if(o.has(mt(n).providedIn)){var i={token:n,flags:e.flags|(r?4096:0),deps:dr(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[Zn(n)]=i}}))}}(t=t.factory((function(){return Yn}))),t):t}(r))}var Pa=new Map,Da=new Map,La=new Map;function Ma(t){var e;Pa.set(t.token,t),"function"==typeof t.token&&(e=mt(t.token))&&"function"==typeof e.providedIn&&Da.set(t.token,t)}function Ua(t,e){var n=yr(e.viewDefFactory),r=yr(n.nodes[0].element.componentView);La.set(t,r)}function ja(){Pa.clear(),Da.clear(),La.clear()}function Fa(t){if(0===Pa.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Pa.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory((function(){return Yn}));for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Pa.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=dr(o.deps),i.value=o.value)}}}}function Va(t,e,n,r,i,o,a,s,u,l,c,h,p){var f=t.def.nodes[e];return va(t,f,n,r,i,o,a,s,u,l,c,h,p),224&f.flags?Gn(t,e).value:void 0}function qa(t,e,n,r,i,o,a,s,u,l,c,h,p){var f=t.def.nodes[e];return ya(t,f,n,r,i,o,a,s,u,l,c,h,p),224&f.flags?Gn(t,e).value:void 0}function Ha(t){return os(Ka.detectChanges,da,null,[t])}function Wa(t){return os(Ka.checkNoChanges,fa,null,[t])}function Ba(t){return os(Ka.destroy,_a,null,[t])}var za,Ga,Qa,Ka=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();function Ya(t,e){Ga=t,Qa=e}function Xa(t,e,n,r){return Ya(t,e),os(Ka.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Za(t,e){if(128&t.state)throw Vn(Ka[za]);return Ya(t,es(t,0)),t.def.updateDirectives((function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?$a(t,a,r,i):ts(t,a,r,i),16384&a.flags&&Ya(t,es(t,n)),224&a.flags?Gn(t,a.nodeIndex).value:void 0}),t)}function Ja(t,e){if(128&t.state)throw Vn(Ka[za]);return Ya(t,ns(t,0)),t.def.updateRenderer((function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?$a(t,a,r,i):ts(t,a,r,i),3&a.flags&&Ya(t,ns(t,n)),224&a.flags?Gn(t,a.nodeIndex).value:void 0}),t)}function $a(t,e,n,r){if(va.apply(void 0,[t,e,n].concat(r))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},a=0;a<e.bindings.length;a++){var s=e.bindings[a],u=i[a];8&s.flags&&(o[(p=s.nonMinifiedName,f=void 0,f=p.replace(/[$@]/g,"_"),"ng-reflect-"+(p=f.replace(xe,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))))]=Oe(u))}var l=e.parent,c=Bn(t,l.nodeIndex).renderElement;if(l.element.name)for(var h in o){null!=(u=o[h])?t.renderer.setAttribute(c,h,u):t.renderer.removeAttribute(c,h)}else t.renderer.setValue(c,"bindings="+JSON.stringify(o,null,2))}}var p,f}function ts(t,e,n,r){ya.apply(void 0,[t,e,n].concat(r))}function es(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function ns(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var rs=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=lr(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Bn(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Gr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){is(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&is(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!hr(t);)t=t.parent;return t.parent?Bn(t.parent,lr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?cr(this.view,this.nodeDef):cr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var o=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),a=-1;e.factory((function(){var e;return++a===o?(e=t.error).bind.apply(e,[t].concat(r)):Yn})),a<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,r))},t}();function is(t,e,n){for(var r in e.references)n[r]=$o(t,e,e.references[r])}function os(t,e,n,r){var i,o,a=za,s=Ga,u=Qa;try{za=t;var l=e.apply(n,r);return Ga=s,Qa=u,za=a,l}catch(c){if(Jt(c)||!Ga)throw c;throw i=c,o=as(),i instanceof Error||(i=new Error(i.toString())),Fn(i,o),i}}function as(){return Ga?new rs(Ga,Qa):null}var ss=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new us(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),us=function(){function t(t){this.delegate=t,this.debugContextFactory=as,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){var e=Mo(t);!function(t){Lo.delete(t.nativeNode)}(e),e instanceof Po&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var i=new Do(n,null,r);i.name=t,Uo(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Uo(new Po(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Uo(new Po(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=Mo(t),r=Mo(e);n&&r&&n instanceof Do&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=Mo(t),i=Mo(e),o=Mo(n);r&&i&&r instanceof Do&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=Mo(t),r=Mo(e);n&&r&&n instanceof Do&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),r=as();return r&&Uo(new Do(n,null,r)),n},t.prototype.setAttribute=function(t,e,n,r){var i=Mo(t);i&&i instanceof Do&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=Mo(t);r&&r instanceof Do&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=Mo(t);n&&n instanceof Do&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=Mo(t);n&&n instanceof Do&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=Mo(t);i&&i instanceof Do&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=Mo(t);r&&r instanceof Do&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=Mo(t);r&&r instanceof Do&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=Mo(t);r&&r.listeners.push(new Ro(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();var ls=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return __extends(e,t),e.prototype.create=function(t){!function(){if(!Ia){Ia=!0;var t=ie()?{setCurrentNode:Ya,createRootView:Aa,createEmbeddedView:xa,createComponentView:Oa,createNgModuleRef:Ra,overrideProvider:Ma,overrideComponentView:Ua,clearOverrides:ja,checkAndUpdateView:Ha,checkNoChangesView:Wa,destroyView:Ba,createDebugContext:function(t,e){return new rs(t,e)},handleEvent:Xa,updateDirectives:Za,updateRenderer:Ja}:{setCurrentNode:function(){},createRootView:ka,createEmbeddedView:sa,createComponentView:la,createNgModuleRef:Zr,overrideProvider:Yn,overrideComponentView:Yn,clearOverrides:Yn,checkAndUpdateView:da,checkNoChangesView:fa,destroyView:_a,createDebugContext:function(t,e){return new rs(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Va:qa,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Va:qa,t)}};Kn.setCurrentNode=t.setCurrentNode,Kn.createRootView=t.createRootView,Kn.createEmbeddedView=t.createEmbeddedView,Kn.createComponentView=t.createComponentView,Kn.createNgModuleRef=t.createNgModuleRef,Kn.overrideProvider=t.overrideProvider,Kn.overrideComponentView=t.overrideComponentView,Kn.clearOverrides=t.clearOverrides,Kn.checkAndUpdateView=t.checkAndUpdateView,Kn.checkNoChangesView=t.checkNoChangesView,Kn.destroyView=t.destroyView,Kn.resolveDep=yi,Kn.createDebugContext=t.createDebugContext,Kn.handleEvent=t.handleEvent,Kn.updateDirectives=t.updateDirectives,Kn.updateRenderer=t.updateRenderer,Kn.dirtyParentQueries=Xo}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(yr(this._ngModuleDefFactory));return Kn.createNgModuleRef(this.moduleType,t||Me.NULL,this._bootstrapComponents,e)},e}(Bt),cs=function(){},hs=function(){this.title="tp2Lab4"},ps=function(){},fs=new xt("Location Initialized"),ds=function(){},vs=new xt("appBaseHref"),gs=function(){function t(e,n){var r=this;this._subject=new xi,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=t.stripTrailingSlash(ys(i)),this._platformStrategy.onPopState((function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})}))}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.getState=function(){return this._platformLocation.getState()},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ys(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(e,n,r){void 0===n&&(n=""),void 0===r&&(r=null),this._platformStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)},t.prototype.replaceState=function(e,n,r){void 0===n&&(n=""),void 0===r&&(r=null),this._platformStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.onUrlChange=function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))},t.prototype._notifyUrlChangeListeners=function(t,e){void 0===t&&(t=""),this._urlChangeListeners.forEach((function(n){return n(t,e)}))},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function ys(t){return t.replace(/\/index.html$/,"")}var ms=function(t){function e(e,n){var r=this;return(r=t.call(this)||this)._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return __extends(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=gs.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+gs.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+gs.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(ds),_s=function(t){function e(e,n){var r=this;if((r=t.call(this)||this)._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return __extends(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return gs.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+gs.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+gs.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+gs.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(ds),bs=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),ws=new xt("UseV4Plurals"),Cs=function(){},Es=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).locale=e,r.deprecatedPluralFn=n,r}return __extends(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=Si[e];if(n)return n;var r=e.split("-")[0];if(n=Si[r])return n;if("en"===r)return ki;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[Ti.PluralCase]}(e||this.locale)(t)){case bs.Zero:return"zero";case bs.One:return"one";case bs.Two:return"two";case bs.Few:return"few";case bs.Many:return"many";default:return"other"}},e}(Cs),Ss=function(){function t(t,e){this._viewContainer=t,this._context=new Ts,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){Is("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){Is("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),Ts=function(){this.$implicit=null,this.ngIf=null};function Is(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+bt(e)+"'.")}var ks=function(){},As=new xt("DocumentToken"),Ns="browser",xs="server";function Os(t){return t===Ns}function Rs(t){return t===xs}var Ps,Ds=((Ps=function(){}).ngInjectableDef=yt({token:Ps,providedIn:"root",factory:function(){return new Ls(Vt(As),window,Vt(ee))}}),Ps),Ls=function(){function t(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}(),Ms=new E((function(t){return t.complete()}));function Us(t){return t?function(t){return new E((function(e){return t.schedule((function(){return e.complete()}))}))}(t):Ms}function js(t){var e=new E((function(e){e.next(t),e.complete()}));return e._isScalar=!0,e.value=t,e}function Fs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(R(n)?t.pop():n=void 0,t.length){case 0:return Us(n);case 1:return n?Q(t,n):js(t[0]);default:return Q(t,n)}}var Vs=function(t){function e(e){var n=this;return(n=t.call(this)||this)._value=e,n}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new k;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(x);function qs(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}qs.prototype=Object.create(Error.prototype);var Hs=qs,Ws={},Bs=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new zs(t,this.resultSelector))},t}(),zs=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return __extends(e,t),e.prototype._next=function(t){this.values.push(Ws),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(H(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===Ws?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(W);function Gs(t){return new E((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?K(n):Us()).subscribe(e)}))}function Qs(){return $(1)}function Ks(t,e){return function(n){return n.lift(new Ys(t,e))}}var Ys=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Xs(t,this.predicate,this.thisArg))},t}(),Xs=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e)||this).predicate=n,i.thisArg=r,i.count=0,i}return __extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(g);function Zs(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Zs.prototype=Object.create(Error.prototype);var Js=Zs;function $s(t){return function(e){return 0===t?Us():e.lift(new tu(t))}}var tu=function(){function t(t){if(this.total=t,this.total<0)throw new Js}return t.prototype.call=function(t,e){return e.subscribe(new eu(t,this.total))},t}(),eu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).total=n,r.ring=new Array,r.count=0,r}return __extends(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(g);function nu(t,e,n){return function(r){return r.lift(new ru(t,e,n))}}var ru=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new iu(t,this.nextOrObserver,this.error,this.complete))},t}(),iu=function(t){function e(e,n,i,o){var a=this;return(a=t.call(this,e)||this)._tapNext=_,a._tapError=_,a._tapComplete=_,a._tapError=i||_,a._tapComplete=o||_,r(n)?(a._context=a,a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||_,a._tapError=n.error||_,a._tapComplete=n.complete||_),a}return __extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(g),ou=function(t){return void 0===t&&(t=au),nu({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function au(){return new Hs}function su(t){return void 0===t&&(t=null),function(e){return e.lift(new uu(t))}}var uu=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new lu(t,this.defaultValue))},t}(),lu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).defaultValue=n,r.isEmpty=!0,r}return __extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(g);function cu(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Ks((function(e,n){return t(e,n,r)})):J,$s(1),n?su(e):ou((function(){return new Hs})))}}function hu(t){return function(e){var n=new pu(t),r=e.lift(n);return n.caught=r}}var pu=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new fu(t,this.selector,this.caught))},t}(),fu=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e)||this).selector=n,i.caught=r,i}return __extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(i){return void t.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new P(this,void 0,void 0);this.add(r),H(this,n,void 0,void 0,r)}},e}(W);function du(t){return function(e){return 0===t?Us():e.lift(new vu(t))}}var vu=function(){function t(t){if(this.total=t,this.total<0)throw new Js}return t.prototype.call=function(t,e){return e.subscribe(new gu(t,this.total))},t}(),gu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).total=n,r.count=0,r}return __extends(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(g);function yu(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Ks((function(e,n){return t(e,n,r)})):J,du(1),n?su(e):ou((function(){return new Hs})))}}var mu=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new _u(t,this.predicate,this.thisArg,this.source))},t}(),_u=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e)||this).predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return __extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(g);function bu(t,e){return"function"==typeof e?function(n){return n.pipe(bu((function(n,r){return K(t(n,r)).pipe(B((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new wu(t))}}var wu=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new Cu(t,this.project))},t}(),Cu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).project=n,r.index=0,r}return __extends(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new P(this,void 0,void 0);this.destination.add(i),this.innerSubscription=H(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(W);function Eu(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Su(t,e,n))}}var Su=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new Tu(t,this.accumulator,this.seed,this.hasSeed))},t}(),Tu=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e)||this).accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return __extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(g);function Iu(t,e){return Y(t,e,1)}var ku=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new Au(t,this.callback))},t}(),Au=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).add(new f(n)),r}return __extends(e,t),e}(g),Nu=null;function xu(){return Nu}var Ou,Ru=function(t){function e(){var e=this;(e=t.call(this)||this)._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach((function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])}))}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return __extends(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}()),Pu={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Du={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Mu=function(){if(Nt.Node)return Nt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}}(),Uu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,Nu||(Nu=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){t[e].apply(t,n)},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return Pu},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return Mu.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach((function(n){return t.insertBefore(n,e)}))},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Lu.hasOwnProperty(e)&&(e=Lu[e]))}return Du[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=ju||(ju=document.querySelector("base"))?ju.getAttribute("href"):null;return null==n?null:(e=n,Ou||(Ou=document.createElement("a")),Ou.setAttribute("href",e),"/"===Ou.pathname.charAt(0)?Ou.pathname:"/"+Ou.pathname)},e.prototype.resetBaseElement=function(){ju=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return function(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],o=i.indexOf("="),a=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],s=a[1];if(a[0].trim()===e)return decodeURIComponent(s)}return null}(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(Ru),ju=null;function Fu(){return!!window.history.pushState}var Vu=new xt("TRANSITION_ID"),qu=[{provide:Pi,useFactory:function(t,e,n){return function(){n.get(Di).donePromise.then((function(){var n=xu();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter((function(e){return n.getAttribute(e,"ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[Vu,As,Me],multi:!0}],Hu=function(){function t(){}return t.init=function(){var e;e=new t,yo=e},t.prototype.addToWindow=function(t){Nt.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Nt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Nt.getAllAngularRootElements=function(){return t.getAllRootElements()},Nt.frameworkStabilizers||(Nt.frameworkStabilizers=[]),Nt.frameworkStabilizers.push((function(t){var e=Nt.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))}))},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?xu().isShadowRoot(e)?this.findTestabilityInTree(t,xu().getHost(e),!0):this.findTestabilityInTree(t,xu().parentElement(e),!0):null},t}();function Wu(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Nt.ng=Nt.ng||{})[t]=e)}var Bu={ApplicationRef:To,NgZone:ao};function zu(t){return Mo(t)}var Gu=new xt("EventManagerPlugins"),Qu=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach((function(t){return t.manager=n})),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),Ku=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=xu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),Yu=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),Xu=function(t){function e(e){var n=this;return(n=t.call(this)||this)._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return __extends(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach((function(t){return xu().remove(t)}))},e}(Yu),Zu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ju=/%COMP%/g,$u="_nghost-%COMP%",tl="_ngcontent-%COMP%";function el(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?el(t,i,n):(i=i.replace(Ju,t),n.push(i))}return n}function nl(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var rl=function(){function t(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new il(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Qt.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new sl(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case Qt.Native:case Qt.ShadowDom:return new ul(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=el(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),il=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(Zu[e]||e,t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=Zu[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=Zu[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&vn.DashCase?t.style.setProperty(e,n,r&vn.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&vn.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){al(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return al(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,nl(n)):this.eventManager.addEventListener(t,e,nl(n))},t}(),ol="@".charCodeAt(0);function al(t,e){if(t.charCodeAt(0)===ol)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var sl=function(t){function e(e,n,r,i){var o=this;(o=t.call(this,e)||this).component=r;var a=el(i+"-"+r.id,r.styles,[]);return n.addStyles(a),o.contentAttr=tl.replace(Ju,i+"-"+r.id),o.hostAttr=$u.replace(Ju,i+"-"+r.id),o}return __extends(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(il),ul=function(t){function e(e,n,r,i){var o=this;(o=t.call(this,e)||this).sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=i.encapsulation===Qt.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=el(i.id,i.styles,[]),s=0;s<a.length;s++){var u=document.createElement("style");u.textContent=a[s],o.shadowRoot.appendChild(u)}return o}return __extends(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(il),ll="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},cl=ll("addEventListener"),hl=ll("removeEventListener"),pl={},fl="__zone_symbol__propagationStopped",dl=function(){var t="undefined"!=typeof Zone&&Zone[ll("BLACK_LISTED_EVENTS")];if(t){var e={};return t.forEach((function(t){e[t]=t})),e}}(),vl=function(t){return!!dl&&dl.hasOwnProperty(t)},gl=function(t){var e=pl[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[fl];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},yl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e)||this).ngZone=n,r&&Rs(r)||i.patchEvent(),i}return __extends(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[fl]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=n;if(!t[cl]||ao.isInAngularZone()&&!vl(e))t.addEventListener(e,i,!1);else{var o=pl[e];o||(o=pl[e]=ll("ANGULAR"+e+"FALSE"));var a=t[o],s=a&&a.length>0;a||(a=t[o]=[]);var u=vl(e)?Zone.root:Zone.current;if(0===a.length)a.push({zone:u,handler:i});else{for(var l=!1,c=0;c<a.length;c++)if(a[c].handler===i){l=!0;break}l||a.push({zone:u,handler:i})}s||t[cl](e,gl,!1)}return function(){return r.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[hl];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=pl[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,gl,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(Ku),ml={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},_l=new xt("HammerGestureConfig"),bl=new xt("HammerLoader"),wl=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),Cl=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e)||this)._config=n,o.console=r,o.loader=i,o}return __extends(e,t),e.prototype.supports=function(t){return!(!ml.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(t,e,n))})).catch((function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}})),function(){a()}}return i.runOutsideAngular((function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded((function(){n(t)}))};return o.on(e,a),function(){o.off(e,a),"function"==typeof o.destroy&&o.destroy()}}))},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(Ku),El=["alt","control","meta","shift"],Sl={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Tl=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,r){var i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return xu().onAndCancel(t,i.domEventName,o)}))},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(El.forEach((function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")})),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=xu().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),El.forEach((function(r){r!=n&&(0,Sl[r])(t)&&(e+=r+".")})),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded((function(){return n(i)}))}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(Ku),Il=function(){},kl=function(t){function e(e){var n=this;return(n=t.call(this)||this)._doc=e,n}return __extends(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case Ie.NONE:return e;case Ie.HTML:return e instanceof Nl?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=null;try{he=he||new oe(t);var r=e?String(e):"";n=he.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=he.getInertBodyElement(r)}while(r!==o);var a=new we,s=a.sanitizeChildren(Te(n)||n);return ie()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=Te(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}(this._doc,String(e)));case Ie.STYLE:return e instanceof xl?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(Ne);return e&&ue(e[1])===e[1]||t.match(Ae)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(ie()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case Ie.SCRIPT:if(e instanceof Ol)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Ie.URL:return e instanceof Pl||e instanceof Rl?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),ue(String(e)));case Ie.RESOURCE_URL:if(e instanceof Pl)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof Al)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Nl(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new xl(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Ol(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new Rl(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new Pl(t)},e}(Il),Al=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Nl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(Al),xl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTypeName=function(){return"Style"},e}(Al),Ol=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTypeName=function(){return"Script"},e}(Al),Rl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTypeName=function(){return"URL"},e}(Al),Pl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Al),Dl=bo(jo,"browser",[{provide:Fi,useValue:Ns},{provide:ji,useValue:function(){Uu.makeCurrent(),Hu.init()},multi:!0},{provide:ps,useClass:function(t){function e(e){var n=this;return(n=t.call(this)||this)._doc=e,n._init(),n}return __extends(e,t),e.prototype._init=function(){this.location=xu().getLocation(),this._history=xu().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return xu().getBaseHref(this._doc)},e.prototype.onPopState=function(t){xu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){xu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"href",{get:function(){return this.location.href},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this.location.protocol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostname",{get:function(){return this.location.hostname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return this.location.port},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){Fu()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){Fu()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.prototype.getState=function(){return this._history.state},e}(ps),deps:[As]},{provide:As,useFactory:function(){return document},deps:[]}]);function Ll(){return new ee}var Ml=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:Li,useValue:e.appId},{provide:Vu,useExisting:Li},qu]}},t}();"undefined"!=typeof window&&window;var Ul=function(t,e){this.id=t,this.url=e},jl=function(t){function e(e,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=this;return(o=t.call(this,e,n)||this).navigationTrigger=r,o.restoredState=i,o}return __extends(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(Ul),Fl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).urlAfterRedirects=r,i}return __extends(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(Ul),Vl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).reason=r,i}return __extends(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(Ul),ql=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).error=r,i}return __extends(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(Ul),Hl=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).urlAfterRedirects=r,o.state=i,o}return __extends(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ul),Wl=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).urlAfterRedirects=r,o.state=i,o}return __extends(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ul),Bl=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,n)||this).urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return __extends(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(Ul),zl=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).urlAfterRedirects=r,o.state=i,o}return __extends(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ul),Gl=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).urlAfterRedirects=r,o.state=i,o}return __extends(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ul),Ql=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Kl=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Yl=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Xl=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Zl=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Jl=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),$l=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),tc=function(){},ec="primary",nc=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function rc(t){return new nc(t)}var ic="ngNavigationCancelingError";function oc(t){var e=Error("NavigationCancelingError: "+t);return e[ic]=!0,e}function ac(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var sc=function(t,e){this.routes=t,this.module=e};function uc(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];lc(r,cc(e,r))}}function lc(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==ec)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&uc(t.children,e)}function cc(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function hc(t){var e=t.children&&t.children.map(hc),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ec&&(n.component=tc),n}function pc(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function fc(t){return Array.prototype.concat.apply([],t)}function dc(t){return t.length>0?t[t.length-1]:null}function vc(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function gc(t){return $e(t)?t:Je(t)?K(Promise.resolve(t)):Fs(t)}function yc(t,e,n){return n?function(t,e){return pc(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!wc(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return e[n]===t[n]}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!wc(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!wc(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!wc(n.segments,a)&&!!n.children[ec]&&e(n.children[ec],r,s)}(e,n,n.segments)}(t.root,e.root)}var mc=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=rc(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Tc.serialize(this)},t}(),_c=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,vc(e,(function(t,e){return t.parent=n}))}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Ic(this)},t}(),bc=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=rc(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Rc(this)},t}();function wc(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function Cc(t,e){var n=[];return vc(t.children,(function(t,r){r===ec&&(n=n.concat(e(t,r)))})),vc(t.children,(function(t,r){r!==ec&&(n=n.concat(e(t,r)))})),n}var Ec=function(){},Sc=function(){function t(){}return t.prototype.parse=function(t){var e=new Uc(t);return new mc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n,r;return"/"+function t(e,n){if(!e.hasChildren())return Ic(e);if(n){var r=e.children[ec]?t(e.children[ec],!1):"",i=[];return vc(e.children,(function(e,n){n!==ec&&i.push(n+":"+t(e,!1))})),i.length>0?r+"("+i.join("//")+")":r}var o=Cc(e,(function(n,r){return r===ec?[t(e.children[ec],!1)]:[r+":"+t(n,!1)]}));return Ic(e)+"/("+o.join("//")+")"}(t.root,!0)+(n=t.queryParams,(r=Object.keys(n).map((function(t){var e=n[t];return Array.isArray(e)?e.map((function(e){return Ac(t)+"="+Ac(e)})).join("&"):Ac(t)+"="+Ac(e)}))).length?"?"+r.join("&"):"")+("string"==typeof t.fragment?"#"+(e=t.fragment,encodeURI(e)):"")},t}(),Tc=new Sc;function Ic(t){return t.segments.map((function(t){return Rc(t)})).join("/")}function kc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ac(t){return kc(t).replace(/%3B/gi,";")}function Nc(t){return kc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xc(t){return decodeURIComponent(t)}function Oc(t){return xc(t.replace(/\+/g,"%20"))}function Rc(t){return""+Nc(t.path)+(e=t.parameters,Object.keys(e).map((function(t){return";"+Nc(t)+"="+Nc(e[t])})).join(""));var e}var Pc=/^[^\/()?;=#]+/;function Dc(t){var e=t.match(Pc);return e?e[0]:""}var Lc=/^[^=?&#]+/,Mc=/^[^?&#]+/,Uc=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _c([],{}):new _c([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[ec]=new _c(t,e)),n},t.prototype.parseSegment=function(){var t=Dc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new bc(xc(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Dc(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Dc(this.remaining);r&&this.capture(n=r)}t[xc(e)]=xc(n)}},t.prototype.parseQueryParam=function(t){var e=function(t){var e=t.match(Lc);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Mc);return e?e[0]:""}(this.remaining);r&&this.capture(n=r)}var i=Oc(e),o=Oc(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(t[i]=a=[a]),a.push(o)}else t[i]=o}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Dc(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=ec);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[ec]:new _c([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),jc=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=Fc(t,this._root);return e?e.children.map((function(t){return t.value})):[]},t.prototype.firstChild=function(t){var e=Fc(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=Vc(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))},t.prototype.pathFromRoot=function(t){return Vc(t,this._root).map((function(t){return t.value}))},t}();function Fc(t,e){if(t===e.value)return e;for(var n=0,r=e.children;n<r.length;n++){var i=Fc(t,r[n]);if(i)return i}return null}function Vc(t,e){if(t===e.value)return[e];for(var n=0,r=e.children;n<r.length;n++){var i=Vc(t,r[n]);if(i.length)return i.unshift(e),i}return[]}var qc=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function Hc(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Wc=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).snapshot=n,Yc(r,e),r}return __extends(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(jc);function Bc(t,e){var n=function(t,e){var n=new Qc([],{},{},"",{},ec,e,null,t.root,-1,{});return new Kc("",new qc(n,[]))}(t,e),r=new Vs([new bc("",{})]),i=new Vs({}),o=new Vs({}),a=new Vs({}),s=new Vs(""),u=new zc(r,i,a,s,o,ec,e,n.root);return u.snapshot=n.root,new Wc(new qc(u,[]),n)}var zc=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(B((function(t){return rc(t)})))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B((function(t){return rc(t)})))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function Gc(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Qc=function(){function t(t,e,n,r,i,o,a,s,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=rc(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=rc(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map((function(t){return t.toString()})).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),Kc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).url=e,Yc(r,n),r}return __extends(e,t),e.prototype.toString=function(){return Xc(this._root)},e}(jc);function Yc(t,e){e.value._routerState=t,e.children.forEach((function(e){return Yc(t,e)}))}function Xc(t){var e=t.children.length>0?" { "+t.children.map(Xc).join(", ")+" } ":"";return""+t.value+e}function Zc(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pc(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),pc(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!pc(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),pc(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Jc(t,e){var n,r;return pc(t.params,e.params)&&wc(n=t.url,r=e.url)&&n.every((function(t,e){return pc(t.parameters,r[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||Jc(t.parent,e.parent))}function $c(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function th(t,e,n,r,i){var o={};return r&&vc(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new mc(n.root===t?e:function t(e,n,r){var i={};return vc(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new _c(e.segments,i)}(n.root,t,e),o,i)}var eh=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&$c(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(r&&r!==dc(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),nh=function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n};function rh(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[ec]:""+t}function ih(t,e,n){if(t||(t=new _c([],{})),0===t.segments.length&&t.hasChildren())return oh(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=rh(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!lh(s,u,a))return o;r+=2}else{if(!lh(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new _c(t.segments.slice(0,r.pathIndex),{});return o.children[ec]=new _c(t.segments.slice(r.pathIndex),t.children),oh(o,0,i)}return r.match&&0===i.length?new _c(t.segments,{}):r.match&&!t.hasChildren()?ah(t,e,n):r.match?oh(t,0,i):ah(t,e,n)}function oh(t,e,n){if(0===n.length)return new _c(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={})[ec]=t,e):void 0===t[0].outlets?((n={})[ec]=t,n):t[0].outlets}(n),i={};return vc(r,(function(n,r){null!==n&&(i[r]=ih(t.children[r],e,n))})),vc(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new _c(t.segments,i)}function ah(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=sh(n[i].outlets);return new _c(r,o)}if(0===i&&$c(n[0]))r.push(new bc(t.segments[e].path,n[0])),i++;else{var a=rh(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&$c(s)?(r.push(new bc(a,uh(s))),i+=2):(r.push(new bc(a,{})),i++)}}return new _c(r,{})}function sh(t){var e={};return vc(t,(function(t,n){null!==t&&(e[n]=ah(new _c([],{}),0,t))})),e}function uh(t){var e={};return vc(t,(function(t,n){return e[n]=""+t})),e}function lh(t,e,n){return t==n.path&&pc(e,n.parameters)}var ch=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Zc(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=Hc(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),vc(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Hc(t),o=t.value.component?r.children:e;vc(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=Hc(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Jl(t.value.snapshot))})),t.children.length&&this.forwardEvent(new Xl(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(Zc(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),hh(a.route)}else{var s=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),u=s?s.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)},t}();function hh(t){Zc(t.value),t.children.forEach(hh)}function ph(t){return"function"==typeof t}function fh(t){return t instanceof mc}var dh=function(t){this.segmentGroup=t||null},vh=function(t){this.urlTree=t};function gh(t){return new E((function(e){return e.error(new dh(t))}))}function yh(t){return new E((function(e){return e.error(new vh(t))}))}function mh(t){return new E((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))}))}var _h=function(){function t(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Wt)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,ec).pipe(B((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(hu((function(e){if(e instanceof vh)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof dh)throw t.noMatchError(e);throw e})))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,ec).pipe(B((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(hu((function(t){if(t instanceof dh)throw e.noMatchError(t);throw t})))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new _c([],((r={})[ec]=t,r)):t;return new mc(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(B((function(t){return new _c([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Fs({});var o=[],a=[],s={};return vc(n,(function(n,i){var u=function(n,i){return r.expandSegmentGroup(t,e,i,n)}(i,n).pipe(B((function(t){return s[i]=t})));i===ec?o.push(u):a.push(u)})),Fs.apply(null,o.concat(a)).pipe(Qs(),cu(),B((function(){return s})))}(n.children)},t.prototype.expandSegment=function(t,e,n,r,i,o){var a=this;return Fs.apply(void 0,n).pipe(B((function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(hu((function(t){if(t instanceof dh)return Fs(null);throw t})))})),Qs(),yu((function(t){return!!t})),hu((function(t,n){if(t instanceof Hs||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return Fs(new _c([],{}));throw new dh(e)}throw t})))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return Eh(r)!==o?gh(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):gh(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?yh(o):this.lineralizeSegments(n,o).pipe(Y((function(n){var o=new _c(n,{});return i.expandSegment(t,o,e,n,r,!1)})))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=bh(e,r,i),u=s.matched,l=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!u)return gh(e);var p=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?yh(p):this.lineralizeSegments(r,p).pipe(Y((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)})))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(B((function(t){return n._loadedConfig=t,new _c(r,{})}))):Fs(new _c(r,{}));var o=bh(e,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return gh(e);var l=r.slice(u);return this.getChildConfig(t,n,r).pipe(Y((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return Ch(t,e,n)&&Eh(n)!==ec}))}(t,n,r)?{segmentGroup:wh(new _c(e,function(t,e){var n={};n[ec]=e;for(var r=0,i=t;r<i.length;r++){var o=i[r];""===o.path&&Eh(o)!==ec&&(n[Eh(o)]=new _c([],{}))}return n}(r,new _c(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Ch(t,e,n)}))}(t,n,r)?{segmentGroup:wh(new _c(t.segments,function(t,e,n,r){for(var i={},o=0,a=n;o<a.length;o++){var s=a[o];Ch(t,e,s)&&!r[Eh(s)]&&(i[Eh(s)]=new _c([],{}))}return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,l,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(B((function(t){return new _c(s,t)}))):0===r.length&&0===u.length?Fs(new _c(s,{})):i.expandSegment(n,a,r,u,ec,!0).pipe(B((function(t){return new _c(s.concat(t.segments),t.children)})))})))},t.prototype.getChildConfig=function(t,e,n){var r=this;return e.children?Fs(new sc(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Fs(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?K(i).pipe(B((function(r){var i,o=t.get(r);if(function(t){return t&&ph(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!ph(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return gc(i)}))).pipe(Qs(),(r=function(t){return!0===t},function(t){return t.lift(new mu(r,void 0,t))})):Fs(!0)}(t.injector,e,n).pipe(Y((function(n){return n?r.configLoader.load(t.injector,e).pipe(B((function(t){return e._loadedConfig=t,t}))):function(t){return new E((function(e){return e.error(oc("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))}))}(e)}))):Fs(new sc([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Fs(n);if(r.numberOfChildren>1||!r.children[ec])return mh(t.redirectTo);r=r.children[ec]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new mc(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return vc(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return vc(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new _c(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];if(o.path===t.path)return e.splice(n),o;n++}return t},t}();function bh(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||ac)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function wh(t){if(1===t.numberOfChildren&&t.children[ec]){var e=t.children[ec];return new _c(t.segments.concat(e.segments),e.children)}return t}function Ch(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Eh(t){return t.outlet||ec}var Sh=function(t){this.path=t,this.route=this.path[this.path.length-1]},Th=function(t,e){this.component=t,this.route=e};function Ih(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function kh(t,e,n){var r=Hc(t),i=t.value;vc(r,(function(t,r){kh(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Th(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Ah=Symbol("INITIAL_VALUE");function Nh(){return bu((function(t){return(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return R(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),Q(t,r).lift(new Bs(n))}).apply(void 0,t.map((function(t){return t.pipe(du(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];R(n)?t.pop():n=null;var r=t.length;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Qs()(Fs.apply(void 0,t))}(1!==r||n?r>0?Q(t,n):Us(n):js(t[0]),e)}}(Ah))}))).pipe(Eu((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==Ah)return t;if(r===Ah&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||fh(r))return r}return t}),t)}),Ah),Ks((function(t){return t!==Ah})),B((function(t){return fh(t)?t:!0===t})),du(1))}))}function xh(t,e){return null!==t&&e&&e(new Zl(t)),Fs(!0)}function Oh(t,e){return null!==t&&e&&e(new Yl(t)),Fs(!0)}function Rh(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Fs(r.map((function(r){return Gs((function(){var i,o=Ih(r,e,n);if(function(t){return t&&ph(t.canActivate)}(o))i=gc(o.canActivate(e,t));else{if(!ph(o))throw new Error("Invalid CanActivate guard");i=gc(o(e,t))}return i.pipe(yu())}))}))).pipe(Nh()):Fs(!0)}function Ph(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Gs((function(){return Fs(e.guards.map((function(i){var o,a=Ih(i,e.node,n);if(function(t){return t&&ph(t.canActivateChild)}(a))o=gc(a.canActivateChild(r,t));else{if(!ph(a))throw new Error("Invalid CanActivateChild guard");o=gc(a(r,t))}return o.pipe(yu())}))).pipe(Nh())}))}));return Fs(i).pipe(Nh())}var Dh=function(){},Lh=function(){function t(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return t.prototype.recognize=function(){try{var t=jh(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ec),n=new Qc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ec,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new qc(n,e),i=new Kc(this.url,r);return this.inheritParamsAndData(i._root),Fs(i)}catch(o){return new E((function(t){return t.error(o)}))}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=Gc(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=Cc(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value})),i.sort((function(t,e){return t.value.outlet===ec?-1:e.value.outlet===ec?1:t.value.outlet.localeCompare(e.value.outlet)})),i},t.prototype.processSegment=function(t,e,n,r){for(var i=0,o=t;i<o.length;i++){var a=o[i];try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(s){if(!(s instanceof Dh))throw s}}if(this.noLeftoversInUrl(e,n,r))return[];throw new Dh},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new Dh;if((t.outlet||ec)!==r)throw new Dh;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?dc(n).parameters:{};i=new Qc(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qh(t),r,t.component,t,Mh(e),Uh(e)+n.length,Hh(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Dh;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||ac)(n,t,e);if(!r)throw new Dh;var i={};vc(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new Qc(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qh(t),r,t.component,t,Mh(e),Uh(e)+o.length,Hh(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),c=jh(e,o,a,l,this.relativeLinkResolution),h=c.segmentGroup,p=c.slicedSegments;if(0===p.length&&h.hasChildren()){var f=this.processChildren(l,h);return[new qc(i,f)]}if(0===l.length&&0===p.length)return[new qc(i,[])];var d=this.processSegment(l,h,p,ec);return[new qc(i,d)]},t}();function Mh(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Uh(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function jh(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return Fh(t,e,n)&&Vh(n)!==ec}))}(t,n,r)){var o=new _c(e,function(t,e,n,r){var i={};i[ec]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var o=0,a=n;o<a.length;o++){var s=a[o];if(""===s.path&&Vh(s)!==ec){var u=new _c([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[Vh(s)]=u}}return i}(t,e,r,new _c(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Fh(t,e,n)}))}(t,n,r)){var a=new _c(t.segments,function(t,e,n,r,i,o){for(var a={},s=0,u=r;s<u.length;s++){var l=u[s];if(Fh(t,n,l)&&!i[Vh(l)]){var c=new _c([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===o?t.segments.length:e.length,a[Vh(l)]=c}}return Object.assign({},i,a)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new _c(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Fh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Vh(t){return t.outlet||ec}function qh(t){return t.data||{}}function Hh(t){return t.resolve||{}}function Wh(t,e,n,r){var i=Ih(t,e,r);return gc(i.resolve?i.resolve(e,n):i(e,n))}function Bh(t){return function(e){return e.pipe(bu((function(e){var n=t(e);return n?K(n).pipe(B((function(){return e}))):K([e])})))}}var zh=function(){},Gh=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),Qh=new xt("ROUTES"),Kh=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(B((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new sc(fc(i.injector.get(Qh)).map(hc),i)})))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?K(this.loader.load(t)):gc(t()).pipe(Y((function(t){return t instanceof Bt?Fs(t):K(e.compiler.compileModuleAsync(t))})))},t}(),Yh=function(){},Xh=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function Zh(t){throw t}function Jh(t,e,n){return e.parse("/")}function $h(t,e){return Fs(null)}var tp=function(){function t(t,e,n,r,i,o,a,s){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=s,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new x,this.errorHandler=Zh,this.malformedUriErrorHandler=Jh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:$h,afterPreactivation:$h},this.urlHandlingStrategy=new Xh,this.routeReuseStrategy=new Gh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Wt),this.console=i.get(qi);var l=i.get(ao);this.isNgZoneEnabled=l instanceof ao,this.resetConfig(s),this.currentUrlTree=new mc(new _c([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Kh(o,a,(function(t){return u.triggerEvent(new Ql(t))}),(function(t){return u.triggerEvent(new Kl(t))})),this.routerState=Bc(this.currentUrlTree,this.rootComponentType),this.transitions=new Vs({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe(Ks((function(t){return 0!==t.id})),B((function(t){return Object.assign({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),bu((function(t){var r,i,o,a=!1,s=!1;return Fs(t).pipe(nu((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}})),bu((function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Fs(t).pipe(bu((function(t){var r=e.transitions.getValue();return n.next(new jl(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?Ms:[t]})),bu((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(bu((function(t){return function(t,e,n,r,i){return new _h(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(B((function(e){return Object.assign({},t,{urlAfterRedirects:e})})))})))}),nu((function(t){e.currentNavigation=Object.assign({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(Y((function(r){return function(t,e,n,r,i,o){return void 0===i&&(i="emptyOnly"),void 0===o&&(o="legacy"),new Lh(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(B((function(t){return Object.assign({},r,{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),nu((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),nu((function(t){var r=new Hl(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,l=t.extractedUrl,c=t.source,h=t.restoredState,p=t.extras,f=new jl(u,e.serializeUrl(l),c,h);n.next(f);var d=Bc(l,e.rootComponentType).snapshot;return Fs(Object.assign({},t,{targetSnapshot:d,urlAfterRedirects:l,extras:Object.assign({},p,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ms})),Bh((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),nu((function(t){var n=new Wl(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),B((function(t){return Object.assign({},t,{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var a=Hc(n);return e.children.forEach((function(e){!function(e,n,r,i,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!wc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wc(t.url,e.url)||!pc(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jc(t,e)||!pc(t.queryParams,e.queryParams);case"paramsChange":default:return!Jc(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Sh(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),l&&o.canDeactivateChecks.push(new Th(u&&u.outlet&&u.outlet.component||null,s))}else s&&kh(n,u,o),o.canActivateChecks.push(new Sh(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),vc(a,(function(t,e){return kh(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),(i=e.ngModule.injector,o=function(t){return e.triggerEvent(t)},function(t){return t.pipe(Y((function(t){var e=t.targetSnapshot,n=t.currentSnapshot,r=t.guards,a=r.canActivateChecks,s=r.canDeactivateChecks;return 0===s.length&&0===a.length?Fs(Object.assign({},t,{guardsResult:!0})):function(t,e,n,r){return K(t).pipe(Y((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Fs(o.map((function(o){var a,s=Ih(o,e,i);if(function(t){return t&&ph(t.canDeactivate)}(s))a=gc(s.canDeactivate(t,e,n,r));else{if(!ph(s))throw new Error("Invalid CanDeactivate guard");a=gc(s(t,e,n,r))}return a.pipe(yu())}))).pipe(Nh()):Fs(!0)}(t.component,t.route,n,e,r)})),yu((function(t){return!0!==t}),!0))}(s,e,n,i).pipe(Y((function(t){return t&&"boolean"==typeof t?function(t,e,n,r){return K(e).pipe(Iu((function(e){return K([Oh(e.route.parent,r),xh(e.route,r),Ph(t,e.path,n),Rh(t,e.route,n)]).pipe(Qs(),yu((function(t){return!0!==t}),!0))})),yu((function(t){return!0!==t}),!0))}(e,a,i,o):Fs(t)})),B((function(e){return Object.assign({},t,{guardsResult:e})})))})))}),nu((function(t){if(fh(t.guardsResult)){var n=oc('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw n.url=t.guardsResult,n}})),nu((function(t){var n=new Bl(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Ks((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Vl(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),Bh((function(t){if(t.guards.canActivateChecks.length)return Fs(t).pipe(nu((function(t){var n=new zl(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),function(t,e){return function(n){return n.pipe(Y((function(n){var r=n.targetSnapshot,i=n.guards.canActivateChecks;return i.length?K(i).pipe(Iu((function(n){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Fs({});if(1===i.length){var o=i[0];return Wh(t[o],e,n,r).pipe(B((function(t){var e;return(e={})[o]=t,e})))}var a={};return K(i).pipe(Y((function(i){return Wh(t[i],e,n,r).pipe(B((function(t){return a[i]=t,t})))}))).pipe(cu(),B((function(){return a})))}(t._resolve,t,e,r).pipe(B((function(e){return t._resolvedData=e,t.data=Object.assign({},t.data,Gc(t,n).resolve),null})))}(n.route,r,t,e)})),function(t,e){return arguments.length>=2?function(n){return b(Eu(t,e),$s(1),su(e))(n)}:function(e){return b(Eu((function(e,n,r){return t(e,n,r+1)})),$s(1))(e)}}((function(t,e){return t})),B((function(t){return n}))):Fs(n)})))}}(e.paramsInheritanceStrategy,e.ngModule.injector),nu((function(t){var n=new Gl(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})))})),Bh((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),B((function(t){var n,r,i,o,a=(n=e.routeReuseStrategy,r=t.targetSnapshot,i=t.currentRouterState,o=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(u=r.value)._futureSnapshot=n.value;var i=function(e,n,r){return n.children.map((function(n){for(var i=0,o=r.children;i<o.length;i++){var a=o[i];if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}return t(e,n)}))}(e,n,r);return new qc(u,i)}var o=e.retrieve(n.value);if(o){var a=o.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,a),a}var s,u=new zc(new Vs((s=n.value).url),new Vs(s.params),new Vs(s.queryParams),new Vs(s.fragment),new Vs(s.data),s.outlet,s.component,s);return i=n.children.map((function(n){return t(e,n)})),new qc(u,i)}(n,r._root,i?i._root:void 0),new Wc(o,r));return Object.assign({},t,{targetRouterState:a})})),nu((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),function(t,e,n){return B((function(r){return new ch(e,r.targetRouterState,r.currentRouterState,n).activate(t),r}))}(e.rootContexts,e.routeReuseStrategy,(function(t){return e.triggerEvent(t)})),nu({next:function(){a=!0},complete:function(){a=!0}}),(r=function(){if(!a&&!s){e.resetUrlToCurrentUrlTree();var r=new Vl(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new ku(r))}),hu((function(r){if(s=!0,(u=r)&&u[ic]){var i=fh(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Vl(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),t.resolve(!1),i&&e.navigateByUrl(r.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new ql(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(l){t.reject(l)}}var u;return Ms})))})))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t},t.prototype.setTransition=function(t){this.transitions.next(Object.assign({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){uc(t),this.config=t.map(hc),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,r=e.queryParams,i=e.fragment,o=e.preserveQueryParams,a=e.queryParamsHandling,s=e.preserveFragment;ie()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,l=s?this.currentUrlTree.fragment:i,c=null;if(a)switch(a){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return th(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new eh(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return vc(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),t.concat([{outlets:o}])}if(r.segmentPath)return t.concat([r.segmentPath])}return"string"!=typeof r?t.concat([r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):t.concat([r])}),[]);return new eh(n,e,r)}(n);if(o.toRoot())return th(e.root,new _c([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new nh(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new nh(n.snapshot._urlSegment,!0,0);var r=$c(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new nh(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?oh(a.segmentGroup,a.index,o.commands):ih(a.segmentGroup,a.index,o.commands);return th(a.segmentGroup,s,e,r,i)}(u,this.currentUrlTree,t,c,l)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),ie()&&this.isNgZoneEnabled&&!ao.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=fh(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(fh(t))return yc(this.currentUrlTree,t,e);var n=this.parseUrl(t);return yc(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Fl(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))},t.prototype.scheduleNavigation=function(t,e,n,r){var i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise((function(t,e){o=t,a=e})),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))},t.prototype.setBrowserUrl=function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),ep=function(){function t(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){ie()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:rp(this.skipLocationChange),replaceUrl:rp(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:rp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:rp(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}(),np=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe((function(t){t instanceof Fl&&r.updateTargetUrlAndHref()}))}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){ie()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:rp(this.skipLocationChange),replaceUrl:rp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:rp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:rp(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();function rp(t){return""===t||!!t}var ip=function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new op,this.attachRef=null},op=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new ip,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),ap=function(){function t(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new xi,this.deactivateEvents=new xi,this.name=r||ec,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new sp(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),sp=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===zc?this.route:t===op?this.childContexts:this.parent.get(t,e)},t}(),up=function(){},lp=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(hu((function(){return Fs(null)})))},t}(),cp=function(){function t(){}return t.prototype.preload=function(t,e){return Fs(null)},t}(),hp=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Kh(e,n,(function(e){return t.triggerEvent(new Ql(e))}),(function(e){return t.triggerEvent(new Kl(e))}))}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(Ks((function(t){return t instanceof Fl})),Iu((function(){return t.preload()}))).subscribe((function(){}))},t.prototype.preload=function(){var t=this.injector.get(Wt);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;n.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?n.push(this.preloadConfig(t,o)):o.children&&n.push(this.processRoutes(t,o.children))}return K(n).pipe($(),B((function(t){})))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Y((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))},t}(),pp=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe((function(e){e instanceof jl?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Fl&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe((function(e){e instanceof $l&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new $l(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),fp=new xt("ROUTER_CONFIGURATION"),dp=new xt("ROUTER_FORROOT_GUARD"),vp=[gs,{provide:Ec,useClass:Sc},{provide:tp,useFactory:Cp,deps:[To,Ec,op,gs,Me,ko,Zi,Qh,fp,[Yh,new pt],[zh,new pt]]},op,{provide:zc,useFactory:Ep,deps:[tp]},{provide:ko,useClass:xo},hp,cp,lp,{provide:fp,useValue:{enableTracing:!1}}];function gp(){return new _o("Router",tp)}var yp=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[vp,wp(e),{provide:dp,useFactory:bp,deps:[[tp,new pt,new dt]]},{provide:fp,useValue:n||{}},{provide:ds,useFactory:_p,deps:[ps,[new ht(vs),new pt],fp]},{provide:pp,useFactory:mp,deps:[tp,Ds,fp]},{provide:up,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:cp},{provide:_o,multi:!0,useFactory:gp},[Sp,{provide:Pi,multi:!0,useFactory:Tp,deps:[Sp]},{provide:kp,useFactory:Ip,deps:[Sp]},{provide:Vi,multi:!0,useExisting:kp}]]}},t.forChild=function(e){return{ngModule:t,providers:[wp(e)]}},t}();function mp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new pp(t,e,n)}function _p(t,e,n){return void 0===n&&(n={}),n.useHash?new ms(t,e):new _s(t,e)}function bp(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function wp(t){return[{provide:Be,multi:!0,useValue:t},{provide:Qh,multi:!0,useValue:t}]}function Cp(t,e,n,r,i,o,a,s,u,l,c){void 0===u&&(u={});var h=new tp(null,e,n,r,i,o,a,fc(s));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var p=xu();h.events.subscribe((function(t){p.logGroup("Router Event: "+t.constructor.name),p.log(t.toString()),p.log(t),p.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Ep(t){return t.routerState.root}var Sp=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new x}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(fs,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(tp),i=t.injector.get(fp);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Fs(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))},t.prototype.bootstrapListener=function(t){var e=this.injector.get(fp),n=this.injector.get(hp),r=this.injector.get(pp),i=this.injector.get(tp),o=this.injector.get(To);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function Tp(t){return t.appInitializer.bind(t)}function Ip(t){return t.bootstrapListener.bind(t)}var kp=new xt("Router Initializer"),Ap=tr({encapsulation:2,styles:[],data:{}});function Np(t){return ia(0,[(t()(),zo(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),si(1,212992,null,0,ap,[op,Mn,sn,[8,null],Re],null,null)],(function(t,e){t(e,1,0)}),null)}var xp=Ur("ng-component",tc,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"ng-component",[],null,null,null,Np,Ap)),si(1,49152,null,0,tc,[],null,null)],null,null)}),{},{},[]),Op=function(t){function e(e,n){var r=this;(r=t.call(this,e)||this).sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var a=H(r,n[o],null,o);a&&r.add(a)}return r}return __extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()},e}(W),Rp=new xt("NgValueAccessor"),Pp=new xt("CompositionEventMode"),Dp=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=xu()?xu().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}(),Lp=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),Mp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(Lp);function Up(){throw new Error("unimplemented")}var jp=function(t){function e(){var e=this;return(e=t.apply(this,arguments)||this)._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return __extends(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return Up()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Up()},enumerable:!0,configurable:!0}),e}(Lp),Fp=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),Vp=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e}(Fp),qp=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e}(Fp);function Hp(t){return null==t||0===t.length}var Wp=new xt("NgValidators"),Bp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,zp=function(){function t(){}return t.min=function(t){return function(e){if(Hp(e.value)||Hp(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(Hp(e.value)||Hp(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return Hp(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return Hp(t.value)?null:Bp.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(Hp(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(Hp(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(Gp);return 0==e.length?null:function(t){return Kp(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(Gp);return 0==e.length?null:function(t){return function t(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&u(n[0])&&(n=n[0]),0===n.length?Ms:e?t(n).pipe(B((function(t){return e.apply(void 0,t)}))):new E((function(t){return new Op(t,n)}))}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(Qp)).pipe(B(Kp))}},t}();function Gp(t){return null!=t}function Qp(t){var e=Je(t)?K(t):t;if(!$e(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Kp(t){var e=t.reduce((function(t,e){return null!=e?Object.assign({},t,e):t}),{});return 0===Object.keys(e).length?null:e}function Yp(t){return t.validate?function(e){return t.validate(e)}:t}function Xp(t){return t.validate?function(e){return t.validate(e)}:t}var Zp=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),Jp='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',$p='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',tf='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ef='\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ';function nf(t,e){return e.path.concat([t])}function rf(t,e){t||af(e,"Cannot find control with"),e.valueAccessor||af(e,"No value accessor for form control with"),t.validator=zp.compose([t.validator,e.validator]),t.asyncValidator=zp.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&of(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&of(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function of(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function af(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function sf(t){return null!=t?zp.compose(t.map(Yp)):null}function uf(t){return null!=t?zp.composeAsync(t.map(Xp)):null}var lf=[function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Qe}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Qe}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(i=n.options,o=0;o<i.length;o++){if((a=i.item(o)).selected){s=e._getOptionValue(a.value);r.push(s)}}e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(jp),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}()];function cf(t){var e=pf(t)?t.validators:t;return Array.isArray(e)?sf(e):e||null}function hf(t,e){var n=pf(e)?e.asyncValidators:t;return Array.isArray(n)?uf(n):n||null}function pf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var ff,df=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=cf(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=hf(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAllAsTouched=function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={});var e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign({},t,{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))},t.prototype.enable=function(t){void 0===t&&(t={});var e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign({},t,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=Qp(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((function(t,e){return t instanceof gf?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof yf&&t.at(e)||null}),t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new xi,this.statusChanges=new xi},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls((function(e){return e.status===t}))},t.prototype._anyControlsDirty=function(){return this._anyControls((function(t){return t.dirty}))},t.prototype._anyControlsTouched=function(){return this._anyControls((function(t){return t.touched}))},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){pf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t.prototype._parentMarkedDirty=function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()},t}(),vf=function(t){function e(e,n,r){void 0===e&&(e=null);var i=this;return(i=t.call(this,cf(n),hf(r,n))||this)._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return __extends(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach((function(t){return t(n.value,!1!==e.emitViewToModelChange)})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(df),gf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,cf(n),hf(r,n))||this).controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return __extends(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach((function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof vf?e.value:e.getRawValue(),t}))},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))},e.prototype._setUpControls=function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")}))},e}(df),yf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,cf(n),hf(r,n))||this).controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return __extends(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach((function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach((function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this.controls.map((function(t){return t instanceof vf?t.value:t.getRawValue()}))},e.prototype.clear=function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())},e.prototype._syncPendingControls=function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach((function(e,n){t(e,n)}))},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))},e.prototype._anyControls=function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))},e.prototype._setUpControls=function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))},e.prototype._checkAllValuesPresent=function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")}))},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++){if(e[t].enabled)return!1}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(df),mf=Promise.resolve(null),_f=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).submitted=!1,r._directives=[],r.ngSubmit=new xi,r.form=new gf({},sf(e),uf(n)),r}return __extends(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;mf.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),rf(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;mf.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}(e._directives,t)}))},e.prototype.addFormGroup=function(t){var e=this;mf.then((function(){var n=e._findContainer(t.path),r=new gf({});(function(t,e){null==t&&af(e,"Cannot find control with"),t.validator=zp.compose([t.validator,e.validator]),t.asyncValidator=zp.composeAsync([t.asyncValidator,e.asyncValidator])})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))},e.prototype.removeFormGroup=function(t){var e=this;mf.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;mf.then((function(){n.form.get(t.path).setValue(e)}))},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})),this.ngSubmit.emit(t),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(Mp),bf=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+Jp+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+ef)},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+$p+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+tf)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+$p+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+tf)},t.ngFormWarning=function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")},t}(),wf=new xt("NgFormSelectorWarning"),Cf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return nf(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return sf(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return uf(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(Mp),Ef=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this)._parent=e,i._validators=n,i._asyncValidators=r,i}return __extends(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof _f||bf.modelGroupParentException()},e}(Cf),Sf=Promise.resolve(null),Tf=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).control=new vf,o._registered=!1,o.update=new xi,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||af(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===Dp?n=e:(o=e,lf.some((function(t){return o.constructor===t}))?(r&&af(t,"More than one built-in value accessor matches form control with"),r=e):(i&&af(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||(af(t,"No valid value accessor for form control with"),null)}(o,i),o}return __extends(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Qe(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?nf(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return sf(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return uf(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){rf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Ef)&&this._parent instanceof Cf?bf.formGroupNameException():this._parent instanceof Ef||this._parent instanceof _f||bf.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||bf.missingNameException()},e.prototype._updateValue=function(t){var e=this;Sf.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Sf.then((function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()}))},e}(jp),If=function(){},kf=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&"false"!=""+t,this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?zp.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),Af=function(){},Nf=function(){function t(){}return t.withConfig=function(e){return{ngModule:t,providers:[{provide:wf,useValue:e.warnOnDeprecatedNgFormSelector}]}},t}(),xf=n("mrSG"),Of=new xt("recaptcha-language"),Rf=new xt("recaptcha-base-url"),Pf=new xt("recaptcha-nonce-tag"),Df=((ff=function(){function t(e,n,r,i){this.platformId=e,this.language=n,this.baseUrl=r,this.nonce=i,this.init(),this.ready=Os(this.platformId)?t.ready.asObservable():Fs()}return t.prototype.init=function(){if(!t.ready&&Os(this.platformId)){var e=new Vs(null);t.ready=e,function(t,n,r,i,o){window.ng2recaptchaloaded=function(){!function(t){e.next(t)}(grecaptcha)};var a=document.createElement("script");a.innerHTML="",a.src=(i||"https://www.google.com/recaptcha/api.js")+"?render=explicit&onload=ng2recaptchaloaded"+r,o&&(a.nonce=o),a.async=!0,a.defer=!0,document.head.appendChild(a)}(0,0,this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}},t}()).ready=null,ff),Lf=new xt("recaptcha-settings"),Mf=0,Uf=function(){function t(t,e,n,r){this.elementRef=t,this.loader=e,this.zone=n,this.id="ngrecaptcha-"+Mf++,this.resolved=new xi,r&&(this.siteKey=r.siteKey,this.theme=r.theme,this.type=r.type,this.size=r.size,this.badge=r.badge)}return t.prototype.ngAfterViewInit=function(){var t=this;this.subscription=this.loader.ready.subscribe((function(e){null!=e&&e.render instanceof Function&&(t.grecaptcha=e,t.renderRecaptcha())}))},t.prototype.ngOnDestroy=function(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()},t.prototype.execute=function(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)},t.prototype.reset=function(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())},t.prototype.expired=function(){this.resolved.emit(null)},t.prototype.captchaResponseCallback=function(t){this.resolved.emit(t)},t.prototype.grecaptchaReset=function(){var t=this;null!=this.widget&&this.zone.runOutsideAngular((function(){return t.grecaptcha.reset(t.widget)}))},t.prototype.renderRecaptcha=function(){var t=this;this.widget=this.grecaptcha.render(this.elementRef.nativeElement,{badge:this.badge,callback:function(e){t.zone.run((function(){return t.captchaResponseCallback(e)}))},"expired-callback":function(){t.zone.run((function(){return t.expired()}))},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type}),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())},t}(),jf=function(){},Ff=function(){function t(){}return t.forRoot=function(){return t},t}(),Vf=tr({encapsulation:2,styles:[],data:{}});function qf(t){return ia(0,[],null,null)}var Hf=function(){},Wf=function(){function t(t,e,n){this.db=t,this.router=e,this.auth=n,this.user={email:"",password:""},this.progresoMensaje="esperando...",this.logeando=!0,this.clase="progress-bar progress-bar-info progress-bar-striped ";var r=sessionStorage.getItem("user");this.logueado=null!=r,this.dbUsuarios=this.db.collection("usuarios").valueChanges(),this.todosLosUsuarios=new Array,this.ObtenerUsuarios()}return t.prototype.ObtenerUsuarios=function(){var t=this;this.dbUsuarios.forEach((function(e){e.forEach((function(e){var n=new Hf;n.email=e.email,n.tipo=e.tipo,n.nombre=e.nombre,t.todosLosUsuarios.push(n)})),console.info(t.todosLosUsuarios)}))},t.prototype.ObtenerPerfil=function(t){var e="";return this.todosLosUsuarios.forEach((function(n){t==n.email&&(console.log(n.tipo),e=n.tipo)})),e},t.prototype.ngOnInit=function(){},t.prototype.Entrar=function(){var t=this,e=this.ObtenerPerfil(this.user.email);this.auth.loginUser(this.user.email,this.user.password).then((function(n){switch(sessionStorage.setItem("user",t.user.email),sessionStorage.setItem("tipo",e),sessionStorage.setItem("muestra","true"),e){case"administrador":t.router.navigate(["Admin"]);break;case"cliente":t.router.navigate(["Cliente"]);break;case"recepcionista":t.router.navigate(["Recepcion"]);break;case"especialista":t.router.navigate(["Especialista"]);break;default:t.router.navigate(["Login"])}t.logueo()})).catch((function(e){return xf.__awaiter(t,void 0,void 0,(function(){return __generator(this,(function(t){return this.MostarMensaje("Error al loguearse",!0),this.logeando=!0,[2]}))}))}))},t.prototype.borrar=function(){this.user.email=null,this.user.password=null},t.prototype.admin=function(){this.user.email="admin@gmail.com",this.user.password="111111"},t.prototype.invitado=function(){this.user.email="cliente@gmail.com",this.user.password="111111"},t.prototype.recepcionista=function(){this.user.email="recepcionista@gmail.com",this.user.password="111111"},t.prototype.especialista=function(){this.user.email="especialista@gmail.com",this.user.password="111111"},t.prototype.MostarMensaje=function(t,e){this.Mensaje=t;var n=document.getElementById("snackbar");e&&(n.className="show Ganador"),setTimeout((function(){n.className=n.className.replace("show","")}),3e3),console.info("objeto",n)},t.prototype.logueo=function(){var t=Date.now(),e=this.user.email;this.db.collection("logueos").add({email:e,fecha:t}).then((function(t){console.log("SSe guardo el logueo")})).catch((function(t){console.log("Error al registrar el logueo")}))},t}();function Bf(t){return function(t){return new E((function(e){return{unsubscribe:t.onSnapshot(e)}}))}(t).pipe(ut())}function zf(t){return Bf(t).pipe(B((function(t){return{payload:t,type:"query"}})))}function Gf(t){return zf(t).pipe(B((function(t){return t.payload.docChanges().map((function(t){return{type:t.type,payload:t}}))})))}function Qf(t,e){return zf(t).pipe(B((function(t){return t.payload.docChanges()})),Eu((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))})),t}(t,n,e)}),[]),B((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}var Kf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).scheduler=e,r.work=n,r.pending=!1,r}return __extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return __extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(f)),Yf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).scheduler=e,r.work=n,r}return __extends(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(Kf),Xf=function(){var t=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t}();return t.now=function(){return Date.now()},t}(),Zf=function(t){function e(n,r){void 0===r&&(r=Xf.now);var i=this;return(i=t.call(this,n,(function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()}))||this).actions=[],i.active=!1,i.scheduled=void 0,i}return __extends(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Xf),Jf=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(Zf))(Yf),$f=new xt("angularfire2.realtimeDatabaseURL"),td=function(){function t(t,e){this.zone=t,this.platformId=e}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.runGuarded((function(){return Jf.schedule.apply(Jf,t)}))},t.prototype.keepUnstableUntilFirst=function(t){return Rs(this.platformId)?new E((function(e){var n=function(){},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe((function(t){"scheduled"===r.state&&r.invoke(),e.next(t)}),(function(t){"scheduled"===r.state&&r.invoke(),e.error(t)}),(function(){"scheduled"===r.state&&r.invoke(),e.complete()}))})):t},t.prototype.runOutsideAngular=function(t){var e=this;return new E((function(n){return e.zone.runOutsideAngular((function(){return t.subscribe((function(t){return e.zone.run((function(){return n.next(t)}))}),(function(t){return e.zone.run((function(){return n.error(t)}))}),(function(){return e.zone.run((function(){return n.complete()}))}))}))}))},t}(),ed=function(t){return function(e){return new E((function(n){return e.subscribe((function(e){return t.run((function(){return n.next(e)}))}),(function(e){return t.run((function(){return n.error(e)}))}),(function(){return t.run((function(){return n.complete()}))}))}))}};function nd(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var rd=function(){function t(t,e,n){this.ref=t,this.query=e,this.afs=n}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Gf(this.query))).pipe(B((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Ks((function(t){return t.length>0}))):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Gf(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(Eu((function(t,e){return t.concat(e)}),[]))},t.prototype.snapshotChanges=function(t){var e=nd(t),n=Qf(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(t){void 0===t&&(t={});var e=zf(this.query),n=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(n).pipe(B((function(e){return e.payload.docs.map((function(e){var n;return t.idField?Object.assign({},e.data(),((n={})[t.idField]=e.id,n)):e.data()}))})))},t.prototype.get=function(t){return K(this.query.get(t)).pipe(ed(this.afs.scheduler.zone))},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new id(this.ref.doc(t),this.afs)},t}(),id=function(){function t(t,e){this.ref=t,this.afs=e}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=vd(this.ref.collection(t),e),r=n.ref,i=n.query;return new rd(r,i,this.afs)},t.prototype.snapshotChanges=function(){var t=Bf(this.ref).pipe(B((function(t){return{payload:t,type:"value"}}))),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)},t.prototype.valueChanges=function(){return this.snapshotChanges().pipe(B((function(t){return t.payload.data()})))},t.prototype.get=function(t){return K(this.ref.get(t)).pipe(ed(this.afs.scheduler.zone))},t}(),od=function(){function t(t,e){this.query=t,this.afs=e}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Gf(this.query))).pipe(B((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Ks((function(t){return t.length>0}))):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Gf(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(Eu((function(t,e){return t.concat(e)}),[]))},t.prototype.snapshotChanges=function(t){var e=nd(t),n=Qf(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(){var t=zf(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(B((function(t){return t.payload.docs.map((function(t){return t.data()}))})))},t.prototype.get=function(t){return K(this.query.get(t)).pipe(ed(this.afs.scheduler.zone))},t}(),ad=n("Wcq6"),sd=n.n(ad),ud=new xt("angularfire2.app.options"),ld=new xt("angularfire2.app.nameOrConfig"),cd=function(){};function hd(t,e,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",sd.a.apps.filter((function(t){return t&&t.name===r.name}))[0]||e.runOutsideAngular((function(){return sd.a.initializeApp(t,r)}))}var pd=function(){function t(){}return t.initializeApp=function(e,n){return{ngModule:t,providers:[{provide:ud,useValue:e},{provide:ld,useValue:n}]}},t}(),fd=parseInt(sd.a.SDK_VERSION.split(".")[0]),dd=fd<5||5==fd&&parseInt(sd.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function vd(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}var gd,yd=function(){function t(t,e,n,r,i,o,a){var s=this;this.scheduler=new td(o,i),this.firestore=o.runOutsideAngular((function(){var n=hd(t,o,e).firestore();return n.settings(r||dd),n})),this.persistenceEnabled$=n&&!Rs(i)?o.runOutsideAngular((function(){try{return K(s.firestore.enablePersistence(a||void 0).then((function(){return!0}),(function(){return!1})))}catch(t){return Fs(!1)}})):Fs(!1)}return t.prototype.collection=function(t,e){var n=vd("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query;return new rd(r,i,this)},t.prototype.collectionGroup=function(t,e){if(fd<6)throw"collection group queries require Firebase JS SDK >= 6.0";var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new od(n(r),this)},t.prototype.doc=function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new id(e,this)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t}(),md=function(t,e,n,r){var i=this;this.zone=r;var o=new td(r,n);this.auth=r.runOutsideAngular((function(){return hd(t,r,e).auth()})),this.authState=o.keepUnstableUntilFirst(o.runOutsideAngular(new E((function(t){return{unsubscribe:i.auth.onAuthStateChanged(t)}})))),this.user=o.keepUnstableUntilFirst(o.runOutsideAngular(new E((function(t){return{unsubscribe:i.auth.onIdTokenChanged(t)}})))),this.idToken=this.user.pipe(bu((function(t){return t?K(t.getIdToken()):Fs(null)}))),this.idTokenResult=this.user.pipe(bu((function(t){return t?K(t.getIdTokenResult()):Fs(null)})))},_d=((gd=function(){function t(t){this.afAuth=t,console.log("Hello AuthProvider Provider")}return t.prototype.registerUser=function(t,e){return this.afAuth.auth.createUserWithEmailAndPassword(t,e).then((function(t){console.log("el usuario se ha creado exitosamente")})).catch((function(t){return Promise.reject(t)}))},t.prototype.loginUser=function(t,e){return this.afAuth.auth.signInWithEmailAndPassword(t,e).then((function(t){return Promise.resolve(t)})).catch((function(t){return Promise.reject(t)}))},Object.defineProperty(t.prototype,"Session",{get:function(){return this.afAuth.authState},enumerable:!0,configurable:!0}),t.prototype.logout=function(){this.afAuth.auth.signOut().then((function(){}))},t.prototype.isLoggedIn=function(){return console.log("esto es afuera"),!!this.Session&&(console.log("entre a validacion"),!0)},t}()).ngInjectableDef=yt({factory:function(){return new gd(Vt(md))},token:gd,providedIn:"root"}),gd),bd=tr({encapsulation:0,styles:[["@import url(https://fonts.googleapis.com/css?family=Numans);form[_ngcontent-%COMP%]{padding:10px}input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box}button[_ngcontent-%COMP%]{background-color:#232a44;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;width:100%}button[_ngcontent-%COMP%]:hover{opacity:.8}.cancelbtn[_ngcontent-%COMP%]{width:auto;padding:10px 18px;background-color:#f44336;float:right}.aceptbtn[_ngcontent-%COMP%]{width:auto;padding:10px 18px;background-color:#3664f4}.imgcontainer[_ngcontent-%COMP%]{text-align:center;margin:24px 0 12px}img.avatar[_ngcontent-%COMP%]{width:40%;border-radius:50%}.container[_ngcontent-%COMP%]{padding:16px;height:100%;align-content:center}span.psw[_ngcontent-%COMP%]{float:right;padding-top:16px}@media screen and (max-width:300px){span.psw[_ngcontent-%COMP%]{display:block;float:none}.cancelbtn[_ngcontent-%COMP%]{width:100%}}.fondo[_ngcontent-%COMP%]{background-image:url(login.90dc7cd3a1ba46ad7016.jpg);margin-top:-60px;padding:4%;background-repeat:no-repeat;background-size:cover}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-image:url(http://getwallpapers.com/wallpaper/full/a/5/d/544750.jpg);background-size:cover;background-repeat:no-repeat;height:100%;font-family:Numans,sans-serif}.card[_ngcontent-%COMP%]{height:370px;margin-top:auto;margin-bottom:auto;width:400px;background-color:rgba(185,59,59,.5)!important;display:inline-table;border-radius:5%}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.social_icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:-45px}.input-group-prepend[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:50px;background-color:#232a44;color:#fff;border:0!important}input[_ngcontent-%COMP%]:focus{outline:0!important;box-shadow:0 0!important}.remember[_ngcontent-%COMP%]{color:#fff}.remember[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:15px;margin-right:5px}.login_btn[_ngcontent-%COMP%]{color:#000;background-color:#ffc312;width:100px}.login_btn[_ngcontent-%COMP%]:hover{color:#000;background-color:#fff}.links[_ngcontent-%COMP%]{color:#fff}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:4px}#snackbar[_ngcontent-%COMP%]{visibility:hidden;min-width:250px;margin-left:-125px;color:#fff;text-align:center;border-radius:2px;padding:16px;position:fixed;z-index:1;left:50%;bottom:30px;font-size:20px}#snackbar.Ganador[_ngcontent-%COMP%]{background-color:#df1818;color:#fff}#snackbar.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:.5s fadein,.5s 2.5s fadeout;animation:.5s fadein,.5s 2.5s fadeout}.captcha[_ngcontent-%COMP%]{background-color:red;height:50px;width:200px;margin-left:53px;color:#fff;margin-bottom:13px;text-align:center;font-size:34px;font-style:oblique;font-family:arial #000}"]],data:{}});function wd(t){return ia(0,[(t()(),zo(0,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),zo(1,0,null,null,1,"button",[["class","cancelbtn"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.borrar()&&r),r}),null,null)),(t()(),ea(-1,null,["Cancelar"])),(t()(),zo(3,0,null,null,2,"button",[["class","aceptbtn"],["routerLink","/Registro"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Kr(t,4).onClick()&&r),r}),null,null)),si(4,16384,null,0,ep,[tp,zc,[8,null],gn,hn],{routerLink:[0,"routerLink"]},null),(t()(),ea(-1,null,["Registrarse"]))],(function(t,e){t(e,4,0,"/Registro")}),null)}function Cd(t){return ia(0,[(t()(),zo(0,0,null,null,48,"div",[["class","fondo"]],null,null,null,null,null)),(t()(),zo(1,0,null,null,47,"div",[["class","container"]],null,null,null,null,null)),(t()(),zo(2,0,null,null,46,"div",[["class","d-flex justify-content-center h-100"]],null,null,null,null,null)),(t()(),zo(3,0,null,null,45,"div",[["class","card"]],null,null,null,null,null)),(t()(),zo(4,0,null,null,44,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),zo(5,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ea(-1,null,["Ingreso"])),(t()(),zo(7,0,null,null,41,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),zo(8,0,null,null,40,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Kr(t,10).onSubmit(n)&&r),"reset"===e&&(r=!1!==Kr(t,10).onReset()&&r),r}),null,null)),si(9,16384,null,0,If,[],null,null),si(10,4210688,null,0,_f,[[8,null],[8,null]],null,null),ui(2048,null,Mp,null,[_f]),si(12,16384,null,0,qp,[[4,Mp]],null,null),(t()(),zo(13,0,null,null,10,"div",[["class","input-group form-group"]],null,null,null,null,null)),(t()(),zo(14,0,null,null,1,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),zo(15,0,null,null,0,"img",[["src","../../../assets/imagenes/user.jpg"],["style","margin-left: 75px;width: 150px;height: 150px;border-radius: 50%;"]],null,null,null,null,null)),(t()(),zo(16,0,null,null,7,"input",[["class","form-control"],["name","uname"],["placeholder","Usuario"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Kr(t,17)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Kr(t,17).onTouched()&&r),"compositionstart"===e&&(r=!1!==Kr(t,17)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Kr(t,17)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.user.email=n)&&r),r}),null,null)),si(17,16384,null,0,Dp,[gn,hn,[2,Pp]],null,null),si(18,16384,null,0,kf,[],{required:[0,"required"]},null),ui(1024,null,Wp,(function(t){return[t]}),[kf]),ui(1024,null,Rp,(function(t){return[t]}),[Dp]),si(21,671744,null,0,Tf,[[2,Mp],[6,Wp],[8,null],[6,Rp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ui(2048,null,jp,null,[Tf]),si(23,16384,null,0,Vp,[[4,jp]],null,null),(t()(),zo(24,0,null,null,9,"div",[["class","input-group form-group"]],null,null,null,null,null)),(t()(),zo(25,0,null,null,0,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),zo(26,0,null,null,7,"input",[["class","form-control"],["name","psw"],["placeholder","Clave"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Kr(t,27)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Kr(t,27).onTouched()&&r),"compositionstart"===e&&(r=!1!==Kr(t,27)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Kr(t,27)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.user.password=n)&&r),r}),null,null)),si(27,16384,null,0,Dp,[gn,hn,[2,Pp]],null,null),si(28,16384,null,0,kf,[],{required:[0,"required"]},null),ui(1024,null,Wp,(function(t){return[t]}),[kf]),ui(1024,null,Rp,(function(t){return[t]}),[Dp]),si(31,671744,null,0,Tf,[[2,Mp],[6,Wp],[8,null],[6,Rp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ui(2048,null,jp,null,[Tf]),si(33,16384,null,0,Vp,[[4,jp]],null,null),(t()(),zo(34,0,null,null,1,"re-captcha",[["siteKey","6LeAl6gUAAAAAL7qrGMdJOxsTLP64CuSrndOVjIc"]],[[1,"id",0]],null,null,qf,Vf)),si(35,4374528,null,0,Uf,[hn,Df,ao,[2,Lf]],{siteKey:[0,"siteKey"]},null),(t()(),zo(36,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),zo(37,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Entrar()&&r),r}),null,null)),(t()(),ea(-1,null,["Ingresar"])),(t()(),zo(39,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.admin()&&r),r}),null,null)),(t()(),ea(-1,null,["Ingresar como Admin"])),(t()(),zo(41,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.invitado()&&r),r}),null,null)),(t()(),ea(-1,null,["Ingresar como Cliente"])),(t()(),zo(43,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.recepcionista()&&r),r}),null,null)),(t()(),ea(-1,null,["Ingresar como Recepcionista"])),(t()(),zo(45,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.especialista()&&r),r}),null,null)),(t()(),ea(-1,null,["Ingresar como Especialista"])),(t()(),Bo(16777216,null,null,1,null,wd)),si(48,16384,null,0,Ss,[Mn,Dn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,18,0,""),t(e,21,0,"uname",n.user.email),t(e,28,0,""),t(e,31,0,"psw",n.user.password),t(e,35,0,"6LeAl6gUAAAAAL7qrGMdJOxsTLP64CuSrndOVjIc"),t(e,48,0,n.logeando)}),(function(t,e){t(e,8,0,Kr(e,12).ngClassUntouched,Kr(e,12).ngClassTouched,Kr(e,12).ngClassPristine,Kr(e,12).ngClassDirty,Kr(e,12).ngClassValid,Kr(e,12).ngClassInvalid,Kr(e,12).ngClassPending),t(e,16,0,Kr(e,18).required?"":null,Kr(e,23).ngClassUntouched,Kr(e,23).ngClassTouched,Kr(e,23).ngClassPristine,Kr(e,23).ngClassDirty,Kr(e,23).ngClassValid,Kr(e,23).ngClassInvalid,Kr(e,23).ngClassPending),t(e,26,0,Kr(e,28).required?"":null,Kr(e,33).ngClassUntouched,Kr(e,33).ngClassTouched,Kr(e,33).ngClassPristine,Kr(e,33).ngClassDirty,Kr(e,33).ngClassValid,Kr(e,33).ngClassInvalid,Kr(e,33).ngClassPending),t(e,34,0,Kr(e,35).id)}))}var Ed=Ur("app-login",Wf,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-login",[],null,null,null,Cd,bd)),si(1,114688,null,0,Wf,[yd,tp,_d],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Sd=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Td=tr({encapsulation:0,styles:[[""]],data:{}});function Id(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["registro works!"]))],null,null)}var kd=Ur("app-registro",Sd,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-registro",[],null,null,null,Id,Td)),si(1,114688,null,0,Sd,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Ad=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Nd=tr({encapsulation:0,styles:[[""]],data:{}});function xd(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["admin works!"]))],null,null)}var Od=Ur("app-admin",Ad,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-admin",[],null,null,null,xd,Nd)),si(1,114688,null,0,Ad,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Rd=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Pd=tr({encapsulation:0,styles:[[""]],data:{}});function Dd(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["alta-admin works!"]))],null,null)}var Ld=Ur("app-alta-admin",Rd,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-alta-admin",[],null,null,null,Dd,Pd)),si(1,114688,null,0,Rd,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Md=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Ud=tr({encapsulation:0,styles:[[""]],data:{}});function jd(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["estadistica works!"]))],null,null)}var Fd=Ur("app-estadistica",Md,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-estadistica",[],null,null,null,jd,Ud)),si(1,114688,null,0,Md,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Vd=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),qd=tr({encapsulation:0,styles:[[""]],data:{}});function Hd(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["aux1 works!"]))],null,null)}var Wd=Ur("app-aux1",Vd,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-aux1",[],null,null,null,Hd,qd)),si(1,114688,null,0,Vd,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Bd=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),zd=tr({encapsulation:0,styles:[[""]],data:{}});function Gd(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["registros works!"]))],null,null)}var Qd=Ur("app-registros",Bd,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-registros",[],null,null,null,Gd,zd)),si(1,114688,null,0,Bd,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Kd=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Yd=tr({encapsulation:0,styles:[[""]],data:{}});function Xd(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["turnos-adm works!"]))],null,null)}var Zd=Ur("app-turnos-adm",Kd,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-turnos-adm",[],null,null,null,Xd,Yd)),si(1,114688,null,0,Kd,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Jd=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),$d=tr({encapsulation:0,styles:[[""]],data:{}});function tv(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["encuesta-adm works!"]))],null,null)}var ev=Ur("app-encuesta-adm",Jd,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-encuesta-adm",[],null,null,null,tv,$d)),si(1,114688,null,0,Jd,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),nv=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),rv=tr({encapsulation:0,styles:[[""]],data:{}});function iv(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["cliente works!"]))],null,null)}var ov=Ur("app-cliente",nv,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-cliente",[],null,null,null,iv,rv)),si(1,114688,null,0,nv,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),av=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),sv=tr({encapsulation:0,styles:[[""]],data:{}});function uv(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["turnos-cli works!"]))],null,null)}var lv=Ur("app-turnos-cli",av,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-turnos-cli",[],null,null,null,uv,sv)),si(1,114688,null,0,av,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),cv=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),hv=tr({encapsulation:0,styles:[[""]],data:{}});function pv(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["lista-turnos works!"]))],null,null)}var fv=Ur("app-lista-turnos",cv,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-lista-turnos",[],null,null,null,pv,hv)),si(1,114688,null,0,cv,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),dv=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),vv=tr({encapsulation:0,styles:[[""]],data:{}});function gv(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["encuesta-cli works!"]))],null,null)}var yv=Ur("app-encuesta-cli",dv,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-encuesta-cli",[],null,null,null,gv,vv)),si(1,114688,null,0,dv,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),mv=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),_v=tr({encapsulation:0,styles:[[""]],data:{}});function bv(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["recepcion works!"]))],null,null)}var wv=Ur("app-recepcion",mv,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-recepcion",[],null,null,null,bv,_v)),si(1,114688,null,0,mv,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Cv=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Ev=tr({encapsulation:0,styles:[[""]],data:{}});function Sv(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["turnos-rec works!"]))],null,null)}var Tv=Ur("app-turnos-rec",Cv,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-turnos-rec",[],null,null,null,Sv,Ev)),si(1,114688,null,0,Cv,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Iv=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),kv=tr({encapsulation:0,styles:[[""]],data:{}});function Av(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["turno-recepcionista works!"]))],null,null)}var Nv=Ur("app-turno-recepcionista",Iv,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-turno-recepcionista",[],null,null,null,Av,kv)),si(1,114688,null,0,Iv,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),xv=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Ov=tr({encapsulation:0,styles:[[""]],data:{}});function Rv(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["especialista works!"]))],null,null)}var Pv=Ur("app-especialista",xv,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-especialista",[],null,null,null,Rv,Ov)),si(1,114688,null,0,xv,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Dv=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Lv=tr({encapsulation:0,styles:[[""]],data:{}});function Mv(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["turnos-esp works!"]))],null,null)}var Uv=Ur("app-turnos-esp",Dv,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-turnos-esp",[],null,null,null,Mv,Lv)),si(1,114688,null,0,Dv,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),jv=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Fv=tr({encapsulation:0,styles:[[""]],data:{}});function Vv(t){return ia(0,[(t()(),zo(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ea(-1,null,["error works!"]))],null,null)}var qv=Ur("app-error",jv,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-error",[],null,null,null,Vv,Fv)),si(1,114688,null,0,jv,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Hv=function(){function t(t,e,n,r){this.auth=t,this.router=e,this.route=n,this.afAuth=r}return t.prototype.verificarSesion=function(){var t=sessionStorage.getItem("user");return null!=t&&(this.muestraMail=t,!0)},t.prototype.cerrarSesion=function(){this.auth.logout(),sessionStorage.clear(),this.logueado=!1,this.router.navigate([""]),console.log("Se cierra sesion"),this.muestraMail=null,sessionStorage.clear()},t.prototype.redirige=function(){switch(sessionStorage.getItem("tipo")){case"administrador":this.router.navigate(["Admin"]);break;case"cliente":this.router.navigate(["Cliente"]);break;case"recepcionista":this.router.navigate(["Recepcion"]);break;case"especialista":this.router.navigate(["Especialista"]);break;default:this.router.navigate(["Login"])}},t.prototype.ngOnInit=function(){},t}(),Wv=tr({encapsulation:0,styles:[[""]],data:{}});function Bv(t){return ia(0,[(t()(),zo(0,0,null,null,1,"h4",[["style","color: white;"]],null,null,null,null,null)),(t()(),ea(-1,null,["Clinica Buena Sonrisa"]))],null,null)}function zv(t){return ia(0,[(t()(),zo(0,0,null,null,8,"ul",[],null,null,null,null,null)),(t()(),zo(1,0,null,null,3,"li",[["style","float: right;margin-left: 3%;margin-top: 0px;"]],null,null,null,null,null)),(t()(),zo(2,0,null,null,2,"a",[["routerLink","/Login"],["style","color: white;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Kr(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),si(3,671744,null,0,np,[tp,zc,ds],{routerLink:[0,"routerLink"]},null),(t()(),ea(-1,null,["Ingres\xe1"])),(t()(),zo(5,0,null,null,3,"li",[["style","float: right;"]],null,null,null,null,null)),(t()(),zo(6,0,null,null,2,"a",[["routerLink","/Registro"],["style","color: white;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Kr(t,7).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),si(7,671744,null,0,np,[tp,zc,ds],{routerLink:[0,"routerLink"]},null),(t()(),ea(-1,null,["Registrate"]))],(function(t,e){t(e,3,0,"/Login"),t(e,7,0,"/Registro")}),(function(t,e){t(e,2,0,Kr(e,3).target,Kr(e,3).href),t(e,6,0,Kr(e,7).target,Kr(e,7).href)}))}function Gv(t){return ia(0,[(t()(),zo(0,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),zo(1,0,null,null,1,"a",[["style","color: white;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.redirige()&&r),r}),null,null)),(t()(),ea(-1,null,["Inicio"]))],null,null)}function Qv(t){return ia(0,[(t()(),zo(0,0,null,null,3,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),zo(1,0,null,null,2,"a",[["routerLink","/"],["style","color:white;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Kr(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==i.cerrarSesion()&&r),r}),null,null)),si(2,671744,null,0,np,[tp,zc,ds],{routerLink:[0,"routerLink"]},null),(t()(),ea(-1,null,["Cerrar sesion"]))],(function(t,e){t(e,2,0,"/")}),(function(t,e){t(e,1,0,Kr(e,2).target,Kr(e,2).href)}))}function Kv(t){return ia(0,[(t()(),zo(0,0,null,null,14,"header",[["class","header-section"]],null,null,null,null,null)),(t()(),zo(1,0,null,null,13,"nav",[["class","top-nav-area w-100"],["style","background-color: black;\n    padding-top: 5px;display: inline-block;margin-bottom: 4.8%;"]],null,null,null,null,null)),(t()(),Bo(16777216,null,null,1,null,Bv)),si(3,16384,null,0,Ss,[Mn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,null,1,null,zv)),si(5,16384,null,0,Ss,[Mn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),zo(6,0,null,null,2,"ul",[["class","main-menu primary-menu"],["style","float: right;"]],null,null,null,null,null)),(t()(),Bo(16777216,null,null,1,null,Gv)),si(8,16384,null,0,Ss,[Mn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),zo(9,0,null,null,1,"h5",[["style","color: white;margin-top: 5px;"]],null,null,null,null,null)),(t()(),ea(10,null,["",""])),(t()(),zo(11,0,null,null,3,"div",[["class","container"]],null,null,null,null,null)),(t()(),zo(12,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),Bo(16777216,null,null,1,null,Qv)),si(14,16384,null,0,Ss,[Mn,Dn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,!n.verificarSesion()),t(e,5,0,!n.verificarSesion()),t(e,8,0,n.verificarSesion()),t(e,14,0,n.verificarSesion())}),(function(t,e){t(e,10,0,e.component.muestraMail)}))}var Yv=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Xv=tr({encapsulation:0,styles:[[""]],data:{}});function Zv(t){return ia(0,[(t()(),zo(0,0,null,null,3,"footer",[["class","page-footer font-small blue"],["style","background-color: black; height: 30%; "]],null,null,null,null,null)),(t()(),zo(1,0,null,null,2,"div",[["class","footer-copyright text-center py-3"],["style","color:aliceblue; "]],null,null,null,null,null)),(t()(),zo(2,0,null,null,1,"h3",[["class","h3"],["style","color:aliceblue ;font-family: Poppins, sans-serif;"]],null,null,null,null,null)),(t()(),ea(-1,null,[" ROMAN PELLITTA - TP2 Laboratorio IV"]))],null,null)}var Jv=tr({encapsulation:0,styles:[[""]],data:{}});function $v(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-cabecera",[],null,null,null,Kv,Wv)),si(1,114688,null,0,Hv,[_d,tp,zc,md],null,null),(t()(),zo(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),si(3,212992,null,0,ap,[op,Mn,sn,[8,null],Re],null,null),(t()(),zo(4,0,null,null,1,"app-footer",[],null,null,null,Zv,Xv)),si(5,114688,null,0,Yv,[],null,null)],(function(t,e){t(e,1,0),t(e,3,0),t(e,5,0)}),null)}var tg=Ur("app-root",hs,(function(t){return ia(0,[(t()(),zo(0,0,null,null,1,"app-root",[],null,null,null,$v,Jv)),si(1,49152,null,0,hs,[],null,null)],null,null)}),{},{},[]);function eg(t){return null==t}function ng(t){return"function"==typeof t.set}function rg(t,e){return ng(e)?e:t.ref(e)}function ig(t,e){if("string"==typeof t)return e.stringCase();if(ng(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}var og,ag=new Zf(Kf),sg=((og=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Fs(this.value);case"E":return t=this.error,new E((function(e){return e.error(t)}));case"C":return Us()}var t;throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t}()).completeNotification=new og("C"),og.undefinedValueNotification=new og("N",void 0),og),ug=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new lg(t,this.delay,this.scheduler))},t}(),lg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e)||this).delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return __extends(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new cg(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(sg.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(sg.createComplete()),this.unsubscribe()},e}(g),cg=function(t,e){this.time=t,this.notification=e};function hg(t,e,n){return void 0===n&&(n="on"),new E((function(r){var i=t[n](e,(function(t,e){r.next({snapshot:t,prevKey:e}),"once"==n&&r.complete()}),r.error.bind(r));return"on"==n?{unsubscribe:function(){t.off(e,i)}}:{unsubscribe:function(){}}})).pipe(B((function(t){var n=t.snapshot,r=t.prevKey,i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}})),function(t,e){void 0===e&&(e=ag);var n=0 instanceof Date&&!isNaN(0)?0-e.now():Math.abs(0);return function(t){return t.lift(new ug(n,e))}}(),ut())}var pg=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new fg(t,this.compare,this.keySelector))},t}(),fg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e)||this).keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return __extends(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},e}(g);function dg(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function vg(t,e){var n=e.payload,r=e.prevKey,i=e.key,o=dg(t,i),a=function(t,e){if(eg(e))return 0;var n=dg(t,e);return-1===n?t.length:n+1}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var s=null;e.payload.forEach((function(e){var n={payload:e,type:"value",prevKey:s,key:e.key};return s=e.key,t=t.concat([n]),!1}))}return t;case"child_added":if(o>-1){var u=t[o-1];(u&&u.key||null)!=r&&(t=t.filter((function(t){return t.payload.key!==n.key}))).splice(a,0,e)}else{if(null==r)return[e].concat(t);(t=t.slice()).splice(a,0,e)}return t;case"child_removed":return t.filter((function(t){return t.payload.key!==n.key}));case"child_changed":return t.map((function(t){return t.payload.key===i?e:t}));case"child_moved":if(o>-1){var l=t.splice(o,1)[0];return(t=t.slice()).splice(a,0,l),t}return t;default:return t}}function gg(t){return(eg(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function yg(t,e){return function(t,e){return hg(t,"value","once").pipe(bu((function(n){var r=[Fs(n)];return e.forEach((function(e){return r.push(hg(t,e))})),tt.apply(void 0,r).pipe(Eu(vg,[]))})),(function(t){return t.lift(new pg(void 0,void 0))}))}(t,e=gg(e))}function mg(t,e){return tt.apply(void 0,(e=gg(e)).map((function(e){return hg(t,e)})))}var _g=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new bg(t,this.observables,this.project))},t}(),bg=function(t){function e(e,n,r){var i=this;(i=t.call(this,e)||this).observables=n,i.project=r,i.toRespond=[];var o=n.length;i.values=new Array(o);for(var a=0;a<o;a++)i.toRespond.push(a);for(a=0;a<o;a++){var s=n[a];i.add(H(i,s,s,a))}return i}return __extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(W),wg=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new Cg(t,this.predicate))},t}(),Cg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).predicate=n,r.skipping=!0,r.index=0,r}return __extends(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}},e}(g);function Eg(t,e){return function(n,r){return ig(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}function Sg(t){return function(){return hg(t,"value")}}var Tg=function(){function t(t,e,n,r,i){this.scheduler=new td(i,r),this.database=i.runOutsideAngular((function(){return hd(t,i,e).database(n||void 0)}))}return t.prototype.list=function(t,e){var n=rg(this.database,t),r=n;return e&&(r=e(n)),function(t,e){return{query:t,update:Eg(t.ref,"update"),set:Eg(t.ref,"set"),push:function(e){return t.ref.push(e)},remove:(n=t.ref,function(t){return t?ig(t,{stringCase:function(){return n.child(t).remove()},firebaseCase:function(){return t.remove()},snapshotCase:function(){return t.ref.remove()}}):n.remove()}),snapshotChanges:function(n){var r=yg(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},stateChanges:function(n){var r=mg(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},auditTrail:function(n){var r=function(t,e){return function(t,e){return function(t){return hg(t,"value").pipe(B((function(t){var e;return t.payload.forEach((function(t){return e=t.key,!1})),{data:t,lastKeyToLoad:e}})))}(t).pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new _g(t,n))}}(e),B((function(t){var e=t[0],n=t[1],r=e.lastKeyToLoad,i=n.map((function(t){return t.key}));return{actions:n,lastKeyToLoad:r,loadedKeys:i}})),(n=function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)},function(t){return t.lift(new wg(n))}),B((function(t){return t.actions})));var n}(t,mg(t,e).pipe(Eu((function(t,e){return t.concat([e])}),[])))}(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},valueChanges:function(n){var r=yg(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r)).pipe(B((function(t){return t.map((function(t){return t.payload.val()}))})))}};var n}(r,this)},t.prototype.object=function(t){var e,n,r=rg(this.database,t);return n=this,{query:e=r,snapshotChanges:function(){var t=Sg(e)();return n.scheduler.keepUnstableUntilFirst(n.scheduler.runOutsideAngular(t))},update:function(t){return e.ref.update(t)},set:function(t){return e.ref.set(t)},remove:function(){return e.ref.remove()},valueChanges:function(){var t=Sg(e)();return n.scheduler.keepUnstableUntilFirst(n.scheduler.runOutsideAngular(t)).pipe(B((function(t){return t.payload.exists()?t.payload.val():null})))}}},t.prototype.createPushId=function(){return this.database.ref().push().key},t}();n("NSPt");var Ig=function(){};function kg(t){var e=function(t){return new E((function(e){return t.on("state_changed",(function(t){return e.next(t)}),(function(t){return e.error(t)}),(function(){return e.complete()})),function(){return t.cancel()}}))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:function(){return e},percentageChanges:function(){return e.pipe(B((function(t){return t.bytesTransferred/t.totalBytes*100})))}}}function Ag(t,e){return{getDownloadURL:function(){return e.keepUnstableUntilFirst(e.runOutsideAngular(K(e.zone.runOutsideAngular((function(){return t.getDownloadURL()})))))},getMetadata:function(){return e.keepUnstableUntilFirst(e.runOutsideAngular(K(e.zone.runOutsideAngular((function(){return t.getMetadata()})))))},delete:function(){return K(t.delete())},child:function(n){return Ag(t.child(n),e)},updateMetatdata:function(e){return K(t.updateMetadata(e))},updateMetadata:function(e){return K(t.updateMetadata(e))},put:function(e,n){return kg(t.put(e,n))},putString:function(e,n,r){return kg(t.putString(e,n,r))}}}var Ng=new xt("angularfire2.storageBucket"),xg=function(){function t(t,e,n,r,i){this.scheduler=new td(i,r),this.storage=i.runOutsideAngular((function(){return hd(t,i,e).storage(n||void 0)}))}return t.prototype.ref=function(t){return Ag(this.storage.ref(t),this.scheduler)},t.prototype.upload=function(t,e,n){return Ag(this.storage.ref(t),this.scheduler).put(e,n)},t}(),Og=n("wj3C"),Rg=n.n(Og),Pg="firebasestorage.googleapis.com",Dg="storageBucket",Lg=12e4,Mg=6e5,Ug=-9007199254740991,jg=function(){function t(t,e){this.code_=Vg(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return Vg(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),Fg={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function Vg(t){return"storage/"+t}function qg(){return new jg(Fg.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Hg(){return new jg(Fg.CANCELED,"User canceled the upload/download.")}function Wg(){return new jg(Fg.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Bg(){return new jg(Fg.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zg(t,e,n){return new jg(Fg.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function Gg(){return new jg(Fg.APP_DELETED,"The Firebase app was deleted.")}function Qg(t,e){return new jg(Fg.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Kg(t){throw new jg(Fg.INTERNAL_ERROR,"Internal error: "+t)}var Yg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function Xg(t){switch(t){case Yg.RAW:case Yg.BASE64:case Yg.BASE64URL:case Yg.DATA_URL:return;default:throw"Expected one of the event types: ["+Yg.RAW+", "+Yg.BASE64+", "+Yg.BASE64URL+", "+Yg.DATA_URL+"]."}}var Zg=function(t,e){this.data=t,this.contentType=e||null};function Jg(t,e){switch(t){case Yg.RAW:return new Zg($g(e));case Yg.BASE64:case Yg.BASE64URL:return new Zg(ty(t,e));case Yg.DATA_URL:return new Zg((n=new ey(e)).base64?ty(Yg.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw Qg(Yg.DATA_URL,"Malformed data URL.")}return $g(e)}(n.rest),new ey(e).contentType)}var n;throw qg()}function $g(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function ty(t,e){switch(t){case Yg.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Qg(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Yg.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Qg(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(l){throw Qg(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var ey=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Qg(Yg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},ny={STATE_CHANGED:"state_changed"},ry={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},iy={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function oy(t){switch(t){case ry.RUNNING:case ry.PAUSING:case ry.CANCELING:return iy.RUNNING;case ry.PAUSED:return iy.PAUSED;case ry.SUCCESS:return iy.SUCCESS;case ry.CANCELED:return iy.CANCELED;case ry.ERROR:default:return iy.ERROR}}function ay(t){return null!=t}function sy(t){return void 0!==t}function uy(t){return"function"==typeof t}function ly(t){return"object"==typeof t}function cy(t){return ly(t)&&null!==t}function hy(t){return"string"==typeof t||t instanceof String}function py(t){return fy(t)&&Number.isInteger(t)}function fy(t){return"number"==typeof t||t instanceof Number}function dy(t){return vy()&&t instanceof Blob}function vy(){return"undefined"!=typeof Blob}var gy=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),yy=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=gy.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=gy.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=gy.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Kg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),ay(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return ay(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Kg("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Kg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Kg("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){ay(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){ay(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),my=function(){function t(){}return t.prototype.createXhrIo=function(){return new yy},t}();function _y(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function by(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=_y();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(vy())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var wy=function(){function t(t,e){var n=0,r="";dy(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(dy(this.data_)){var r=(o=e,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new t(r)}var i,o,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(vy()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(by.apply(null,r))}var i=e.map((function(t){return hy(t)?Jg(Yg.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),Cy=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new jg(Fg.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){for(var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),i=Pg.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+i+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],a=0;a<o.length;a++){var s=o[a],u=s.regex.exec(e);if(u){var l=u[s.indices.path];l||(l=""),n=new t(u[s.indices.bucket],l),s.postModify(n);break}}if(null==n)throw function(t){return new jg(Fg.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}();function Ey(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return ly(n=e)&&!Array.isArray(n)?e:null}function Sy(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function Ty(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Iy(t){return"https://"+Pg+"/v0"+t}function ky(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function Ay(t,e){return e}var Ny=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Ay},xy=null;function Oy(t,e,n){var r=Ey(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Cy(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Ry(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function Py(t){if(!ly(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!ly(n))throw"Expected object for 'customMetadata' mapping."}else if(cy(n))throw"Mapping for '"+e+"' cannot be an object."}}var Dy="maxResults",Ly=1e3,My="pageToken",Uy="prefixes",jy="items";function Fy(t){if(!ly(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===Dy){if(!py(t[Dy])||t[Dy]<=0)throw"Expected maxResults to be a positive number.";if(t[Dy]>1e3)throw"Expected maxResults to be less than or equal to "+Ly+"."}else{if(e!==My)throw"Unknown option: "+e;if(t[My]&&!hy(t[My]))throw"Expected pageToken to be string."}}var Vy=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function qy(t){if(!t)throw qg()}function Hy(t,e){return function(n,r){var i=Oy(t,r,e);return qy(null!==i),i}}function Wy(t){return function(e,n){var r;return(r=401===e.getStatus()?new jg(Fg.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new jg(Fg.QUOTA_EXCEEDED,"Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new jg(Fg.UNAUTHORIZED,"User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function By(t){var e=Wy(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new jg(Fg.OBJECT_NOT_FOUND,"Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function zy(t,e,n){var r=Iy(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new Vy(r,"GET",Hy(t,n),i);return o.errorHandler=By(e),o}function Gy(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Iy(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime(),u=new Vy(a,"GET",function(t){return function(e,n){var r=function(t,e){var n=Ey(e);return null===n?null:function(t,e){var n={prefixes:[],items:[],nextPageToken:e.nextPageToken},r=t.bucket();if(null===r)throw new jg(Fg.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Dg+"' property when initializing the app?");if(e[Uy])for(var i=0,o=e[Uy];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new Cy(r,a));n.prefixes.push(s)}if(e[jy])for(var u=0,l=e[jy];u<l.length;u++)s=t.makeStorageReference(new Cy(r,l[u].name)),n.items.push(s);return n}(t,n)}(t,n);return qy(null!==r),r}}(t),s);return u.urlParams=o,u.errorHandler=Wy(e),u}function Qy(t,e,n){var r=Iy(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new Vy(r,"GET",function(t,e){return function(n,r){var i=Oy(t,r,e);return qy(null!==i),function(t,e){var n=Ey(e);if(null===n)return null;if(!hy(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return Iy("/b/"+i(t.bucket)+"/o/"+i(n))+ky({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=By(e),o}function Ky(t,e,n,r){var i=Iy(e.fullServerUrl()),o=Ry(n,r),a=t.maxOperationRetryTime(),s=new Vy(i,"PATCH",Hy(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=By(e),s}function Yy(t,e){var n=Iy(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new Vy(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=By(e),i}function Xy(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Zy=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function Jy(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){qy(!1)}return qy(!!n&&-1!==(e||["active"]).indexOf(n)),n}var $y=function(t,e,n){if(uy(t)||ay(e)||ay(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},tm=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function em(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw(a=r)===(s=i)?(u=a,l=1===a?"argument":"arguments"):(u="between "+a+" and "+s,l="arguments"),new jg(Fg.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+t+"`: Expected "+u+" "+l+", received "+n.length+".");var a,s,u,l;for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(c){throw c instanceof Error?zg(o,t,c.message):zg(o,t,c)}}var nm=function(t,e){var n=this;this.validator=function(e){n.optional&&!sy(e)||t(e)},this.optional=!!e};function rm(t,e){function n(t){if(!hy(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new nm(r,e)}function im(){return new nm((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||vy()&&t instanceof Blob))throw"Expected Blob or File."}))}function om(t){return new nm(Py,t)}function am(t){return new nm(Fy,t)}function sm(){return new nm((function(t){if(!(fy(t)&&t>=0))throw"Expected a number 0 or greater."}))}function um(t,e){return new nm((function(e){if(!(null===e||ay(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function lm(t){return new nm((function(t){if(null!==t&&!uy(t))throw"Expected a Function."}),t)}function cm(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var hm=function(){function t(t,e,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=ry.RUNNING,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(Fg.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(ry.ERROR))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(Fg.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(ry.ERROR))},this.promise_=new Promise((function(t,e){a.resolve_=t,a.reject_=e,a.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===ry.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case ry.RUNNING:t(n);break;case ry.CANCELING:e.transition_(ry.CANCELED);break;case ry.PAUSING:e.transition_(ry.PAUSED)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=Xy(e,r,i),s={name:a.fullPath},u=Iy(o),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},c=Ry(a,n),h=t.maxUploadRetryTime(),p=new Vy(u,"POST",(function(t){var e;Jy(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){qy(!1)}return qy(hy(e)),e}),h);return p.urlParams=s,p.headers=l,p.body=c,p.errorHandler=Wy(e),p}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime(),o=new Vy(n,"POST",(function(t){var e=Jy(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){qy(!1)}n||qy(!1);var i=Number(n);return qy(!isNaN(i)),new Zy(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Wy(e),o}(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new Zy(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,a,s){var u=new Zy(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new jg(Fg.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var h=u.current,p={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},f=r.slice(h,h+c);if(null===f)throw Wg();var d=e.maxUploadRetryTime(),v=new Vy(n,"POST",(function(t,n){var i,a=Jy(t,["active","final"]),s=u.current+c,l=r.size();return i="final"===a?Hy(e,o)(t,n):null,new Zy(s,l,"final"===a,i)}),d);return v.headers=p,v.body=f.uploadData(),v.progressCallback=s||null,v.errorHandler=Wy(t),v}(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(s){return t.error_=s,void t.transition_(ry.ERROR)}var a=t.authWrapper_.makeRequest(o,i);t.request_=a,a.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(ry.SUCCESS)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=zy(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(ry.SUCCESS)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=Xy(e,r,i),l=Ry(u,n),c=wy.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===c)throw Wg();var h={name:u.fullPath},p=Iy(o),f=t.maxUploadRetryTime(),d=new Vy(p,"POST",Hy(t,n),f);return d.urlParams=h,d.headers=a,d.body=c.uploadData(),d.errorHandler=Wy(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(ry.SUCCESS)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case ry.CANCELING:case ry.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case ry.RUNNING:var e=this.state_===ry.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case ry.PAUSED:this.state_=t,this.notifyObservers_();break;case ry.CANCELED:this.error_=Hg(),this.state_=t,this.notifyObservers_();break;case ry.ERROR:case ry.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case ry.PAUSING:this.transition_(ry.PAUSED);break;case ry.CANCELING:this.transition_(ry.CANCELED);break;case ry.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=oy(this.state_);return new tm(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==ny.STATE_CHANGED)throw"Expected one of the event types: ["+ny.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=lm(!0).validator,s=um(null,!0).validator;function u(t){try{return void a(t)}catch(e){}try{if(s(t),!(sy(t.next)||sy(t.error)||sy(t.complete)))throw"";return}catch(e){throw o}}var l=[rm(i),um(u,!0),lm(!0),lm(!0)];em("on",l,arguments);var c=this;function h(t){return function(e,n,i){null!==t&&em("on",t,arguments);var o=new $y(e,n,r);return c.addObserver_(o),function(){c.removeObserver_(o)}}}function p(t){if(null===t)throw o;u(t)}var f=[um(p),lm(!0),lm(!0)],d=!(sy(e)||sy(n)||sy(r));return d?h(f):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(oy(this.state_)){case iy.SUCCESS:cm(this.resolve_.bind(null,this.snapshot))();break;case iy.CANCELED:case iy.ERROR:cm(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(oy(this.state_)){case iy.RUNNING:case iy.PAUSED:t.next&&cm(t.next.bind(t,this.snapshot))();break;case iy.SUCCESS:t.complete&&cm(t.complete.bind(t))();break;case iy.CANCELED:case iy.ERROR:t.error&&cm(t.error.bind(t,this.error_))();break;default:t.error&&cm(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){em("resume",[],arguments);var t=this.state_===ry.PAUSED||this.state_===ry.PAUSING;return t&&this.transition_(ry.RUNNING),t},t.prototype.pause=function(){em("pause",[],arguments);var t=this.state_===ry.RUNNING;return t&&this.transition_(ry.PAUSING),t},t.prototype.cancel=function(){em("cancel",[],arguments);var t=this.state_===ry.RUNNING||this.state_===ry.PAUSING;return t&&this.transition_(ry.CANCELING),t},t}(),pm=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof Cy?e:Cy.makeFromUrl(e)}return t.prototype.toString=function(){return em("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(xy)return xy;var t=[];t.push(new Ny("bucket")),t.push(new Ny("generation")),t.push(new Ny("metageneration")),t.push(new Ny("name","fullPath",!0));var e=new Ny("name");e.xform=function(t,e){return function(t){return!hy(t)||t.length<2?t:Ty(t)}(e)},t.push(e);var n=new Ny("size");return n.xform=function(t,e){return ay(e)?Number(e):e},t.push(n),t.push(new Ny("timeCreated")),t.push(new Ny("updated")),t.push(new Ny("md5Hash",null,!0)),t.push(new Ny("cacheControl",null,!0)),t.push(new Ny("contentDisposition",null,!0)),t.push(new Ny("contentEncoding",null,!0)),t.push(new Ny("contentLanguage",null,!0)),t.push(new Ny("contentType",null,!0)),t.push(new Ny("metadata","customMetadata",!0)),xy=t}()},t.prototype.child=function(t){em("child",[rm()],arguments);var e=Sy(this.location.path,t),n=new Cy(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new Cy(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new Cy(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Ty(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),em("put",[im(),om(!0)],arguments),this.throwIfRoot_("put"),new hm(this,this.authWrapper,this.location,this.mappings(),new wy(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Yg.RAW),em("putString",[rm(),rm(Xg,!0),om(!0)],arguments),this.throwIfRoot_("putString");var r=Jg(e,t),i=Object.assign({},n);return!ay(i.contentType)&&ay(r.contentType)&&(i.contentType=r.contentType),new hm(this,this.authWrapper,this.location,this.mappings(),new wy(r.data,!0),i)},t.prototype.delete=function(){var t=this;return em("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=Yy(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){em("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(xf.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(xf.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){em("list",[am(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=t||{},i=Gy(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return em("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=zy(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return em("updateMetadata",[om()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=Ky(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return em("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=Qy(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw Bg();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new jg(Fg.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),fm=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),dm=function(){function t(){this.map=new Map,this.id=Ug}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),vm=function(){function t(e,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;ay(a)&&(this.bucket_=t.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=Lg,this.maxUploadRetryTime_=Mg,this.requestMap_=new dm}return t.extractBucket_=function(t){var e=t[Dg]||null;return null==e?null:Cy.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&ay(this.app_.INTERNAL)&&ay(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw Gg();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new fm(Gg());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),gm=function(){function t(t,e,n,r,i,o,a,s,u,l,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=l,this.timeout_=u,this.pool_=c,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());sy(s)?i(s):i()}catch(u){o(u)}else null!==a?((r=qg()).setServerResponseProp(a.getResponseText()),o(t.errorCallback_?t.errorCallback_(a,r):r)):o(r=n.canceled?t.appDelete_?Gg():Hg():new jg(Fg.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new ym(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function l(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function c(e){i=setTimeout((function(){i=null,t(h,s())}),e)}function h(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(t?l.call.apply(l,Object(xf.__spreadArrays)([null,t],n)):s()||o?l.call.apply(l,Object(xf.__spreadArrays)([null,t],n)):(r<64&&(r*=2),1===a?(a=2,e=0):e=1e3*(r+Math.random()),c(e)))}var p=!1;function f(t){p||(p=!0,u||(null!==i?(t||(a=2),clearTimeout(i),c(0)):t||(a=1)))}return c(0),setTimeout((function(){o=!0,f(!0)}),n),f}((function(e,n){if(n)e(!1,new ym(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===gy.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new ym(a,n))}else{var s=n.getErrorCode()===gy.ABORT;e(!1,new ym(!1,null,s))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),ym=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function mm(t,e,n){var r=ky(t.urlParams),i=t.url+r,o=Object.assign({},t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,e),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Rg.a?Rg.a.SDK_VERSION:"AppManager")}(o),new gm(i,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}var _m=function(){function t(t,e,n){if(this.bucket_=null,this.authWrapper_=new vm(t,(function(t,e){return new pm(t,e)}),mm,this,e),this.app_=t,null!=n)this.bucket_=Cy.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new Cy(r,""))}this.internals_=new bm(this)}return t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(em("ref",[rm(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new pm(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{Cy.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return em("refFromURL",[rm(e,!1)],arguments),new pm(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){em("setMaxUploadRetryTime",[sm()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){em("setMaxOperationRetryTime",[sm()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),bm=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}();Rg.a.INTERNAL.registerService("storage",(function(t,e,n){return new _m(t,new my,n)}),{TaskState:iy,TaskEvent:ny,StringFormat:Yg,Storage:_m,Reference:pm},void 0,!0);var wm=function(){};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.o=function(t){var e=this.f();t.Ja(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Ja(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ja=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Ja(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Ja(i(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},a=this||self;function s(t){return"string"==typeof t}function u(t){return"boolean"==typeof t}var l=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(){}function p(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function f(t){return null===t}function d(t){return"array"==p(t)}function v(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==p(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),_=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function C(t,e,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now||function(){return+new Date};function T(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.fd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function I(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function k(t){if(Error.captureStackTrace)Error.captureStackTrace(this,k);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function A(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");k.call(this,n+t[r])}function N(t,e){throw new A("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function x(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function O(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function R(){this.b=this.a=null}T(k,Error),k.prototype.name="CustomError",T(A,k),A.prototype.name="AssertionError",x.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var P=new x((function(){return new L}),(function(t){t.reset()}));function D(){var t=qt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function L(){this.next=this.b=this.a=null}function M(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;N("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}R.prototype.add=function(t,e){var n=P.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},L.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},L.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},j=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},F=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=s(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},V=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function q(t,e){return 0<=U(t,e)}function H(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n=s(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function B(t){return Array.prototype.concat.apply([],arguments)}function z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function G(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function Q(t){for(var e in t)return!1;return!0}function K(t){var e,n={};for(e in t)n[e]=t[e];return n}var Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Y.length;o++)n=Y[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Z(t,e){this.a=t===tt&&e||"",this.b=$}function J(t){return t instanceof Z&&t.constructor===Z&&t.b===$?t.a:(N("expected object of type Const, got '"+t+"'"),"type_error:Const")}Z.prototype.qa=!0,Z.prototype.pa=function(){return this.a},Z.prototype.toString=function(){return"Const{"+this.a+"}"};var $={},tt={},et=new Z(tt,"");function nt(){this.a="",this.b=st}function rt(t){return t instanceof nt&&t.constructor===nt&&t.b===st?t.a:(N("expected object of type TrustedResourceUrl, got '"+t+"' of type "+p(t)),"type_error:TrustedResourceUrl")}function it(t,e){var n=J(t);if(!at.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return ut(t=n.replace(ot,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof Z?J(t):encodeURIComponent(String(t))})))}nt.prototype.qa=!0,nt.prototype.pa=function(){return this.a.toString()},nt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ot=/%{(\w+)}/g,at=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,st={};function ut(t){var e=new nt;return e.a=t,e}var lt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ct=/&/g,ht=/</g,pt=/>/g,ft=/"/g,dt=/'/g,vt=/\x00/g,gt=/[\x00&<>"']/;function yt(t,e){return-1!=t.indexOf(e)}function mt(t,e){return t<e?-1:t>e?1:0}function _t(){this.a="",this.b=St}function bt(t){return t instanceof _t&&t.constructor===_t&&t.b===St?t.a:(N("expected object of type SafeUrl, got '"+t+"' of type "+p(t)),"type_error:SafeUrl")}_t.prototype.qa=!0,_t.prototype.pa=function(){return this.a.toString()},_t.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var wt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ct(t){return t instanceof _t?t:(t="object"==typeof t&&t.qa?t.pa():String(t),wt.test(t)||(t="about:invalid#zClosurez"),Tt(t))}var Et,St={};function Tt(t){var e=new _t;return e.a=t,e}Tt("about:blank");t:{var It=a.navigator;if(It){var kt=It.userAgent;if(kt){Et=kt;break t}}Et=""}function At(t){return yt(Et,t)}function Nt(){this.a="",this.b=Ot}function xt(t){return t instanceof Nt&&t.constructor===Nt&&t.b===Ot?t.a:(N("expected object of type SafeHtml, got '"+t+"' of type "+p(t)),"type_error:SafeHtml")}Nt.prototype.qa=!0,Nt.prototype.pa=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ot={};function Rt(t){var e=new Nt;return e.a=t,e}Rt("<!DOCTYPE html>");var Pt,Dt,Lt=Rt("");function Mt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ut(t){return gt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ct,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(ht,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(pt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ft,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(dt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(vt,"&#0;"))),t}function jt(t){a.setTimeout((function(){throw t}),0)}function Ft(t,e){Dt||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);Dt=function(){t.then(Ht)}}else Dt=function(){var t=Ht;!g(a.setImmediate)||a.Window&&a.Window.prototype&&!At("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(Pt||(Pt=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!At("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",function(t){var e=ut(J(et));M(t,"HTMLIFrameElement"),t.src=rt(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(xt(Lt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=C((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!At("Trident")&&!At("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){r.next={yb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){a.setTimeout(t,0)}}()),Pt(t)):a.setImmediate(t)}}(),Vt||(Dt(),Vt=!0),qt.add(t,e)}Rt("<br>");var Vt=!1,qt=new R;function Ht(){for(var t;t=D();){try{t.a.call(t.b)}catch(e){jt(e)}O(P,t)}Vt=!1}function Wt(t,e){if(this.a=Bt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){ne(n,zt,t)}),(function(t){if(!(t instanceof le))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}ne(n,Gt,t)}))}catch(r){ne(this,Gt,r)}}var Bt=0,zt=2,Gt=3;function Qt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Qt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Kt=new x((function(){return new Qt}),(function(t){t.reset()}));function Yt(t,e,n){var r=Kt.get();return r.g=t,r.b=e,r.f=n,r}function Xt(t){if(t instanceof Wt)return t;var e=new Wt(h);return ne(e,zt,t),e}function Zt(t){return new Wt((function(e,n){n(t)}))}function Jt(t,e,n){re(t,e,n,null)||Ft(E(e,t))}function $t(t){return new Wt((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Jt(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function te(t,e){t.b||t.a!=zt&&t.a!=Gt||ie(t),t.f?t.f.next=e:t.b=e,t.f=e}function ee(t,e,n,r){var i=Yt(null,null,null);return i.a=new Wt((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof le?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,te(t,i),i.a}function ne(t,e,n){t.a==Bt&&(t===n&&(e=Gt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,re(n,t.Oc,t.Pc,t)||(t.i=n,t.a=e,t.c=null,ie(t),e!=Gt||n instanceof le||function(t,e){t.g=!0,Ft((function(){t.g&&ue.call(null,e)}))}(t,n)))}function re(t,e,n,r){if(t instanceof Wt)return te(t,Yt(e||h,n||null,r)),!0;if(I(t))return t.then(e,n,r),!0;if(y(t))try{var i=t.then;if(g(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function ie(t){t.h||(t.h=!0,Ft(t.Zb,t))}function oe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function ae(t,e,n,r){if(n==Gt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,se(e,n,r);else try{e.c?e.g.call(e.f):se(e,n,r)}catch(i){ue.call(null,i)}O(Kt,e)}function se(t,e,n){e==zt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Wt.prototype.then=function(t,e,n){return ee(this,g(t)?t:null,g(e)?e:null,n)},Wt.prototype.$goog_Thenable=!0,(t=Wt.prototype).ka=function(t,e){return(t=Yt(t,t,e)).c=!0,te(this,t),this},t.s=function(t,e){return ee(this,null,t,e)},t.cancel=function(t){this.a==Bt&&Ft((function(){!function t(e,n){if(e.a==Bt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==Bt&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):oe(r),ae(r,o,Gt,n)))}e.c=null}else ne(e,Gt,n)}(this,new le(t))}),this)},t.Oc=function(t){this.a=Bt,ne(this,zt,t)},t.Pc=function(t){this.a=Bt,ne(this,Gt,t)},t.Zb=function(){for(var t;t=oe(this);)ae(this,t,this.a,this.i);this.h=!1};var ue=jt;function le(t){k.call(this,t)}function ce(){0!=he&&(pe[this[m]||(this[m]=++_)]=this),this.ta=this.ta,this.la=this.la}T(le,k),le.prototype.name="cancel";var he=0,pe={};function fe(t){if(!t.ta&&(t.ta=!0,t.xa(),0!=he)){var e=t[m]||(t[m]=++_);if(0!=he&&t.la&&0<t.la.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete pe[e]}}function de(t){return de[" "](t),t}ce.prototype.ta=!1,ce.prototype.xa=function(){if(this.la)for(;this.la.length;)this.la.shift()()},de[" "]=h;var ve,ge,ye=At("Opera"),me=At("Trident")||At("MSIE"),_e=At("Edge"),be=_e||me,we=At("Gecko")&&!(yt(Et.toLowerCase(),"webkit")&&!At("Edge"))&&!(At("Trident")||At("MSIE"))&&!At("Edge"),Ce=yt(Et.toLowerCase(),"webkit")&&!At("Edge");function Ee(){var t=a.document;return t?t.documentMode:void 0}t:{var Se="",Te=(ge=Et,we?/rv:([^\);]+)(\)|;)/.exec(ge):_e?/Edge\/([\d\.]+)/.exec(ge):me?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ge):Ce?/WebKit\/(\S+)/.exec(ge):ye?/(?:Version)[ \/]?(\S+)/.exec(ge):void 0);if(Te&&(Se=Te?Te[1]:""),me){var Ie=Ee();if(null!=Ie&&Ie>parseFloat(Se)){ve=String(Ie);break t}}ve=Se}var ke,Ae={};function Ne(t){return function(t,e){var n=Ae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=lt(String(ve)).split("."),r=lt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=mt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||mt(0==a[2].length,0==s[2].length)||mt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}ke=a.document&&me?Ee():void 0;var xe=Object.freeze||function(t){return t},Oe=!me||9<=Number(ke),Re=me&&!Ne("9"),Pe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function De(t,e){this.type=t,this.b=this.target=e,this.Mb=!0}function Le(t,e){if(De.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(we){t:{try{de(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:Me[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}De.prototype.preventDefault=function(){this.Mb=!1},T(Le,De);var Me=xe({2:"touch",3:"pen",4:"mouse"});Le.prototype.preventDefault=function(){Le.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Re)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Le.prototype.f=function(){return this.a};var Ue="closure_listenable_"+(1e6*Math.random()|0),je=0;function Fe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Na=i,this.key=++je,this.ra=this.Ia=!1}function Ve(t){t.ra=!0,t.listener=null,t.proxy=null,t.src=null,t.Na=null}function qe(t){this.src=t,this.a={},this.b=0}function He(t,e){var n=e.type;n in t.a&&H(t.a[n],e)&&(Ve(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function We(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ra&&o.listener==e&&o.capture==!!n&&o.Na==r)return i}return-1}qe.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=We(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new Fe(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var Be="closure_lm_"+(1e6*Math.random()|0),ze={};function Ge(t,e,n,r,i){if(r&&r.once)Ke(t,e,n,r,i);else if(d(e))for(var o=0;o<e.length;o++)Ge(t,e[o],n,r,i);else n=rn(n),t&&t[Ue]?an(t,e,n,y(r)?!!r.capture:!!r,i):Qe(t,e,n,!1,r,i)}function Qe(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=y(i)?!!i.capture:!!i,s=en(t);if(s||(t[Be]=s=new qe(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=tn,e=Oe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Pe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ze(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function Ke(t,e,n,r,i){if(d(e))for(var o=0;o<e.length;o++)Ke(t,e[o],n,r,i);else n=rn(n),t&&t[Ue]?sn(t,e,n,y(r)?!!r.capture:!!r,i):Qe(t,e,n,!0,r,i)}function Ye(t,e,n,r,i){if(d(e))for(var o=0;o<e.length;o++)Ye(t,e[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=rn(n),t&&t[Ue]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=We(o=t.a[e],n,r,i))&&(Ve(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=en(t))&&(e=t.a[e.toString()],t=-1,e&&(t=We(e,n,r,i)),(n=-1<t?e[t]:null)&&Xe(n))}function Xe(t){if("number"!=typeof t&&t&&!t.ra){var e=t.src;if(e&&e[Ue])He(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ze(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=en(e))?(He(n,t),0==n.b&&(n.src=null,e[Be]=null)):Ve(t)}}}function Ze(t){return t in ze?ze[t]:ze[t]="on"+t}function Je(t,e,n,r){var i=!0;if((t=en(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ra&&(o=$e(o,r),i=i&&!1!==o)}return i}function $e(t,e){var n=t.listener,r=t.Na||t.src;return t.Ia&&Xe(t),n.call(r,e)}function tn(t,e){if(t.ra)return!0;if(!Oe){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Le(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=Je(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=Je(r[i],t,!1,e),n=n&&o}return n}return $e(t,new Le(e,this))}function en(t){return(t=t[Be])instanceof qe?t:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function rn(t){return g(t)?t:(t[nn]||(t[nn]=function(e){return t.handleEvent(e)}),t[nn])}function on(){ce.call(this),this.u=new qe(this),this.Sb=this,this.Wa=null}function an(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function sn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function un(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ra&&a.capture==n){var s=a.listener,u=a.Na||a.src;a.Ia&&He(t.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Mb}function ln(t,e,n){if(g(t))n&&(t=C(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=C(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function cn(t){var e=null;return new Wt((function(n,r){-1==(e=ln((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw a.clearTimeout(e),t}))}function hn(t){if(t.U&&"function"==typeof t.U)return t.U();if(s(t))return t.split("");if(v(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function pn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.U||"function"!=typeof t.U){if(v(t)||s(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function fn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof fn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function dn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];vn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)vn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function vn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(on,ce),on.prototype[Ue]=!0,on.prototype.addEventListener=function(t,e,n,r){Ge(this,t,e,n,r)},on.prototype.removeEventListener=function(t,e,n,r){Ye(this,t,e,n,r)},on.prototype.dispatchEvent=function(t){var e,n=this.Wa;if(n)for(e=[];n;n=n.Wa)e.push(n);n=this.Sb;var r=t.type||t;if(s(t))t=new De(t,n);else if(t instanceof De)t.target=t.target||n;else{var i=t;X(t=new De(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=un(a,r,!0,t)&&i}if(i=un(a=t.b=n,r,!0,t)&&i,i=un(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=un(a=t.b=e[o],r,!1,t)&&i;return i},on.prototype.xa=function(){if(on.qb.xa.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ve(n[r]);delete e.a[t],e.b--}}this.Wa=null},(t=fn.prototype).U=function(){dn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return dn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return vn(this.b,t)?this.b[t]:e},t.set=function(t,e){vn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var gn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof yn?(this.h=void 0!==e?e:t.h,mn(this,t.f),this.i=t.i,this.b=t.b,_n(this,t.l),this.c=t.c,bn(this,Fn(t.a)),this.g=t.g):t&&(n=String(t).match(gn))?(this.h=!!e,mn(this,n[1]||"",!0),this.i=Tn(n[2]||""),this.b=Tn(n[3]||"",!0),_n(this,n[4]),this.c=Tn(n[5]||"",!0),bn(this,n[6]||"",!0),this.g=Tn(n[7]||"")):(this.h=!!e,this.a=new Pn(null,this.h))}function mn(t,e,n){t.f=n?Tn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function _n(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function bn(t,e,n){e instanceof Pn?(t.a=e,function(t,e){e&&!t.f&&(Dn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Mn(this,e),jn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=In(e,On)),t.a=new Pn(e,t.h))}function wn(t,e,n){t.a.set(e,n)}function Cn(t,e){return t.a.get(e)}function En(t){return t instanceof yn?new yn(t):new yn(t,void 0)}function Sn(t,e){var n=new yn(null,void 0);return mn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Tn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function In(t,e,n){return s(t)?(t=encodeURI(t).replace(e,kn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}yn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(In(e,An,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(In(e,An,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(In(n,"/"==n.charAt(0)?xn:Nn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",In(n,Rn)),t.join("")},yn.prototype.resolve=function(t){var e=new yn(this),n=!!t.f;n?mn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)_n(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(yt(i,"./")||yt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?bn(e,Fn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var An=/[#\/\?@]/g,Nn=/[#\?:]/g,xn=/[#\?]/g,On=/[#\?@]/g,Rn=/#/g;function Pn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Dn(t){t.a||(t.a=new fn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ln(t){var e=pn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Pn(null,void 0);t=hn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];d(o)?jn(n,i,o):n.add(i,o)}return n}function Mn(t,e){Dn(t),e=Vn(t,e),vn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,vn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&dn(t)))}function Un(t,e){return Dn(t),e=Vn(t,e),vn(t.a.b,e)}function jn(t,e,n){Mn(t,e),0<n.length&&(t.c=null,t.a.set(Vn(t,e),z(n)),t.b+=n.length)}function Fn(t){var e=new Pn;return e.c=t.c,t.a&&(e.a=new fn(t.a),e.b=t.b),e}function Vn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=Pn.prototype).add=function(t,e){Dn(this),this.c=null,t=Vn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Dn(this),this.a.forEach((function(n,r){j(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Dn(this);for(var t=this.a.U(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.U=function(t){Dn(this);var e=[];if(s(t))Un(this,t)&&(e=B(e,this.a.get(Vn(this,t))));else{t=this.a.U();for(var n=0;n<t.length;n++)e=B(e,t[n])}return e},t.set=function(t,e){return Dn(this),this.c=null,Un(this,t=Vn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.U(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var qn=!me||9<=Number(ke);function Hn(t){var e=document;return s(t)?e.getElementById(t):t}function Wn(t,e){G(e,(function(e,n){e&&"object"==typeof e&&e.qa&&(e=e.pa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Bn.hasOwnProperty(n)?t.setAttribute(Bn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var Bn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function zn(t){if(t&&"number"==typeof t.length){if(y(t))return"function"==typeof t.item||"string"==typeof t.item;if(g(t))return"function"==typeof t.item}return!1}function Gn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(d(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Xn(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Xn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,t,e),e.join("")}function Qn(){}var Kn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Yn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Xn(t,e){e.push('"',t.replace(Yn,(function(t){var e=Kn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Kn[t]=e),e})),'"')}function Zn(){var t=gr();return me&&!!ke&&11==ke||/Edge\/\d+/.test(t)}function Jn(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function $n(t,e){e=e||a.window;var n="about:blank";t&&(n=bt(Ct(t)).toString()),e.location.href=n}function tr(t){return!!((t=(t||gr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function er(t){t=t||a.window;try{t.close()}catch(e){}}function nr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=gr().toLowerCase(),r&&(e.target=r,yt(n,"crios/")&&(e.target="_blank")),fr(gr())==hr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof _t?n:Ct(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((At("iPhone")&&!At("iPod")&&!At("iPad")||At("iPad")||At("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(M(a=r.document.createElement("A"),"HTMLAnchorElement"),e instanceof _t||e instanceof _t||(e="object"==typeof e&&e.qa?e.pa():String(e),wt.test(e)||(e="about:invalid#zClosurez"),e=Tt(e)),a.href=bt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=bt(e).toString(),a&&(be&&yt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Rt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ut(t)+'">'),a.document.write(xt(t)),a.document.close())):(a=r.open(bt(e).toString(),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var rr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ir=/^[^@]+@[^@]+$/;function or(){var t=null;return new Wt((function(e){"complete"==a.document.readyState?e():(t=function(){e()},Ke(window,"load",t))})).s((function(e){throw Ye(window,"load",t),e}))}function ar(t){return t=t||gr(),!("file:"!==wr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function sr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function ur(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function lr(){return Rg.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Rg.a.INTERNAL.hasOwnProperty("node")?"Node":ur()?"Worker":"Browser"}function cr(){var t=lr();return"ReactNative"===t||"Node"===t}var hr="Firefox",pr="Chrome";function fr(t){var e=t.toLowerCase();return yt(e,"opera/")||yt(e,"opr/")||yt(e,"opios/")?"Opera":yt(e,"iemobile")?"IEMobile":yt(e,"msie")||yt(e,"trident/")?"IE":yt(e,"edge/")?"Edge":yt(e,"firefox/")?hr:yt(e,"silk/")?"Silk":yt(e,"blackberry")?"Blackberry":yt(e,"webos")?"Webos":!yt(e,"safari/")||yt(e,"chrome/")||yt(e,"crios/")||yt(e,"android")?!yt(e,"chrome/")&&!yt(e,"crios/")||yt(e,"edge/")?yt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":pr:"Safari"}var dr={Vc:"FirebaseCore-web",Xc:"FirebaseUI-web"};function vr(t,e){e=e||[];var n,r=[],i={};for(n in dr)i[dr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=lr())?r=fr(i=gr()):"Worker"===r&&(r=fr(i=gr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function gr(){return a.navigator&&a.navigator.userAgent||""}function yr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function mr(){try{var t=a.localStorage,e=Ir();if(t)return t.setItem(e,"1"),t.removeItem(e),!Zn()||!!a.indexedDB}catch(n){return ur()&&!!a.indexedDB}return!1}function _r(){return(br()||"chrome-extension:"===wr()||ar())&&!cr()&&mr()&&!ur()}function br(){return"http:"===wr()||"https:"===wr()}function wr(){return a.location&&a.location.protocol||null}function Cr(t){return!tr(t=t||gr())&&fr(t)!=hr}function Er(t){return void 0===t?null:Gn(t)}function Sr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Tr(t){if(null!==t)return JSON.parse(t)}function Ir(t){return t||Math.floor(1e9*Math.random()).toString()}function kr(t){return"Safari"!=fr(t=t||gr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ar(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Nr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=gr(),e=lr(),this.b=tr(t)||"ReactNative"===e}function xr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Or(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Rr(){return!(!yr("fireauth.oauthhelper",a)&&!yr("fireauth.iframe",a))}Nr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!br()&&"chrome-extension:"!==wr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Pr,Dr={};function Lr(t){Dr[t]||(Dr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Mr={};Object.defineProperty(Mr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Mr,"abcd",{configurable:!0,enumerable:!0,value:2}),Pr=2==Mr.abcd}catch(ge){Pr=!1}function Ur(t,e,n){Pr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function jr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ur(t,n,e[n])}function Fr(t){var e={};return jr(e,t),e}function Vr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ur(e,n,Vr(t[n]));return e}function qr(t){var e={},n=t[Wr],r=t[Br];if(!(t=t[zr])||t!=Hr&&!n)throw Error("Invalid provider user info!");e[Qr]=r||null,e[Gr]=n||null,Ur(this,Yr,t),Ur(this,Kr,Vr(e))}var Hr="EMAIL_SIGNIN",Wr="email",Br="newEmail",zr="requestType",Gr="email",Qr="fromEmail",Kr="data",Yr="operation";function Xr(t,e){this.code=Jr+t,this.message=e||$r[t]||""}function Zr(t){var e=t&&t.code;return e?new Xr(e.substring(Jr.length),t.message):null}T(Xr,Error),Xr.prototype.A=function(){return{code:this.code,message:this.message}},Xr.prototype.toJSON=function(){return this.A()};var Jr="auth/",$r={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ti(t){var e=Cn(t=En(t),ei)||null,n=Cn(t,ni)||null,r=Cn(t,oi)||null;if(r=r&&si[r]||null,!e||!n||!r)throw new Xr("argument-error",ei+", "+ni+"and "+oi+" are required in a valid action code URL.");jr(this,{apiKey:e,operation:r,code:n,continueUrl:Cn(t,ri)||null,languageCode:Cn(t,ii)||null,tenantId:Cn(t,ai)||null})}var ei="apiKey",ni="oobCode",ri="continueUrl",ii="languageCode",oi="mode",ai="tenantId",si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Hr,verifyEmail:"VERIFY_EMAIL"};function ui(t){try{return new ti(t)}catch(e){return null}}function li(t){var e=t[di];if(void 0===e)throw new Xr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Xr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[ci];if(n&&"object"==typeof n){e=n[yi];var r=n[vi];if(n=n[gi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Xr("argument-error",vi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Xr("argument-error",gi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Xr("argument-error",yi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Xr("missing-android-pkg-name")}}else if(void 0!==n)throw new Xr("argument-error",ci+" property must be a non null object when specified.");if(this.f=null,(e=t[fi])&&"object"==typeof e){if("string"==typeof(e=e[mi])&&e.length)this.f=e;else if(void 0!==e)throw new Xr("argument-error",mi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Xr("argument-error",fi+" property must be a non null object when specified.");if(void 0!==(e=t[pi])&&"boolean"!=typeof e)throw new Xr("argument-error",pi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[hi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Xr("argument-error",hi+" property must be a non empty string when specified.");this.i=t||null}var ci="android",hi="dynamicLinkDomain",pi="handleCodeInApp",fi="iOS",di="url",vi="installApp",gi="minimumVersion",yi="packageName",mi="bundleId";function _i(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var bi=null,wi=null;function Ci(t){this.f=t.sub,S(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.c=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Ei(t){return(t=Si(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Ci(t):null}function Si(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=wi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!bi){bi={},wi={};for(var t=0;65>t;t++)bi[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),wi[bi[t]]=t,62<=t&&(wi["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Ci.prototype.R=function(){return this.c},Ci.prototype.g=function(){return this.b};var Ti,Ii={ad:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},cd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},dd:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function ki(t){for(var e in Ii)if(Ii[e].id===t)return{firebaseEndpoint:(t=Ii[e]).bb,secureTokenEndpoint:t.ib};return null}Ti=ki("__EID__")?"__EID__":void 0;var Ai="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ni=["client_id","response_type","scope","redirect_uri","state"],xi={Wc:{Oa:"locale",Da:500,Ca:600,Pa:"facebook.com",hb:Ni},Yc:{Oa:null,Da:500,Ca:620,Pa:"github.com",hb:Ni},Zc:{Oa:"hl",Da:515,Ca:680,Pa:"google.com",hb:Ni},ed:{Oa:"lang",Da:485,Ca:705,Pa:"twitter.com",hb:Ai}};function Oi(t){for(var e in xi)if(xi[e].Pa==t)return xi[e];return null}function Ri(t){var e={};e["facebook.com"]=Ui,e["google.com"]=Fi,e["github.com"]=ji,e["twitter.com"]=Vi;var n=t&&t[Di];try{if(n)return e[n]?new e[n](t):new Mi(t);if(void 0!==t[Pi])return new Li(t)}catch(r){}return null}var Pi="idToken",Di="providerId";function Li(t){var e=t[Di];if(!e&&t[Pi]){var n=Ei(t[Pi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Ur(this,"providerId",e),Ur(this,"isNewUser",n)}function Mi(t){Li.call(this,t),Ur(this,"profile",Vr((t=Tr(t.rawUserInfo||"{}"))||{}))}function Ui(t){if(Mi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ji(t){if(Mi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ur(this,"username",this.profile&&this.profile.login||null)}function Fi(t){if(Mi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Vi(t){if(Mi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ur(this,"username",t.screenName||null)}function qi(t){var e=En(t),n=Cn(e,"link"),r=Cn(En(n),"link");return e=Cn(e,"deep_link_id"),Cn(En(e),"link")||e||r||n||t}function Hi(){}function Wi(t,e){return t.then((function(t){if(t[Na]){var n=Ei(t[Na]);if(!n||e!=n.f)throw new Xr("user-mismatch");return t}throw new Xr("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==Jr+"user-not-found"?new Xr("user-mismatch"):t}))}function Bi(t,e){if(!e)throw new Xr("internal-error","failed to construct a credential");this.a=e,Ur(this,"providerId",t),Ur(this,"signInMethod",t)}function zi(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Gi(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Bi(t.providerId,t.pendingToken)}catch(e){}return null}function Qi(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Ur(this,"idToken",e.idToken),e.accessToken&&Ur(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Ur(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Xr("internal-error","failed to construct a credential");Ur(this,"accessToken",e.oauthToken),Ur(this,"secret",e.oauthTokenSecret)}Ur(this,"providerId",t),Ur(this,"signInMethod",n)}function Ki(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Ln(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Yi(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Qi(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Xi(t,e){this.Fc=e||[],jr(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.cb=(Oi(t)||{}).Oa||null,this.ab=null}function Zi(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Xr("argument-error",'SAML provider IDs must be prefixed with "saml."');Xi.call(this,t,[])}function Ji(t){Xi.call(this,t,Ni),this.a=[]}function $i(){Ji.call(this,"facebook.com")}function to(t){if(!t)throw new Xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new $i).credential({accessToken:e})}function eo(){Ji.call(this,"github.com")}function no(t){if(!t)throw new Xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new eo).credential({accessToken:e})}function ro(){Ji.call(this,"google.com"),this.wa("profile")}function io(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new ro).credential({idToken:n,accessToken:e})}function oo(){Xi.call(this,"twitter.com",Ai)}function ao(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Xr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Qi("twitter.com",n,"twitter.com")}function so(t,e,n){this.a=t,this.c=e,Ur(this,"providerId","password"),Ur(this,"signInMethod",n===lo.EMAIL_LINK_SIGN_IN_METHOD?lo.EMAIL_LINK_SIGN_IN_METHOD:lo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function uo(t){return t&&t.email&&t.password?new so(t.email,t.password,t.signInMethod):null}function lo(){jr(this,{providerId:"password",isOAuthProvider:!1})}function co(t,e){if(!(e=ho(e)))throw new Xr("argument-error","Invalid email link!");return new so(t,e.code,lo.EMAIL_LINK_SIGN_IN_METHOD)}function ho(t){return(t=ui(t=qi(t)))&&t.operation===Hr?t:null}function po(t){if(!(t.Ua&&t.Ta||t.Fa&&t.ba))throw new Xr("internal-error");this.a=t,Ur(this,"providerId","phone"),Ur(this,"signInMethod","phone")}function fo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return j(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new po(e)}return null}function vo(t){return t.a.Fa&&t.a.ba?{temporaryProof:t.a.Fa,phoneNumber:t.a.ba}:{sessionInfo:t.a.Ua,code:t.a.Ta}}function go(t){try{this.a=t||Rg.a.auth()}catch(e){throw new Xr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}jr(this,{providerId:"phone",isOAuthProvider:!1})}function yo(t,e){if(!t)throw new Xr("missing-verification-id");if(!e)throw new Xr("missing-verification-code");return new po({Ua:t,Ta:e})}function mo(t){if(t.temporaryProof&&t.phoneNumber)return new po({Fa:t.temporaryProof,ba:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return io(o,n);case"facebook.com":return to(n);case"github.com":return no(n);case"twitter.com":return ao(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new Bi(e,a):new Qi(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Ji(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function _o(t){if(!t.isOAuthProvider)throw new Xr("invalid-oauth-provider")}function bo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new Xr("invalid-auth-event");if(this.g&&this.a)throw new Xr("invalid-auth-event");if(this.g&&!this.f)throw new Xr("invalid-auth-event")}function wo(t){return(t=t||{}).type?new bo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Zr(t.error),t.postBody,t.tenantId):null}function Co(){this.b=null,this.a=[]}T(Mi,Li),T(Ui,Mi),T(ji,Mi),T(Fi,Mi),T(Vi,Mi),Bi.prototype.na=function(t){return Qa(t,zi(this))},Bi.prototype.b=function(t,e){var n=zi(this);return n.idToken=e,Ka(t,n)},Bi.prototype.f=function(t,e){return Wi(Ya(t,zi(this)),e)},Bi.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Qi.prototype.na=function(t){return Qa(t,Ki(this))},Qi.prototype.b=function(t,e){var n=Ki(this);return n.idToken=e,Ka(t,n)},Qi.prototype.f=function(t,e){return Wi(Ya(t,Ki(this)),e)},Qi.prototype.A=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Xi.prototype.Ea=function(t){return this.zb=K(t),this},T(Zi,Xi),T(Ji,Xi),Ji.prototype.wa=function(t){return q(this.a,t)||this.a.push(t),this},Ji.prototype.Hb=function(){return z(this.a)},Ji.prototype.credential=function(t,e){var n;if(!(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Xr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Qi(this.providerId,n,this.providerId)},T($i,Ji),Ur($i,"PROVIDER_ID","facebook.com"),Ur($i,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(eo,Ji),Ur(eo,"PROVIDER_ID","github.com"),Ur(eo,"GITHUB_SIGN_IN_METHOD","github.com"),T(ro,Ji),Ur(ro,"PROVIDER_ID","google.com"),Ur(ro,"GOOGLE_SIGN_IN_METHOD","google.com"),T(oo,Xi),Ur(oo,"PROVIDER_ID","twitter.com"),Ur(oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),so.prototype.na=function(t){return this.signInMethod==lo.EMAIL_LINK_SIGN_IN_METHOD?Ss(t,rs,{email:this.a,oobCode:this.c}):Ss(t,bs,{email:this.a,password:this.c})},so.prototype.b=function(t,e){return this.signInMethod==lo.EMAIL_LINK_SIGN_IN_METHOD?Ss(t,is,{idToken:e,email:this.a,oobCode:this.c}):Ss(t,ds,{idToken:e,email:this.a,password:this.c})},so.prototype.f=function(t,e){return Wi(this.na(t),e)},so.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},jr(lo,{PROVIDER_ID:"password"}),jr(lo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),jr(lo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),po.prototype.na=function(t){return t.Va(vo(this))},po.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,Ss(t,Cs,n)},po.prototype.f=function(t,e){var n=vo(this);return n.operation="REAUTH",Wi(t=Ss(t,Es,n),e)},po.prototype.A=function(){var t={providerId:"phone"};return this.a.Ua&&(t.verificationId=this.a.Ua),this.a.Ta&&(t.verificationCode=this.a.Ta),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.ba&&(t.phoneNumber=this.a.ba),t},go.prototype.Va=function(t,e){var n=this.a.b;return Xt(e.verify()).then((function(r){if(!s(r))throw new Xr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return Ss(t,ps,e)}(n,{phoneNumber:t,recaptchaToken:r}).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new Xr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},jr(go,{PROVIDER_ID:"phone"}),jr(go,{PHONE_SIGN_IN_METHOD:"phone"}),bo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},bo.prototype.R=function(){return this.h},bo.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var Eo,So=null;function To(t){var e="unauthorized-domain",n=void 0,r=En(t);t=r.b,"chrome-extension"==(r=r.f)?n=Mt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Mt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Xr.call(this,e,n)}function Io(t,e,n){Xr.call(this,t,n),(t=e||{}).Ab&&Ur(this,"email",t.Ab),t.ba&&Ur(this,"phoneNumber",t.ba),t.credential&&Ur(this,"credential",t.credential),t.Qb&&Ur(this,"tenantId",t.Qb)}function ko(t){if(t.code){var e=t.code||"";0==e.indexOf(Jr)&&(e=e.substring(Jr.length));var n={credential:mo(t),Qb:t.tenantId};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.ba=t.phoneNumber;else if(!n.credential)return new Xr(e,t.message||void 0);return new Io(e,n,t.message)}return null}function Ao(){}function No(){}function xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Oo(){}function Ro(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.fc,this),this.a.onerror=C(this.Ib,this),this.a.onprogress=C(this.gc,this),this.a.ontimeout=C(this.kc,this)}function Po(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Do(t,e,n){this.reset(t,e,n,void 0,void 0)}function Lo(t){this.f=t,this.b=this.c=this.a=null}function Mo(t,e){this.name=t,this.value=e}T(To,Xr),T(Io,Xr),Io.prototype.A=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.A();return e&&X(t,e),t},Io.prototype.toJSON=function(){return this.A()},Ao.prototype.c=null,T(No,Ao),No.prototype.a=function(){var t=xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},No.prototype.b=function(){var t={};return xo(this)&&(t[0]=!0,t[1]=!0),t},Eo=new No,T(Oo,Ao),Oo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ro;throw Error("Unsupported browser")},Oo.prototype.b=function(){return{}},(t=Ro.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Po(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",Po(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,Po(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Do.prototype.a=null,Do.prototype.reset=function(t,e,n,r,i){r||S(),delete this.a},Mo.prototype.toString=function(){return this.name};var Uo=new Mo("SEVERE",1e3),jo=new Mo("WARNING",900),Fo=new Mo("CONFIG",700),Vo=new Mo("FINE",500);Lo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(N("Root logger has no level set."),null)}(this).value)for(g(e)&&(e=e()),t=new Do(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var qo={},Ho=null;function Wo(t){var e;if(Ho||(Ho=new Lo(""),qo[""]=Ho,Ho.c=Fo),!(e=qo[t])){e=new Lo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=Wo(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,qo[t]=e}return e}function Bo(t,e){t&&t.log(Vo,e,void 0)}function zo(t){this.f=t}function Go(t){on.call(this),this.o=t,this.readyState=Qo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Wo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(zo,Ao),zo.prototype.a=function(){return new Go(this.f)},zo.prototype.b=function(t){return function(){return t}}({}),T(Go,on);var Qo=0;function Ko(t){t.c.read().then(t.ec.bind(t)).catch(t.Ma.bind(t))}function Yo(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Xo(t)}function Xo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Zo(t){on.call(this),this.headers=new fn,this.B=t||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=Jo,this.v=this.P=!1}(t=Go.prototype).open=function(t,e){if(this.readyState!=Qo)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Xo(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.Ma.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Yo(this,!1)),this.readyState=Qo},t.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Xo(this)),this.a&&(this.readyState=3,Xo(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.Ma.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Ko(this)):t.text().then(this.ic.bind(this),this.Ma.bind(this)))))},t.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Yo(this,!0):Xo(this),3==this.readyState&&Ko(this)}},t.ic=function(t){this.a&&(this.response=this.responseText=t,Yo(this,!0))},t.hc=function(t){this.a&&(this.response=t,Yo(this,!0))},t.Ma=function(t){var e=this.h;e&&e.log(jo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&Yo(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(jo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(jo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},T(Zo,on);var Jo="";Zo.prototype.b=Wo("goog.net.XhrIo");var $o=/^https?$/i,ta=["POST","PUT"];function ea(t){return"content-type"==t.toLowerCase()}function na(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ra(t),oa(t)}function ra(t){t.I||(t.I=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ia(t){if(t.c&&void 0!==o)if(t.w[1]&&4==sa(t)&&2==ua(t))Bo(t.b,la(t,"Local request error detected and ignored"));else if(t.i&&4==sa(t))ln(t.Lb,0,t);else if(t.dispatchEvent("readystatechange"),4==sa(t)){Bo(t.b,la(t,"Request complete")),t.c=!1;try{var e,n=ua(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(gn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!$o.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<sa(t)?t.a.statusText:""}catch(c){Bo(t.b,"Can not get status: "+c.message),l=""}t.h=l+" ["+ua(t)+"]",ra(t)}}finally{oa(t)}}}function oa(t,e){if(t.a){aa(t);var n=t.a,r=t.w[0]?h:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Uo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function aa(t){t.a&&t.v&&(t.a.ontimeout=null),t.o&&(a.clearTimeout(t.o),t.o=null)}function sa(t){return t.a?t.a.readyState:0}function ua(t){try{return 2<sa(t)?t.a.status:-1}catch(e){return-1}}function la(t,e){return e+" ["+t.O+" "+t.l+" "+ua(t)+"]"}function ca(t){var e=wa;this.g=[],this.v=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ha(t,e,n){t.a=!0,t.c=n,t.f=!e,va(t)}function pa(t){if(t.a){if(!t.u)throw new ga(t);t.u=!1}}function fa(t,e,n,r){t.g.push([e,n,r]),t.a&&va(t)}function da(t){return V(t.g,(function(t){return g(t[1])}))}function va(t){if(t.h&&t.a&&da(t)){var e=t.h,n=_a[e];n&&(a.clearTimeout(n.a),delete _a[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.o,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(I(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(l){e=l,t.f=!0,da(t)||(n=!0)}}t.c=e,r&&(u=C(t.m,t,!0),r=C(t.m,t,!1),e instanceof ca?(fa(e,u,r),e.w=!0):e.then(u,r)),n&&(e=new ma(e),_a[e.a]=e,t.h=e.a)}function ga(){k.call(this)}function ya(){k.call(this)}function ma(t){this.a=a.setTimeout(C(this.c,this),0),this.b=t}(t=Zo.prototype).Ga=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Bo(this.b,la(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Bo(this.b,la(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),oa(this))},t.xa=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),oa(this,!0)),Zo.qb.xa.call(this)},t.Lb=function(){this.ta||(this.J||this.i||this.f?ia(this):this.yc())},t.yc=function(){ia(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Jo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Uo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Bo(this.b,"Can not get response: "+e.message),null}},ca.prototype.cancel=function(t){if(this.a)this.c instanceof ca&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new ya(this),pa(this),ha(this,!1,t))}},ca.prototype.m=function(t,e){this.i=!1,ha(this,t,e)},ca.prototype.then=function(t,e,n){var r,i,o=new Wt((function(t,e){r=t,i=e}));return fa(this,r,(function(t){t instanceof ya?o.cancel():i(t)})),o.then(t,e,n)},ca.prototype.$goog_Thenable=!0,T(ga,k),ga.prototype.message="Deferred has already fired",ga.prototype.name="AlreadyCalledError",T(ya,k),ya.prototype.message="Deferred was canceled",ya.prototype.name="CanceledError",ma.prototype.c=function(){throw delete _a[this.a],this.b};var _a={};function ba(t){var e={},n=e.document||document,r=rt(t).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ga:void 0},s=new ca(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Ca(i,!0);var t=new Ta(Sa,"Timeout reached for loading script "+r);pa(s),ha(s,!1,t)}),h),o.Ga=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ca(i,e.gd||!1,u),pa(s),ha(s,!0,null))},i.onerror=function(){Ca(i,!0,u);var t=new Ta(Ea,"Error while loading script "+r);pa(s),ha(s,!1,t)},X(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Wn(i,o),function(t,e){M(t,"HTMLScriptElement"),t.src=rt(e),null===c&&(c=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function wa(){if(this&&this.Nb){var t=this.Nb;t&&"SCRIPT"==t.tagName&&Ca(t,!0,this.Ga)}}function Ca(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ea=0,Sa=1;function Ta(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),k.call(this,n),this.code=t}function Ia(t){this.f=t}function ka(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=t.secureTokenTimeout||xa,this.g=K(t.secureTokenHeaders||Oa),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.firebaseTimeout||Ra,this.a=K(t.firebaseHeaders||Pa),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==lr(),!(n=a.XMLHttpRequest||n&&Rg.a.INTERNAL.node&&Rg.a.INTERNAL.node.XMLHttpRequest)&&!ur())throw new Xr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=ur()?new zo(self):cr()?new Ia(n):new Oo,this.b=null}T(Ta,k),T(Ia,Ao),Ia.prototype.a=function(){return new this.f},Ia.prototype.b=function(){return{}};var Aa,Na="idToken",xa=new Nr(3e4,6e4),Oa={"Content-Type":"application/x-www-form-urlencoded"},Ra=new Nr(3e4,6e4),Pa={"Content-Type":"application/json"};function Da(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function La(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Ma(t,e,n,r,i,o,s){(function(){var t=gr();return!((t=fr(t)!=pr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||me&&ke&&!(9<ke))})()||ur()?t=C(t.o,t):(Aa||(Aa=new Wt((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[ja]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){fa(t,null,e,void 0)}(ba(it(Ua,{onload:ja})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=C(t.m,t)),t(e,n,r,i,o,s)}ka.prototype.R=function(){return this.b},ka.prototype.o=function(t,e,n,r,i,o){if(ur()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new Xr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var u=new Zo(this.f);if(o){u.g=Math.max(0,o);var l=setTimeout((function(){u.dispatchEvent("timeout")}),o)}an(u,"complete",(function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Bo(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),sn(u,"ready",(function(){l&&clearTimeout(l),fe(this)})),sn(u,"timeout",(function(){l&&clearTimeout(l),fe(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.O=n,t.I=!1,t.c=!0,t.a=t.B?t.B.a():Eo.a(),t.w=function(t){return t.c||(t.c=t.b())}(t.B?t.B:Eo),t.a.onreadystatechange=C(t.Lb,t);try{Bo(t.b,la(t,"Opening Xhr")),t.J=!0,t.a.open(n,String(e),!0),t.J=!1}catch(u){return Bo(t.b,la(t,"Error opening Xhr: "+u.message)),void na(t,u)}e=r||"";var o=new fn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(v(t)||s(t))j(t,e,void 0);else for(var n=pn(t),r=hn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ea,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(o.X()),r=a.FormData&&e instanceof a.FormData,!q(ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.P&&(t.a.withCredentials=t.P);try{aa(t),0<t.g&&(t.v=function(t){return me&&Ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Bo(t.b,la(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=C(t.Ga,t)):t.o=ln(t.Ga,t.g,t)),Bo(t.b,la(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(u){Bo(t.b,la(t,"Send error: "+u.message)),na(t,u)}}(u,t,n,r,i)};var Ua=new Z(tt,"https://apis.google.com/js/client.js?onload=%{onload}"),ja="__fcb"+Math.floor(1e6*Math.random()).toString();function Fa(t){if(!s(t=t.email)||!ir.test(t))throw new Xr("invalid-email")}function Va(t){"email"in t&&Fa(t)}function qa(t){if(!t[Na])throw new Xr("internal-error")}function Ha(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Xr("internal-error")}else{if(!t.sessionInfo)throw new Xr("missing-verification-id");if(!t.code)throw new Xr("missing-verification-code")}}ka.prototype.m=function(t,e,n,r,i){var o=this;Aa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},ka.prototype.ob=function(){return Ss(this,vs,{})},ka.prototype.rb=function(t,e){return Ss(this,fs,{idToken:t,email:e})},ka.prototype.sb=function(t,e){return Ss(this,ds,{idToken:t,password:e})};var Wa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ba(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Xr("internal-error")}function za(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Un(t=new Pn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function Ga(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=ko(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=ko(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=ko(t)):t.errorMessage&&(e=Ts(t.errorMessage)),e)throw e;if(!t[Na])throw new Xr("internal-error")}function Qa(t,e){return e.returnIdpCredential=!0,Ss(t,gs,e)}function Ka(t,e){return e.returnIdpCredential=!0,Ss(t,ms,e)}function Ya(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ss(t,ys,e)}function Xa(t){if(!t.oobCode)throw new Xr("invalid-action-code")}(t=ka.prototype).tb=function(t,e){var n={idToken:t},r=[];return G(Wa,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ss(this,fs,n)},t.kb=function(t,e){return X(t={requestType:"PASSWORD_RESET",email:t},e),Ss(this,us,t)},t.lb=function(t,e){return X(t={requestType:"EMAIL_SIGNIN",email:t},e),Ss(this,as,t)},t.jb=function(t,e){return X(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ss(this,ss,t)},t.Va=function(t){return Ss(this,ws,t)},t.$a=function(t,e){return Ss(this,hs,{oobCode:t,newPassword:e})},t.Ka=function(t){return Ss(this,Ja,{oobCode:t})},t.Xa=function(t){return Ss(this,Za,{oobCode:t})};var Za={endpoint:"setAccountInfo",D:Xa,fa:"email",F:!0},Ja={endpoint:"resetPassword",D:Xa,K:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Xr("internal-error")},F:!0},$a={endpoint:"signupNewUser",D:function(t){if(Fa(t),!t.password)throw new Xr("weak-password")},K:qa,T:!0,F:!0},ts={endpoint:"createAuthUri",F:!0},es={endpoint:"deleteAccount",V:["idToken"]},ns={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(t){if(!d(t.deleteProvider))throw new Xr("internal-error")}},rs={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Fa,K:qa,T:!0,F:!0},is={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Fa,K:qa,T:!0},os={endpoint:"getAccountInfo"},as={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Xr("internal-error");Fa(t)},fa:"email",F:!0},ss={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Xr("internal-error")},fa:"email",F:!0},us={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Xr("internal-error");Fa(t)},fa:"email",F:!0},ls={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},cs={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(t){if(!t.recaptchaSiteKey)throw new Xr("internal-error")}},hs={endpoint:"resetPassword",D:Xa,fa:"email",F:!0},ps={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},fs={endpoint:"setAccountInfo",V:["idToken"],D:Va,T:!0},ds={endpoint:"setAccountInfo",V:["idToken"],D:function(t){if(Va(t),!t.password)throw new Xr("weak-password")},K:qa,T:!0},vs={endpoint:"signupNewUser",K:qa,T:!0,F:!0},gs={endpoint:"verifyAssertion",D:Ba,Qa:za,K:Ga,T:!0,F:!0},ys={endpoint:"verifyAssertion",D:Ba,Qa:za,K:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Xr("user-not-found");if(t.errorMessage)throw Ts(t.errorMessage);if(!t[Na])throw new Xr("internal-error")},T:!0,F:!0},ms={endpoint:"verifyAssertion",D:function(t){if(Ba(t),!t.idToken)throw new Xr("internal-error")},Qa:za,K:Ga,T:!0},_s={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Xr("invalid-custom-token")},K:qa,T:!0,F:!0},bs={endpoint:"verifyPassword",D:function(t){if(Fa(t),!t.password)throw new Xr("wrong-password")},K:qa,T:!0,F:!0},ws={endpoint:"verifyPhoneNumber",D:Ha,K:qa,F:!0},Cs={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Xr("internal-error");Ha(t)},K:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",ko(t);qa(t)}},Es={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Ha,K:qa,F:!0};function Ss(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.V))return Zt(new Xr("internal-error"));var r,i=e.Kb||"POST";return Xt(n).then(e.D).then((function(){return e.T&&(n.returnSecureToken=!0),e.F&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o){var a=En(t.h+e);wn(a,"key",t.c),o&&wn(a,"cb",S().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&wn(a,u,r[u]);return new Wt((function(e,o){Ma(t,a.toString(),(function(t){t?t.error?o(Is(t,i||{})):e(t):o(new Xr("network-request-failed"))}),n,s?void 0:Gn(Sr(r)),t.a,t.i.get())}))}(t,e.endpoint,i,n,e.Yb,e.wb||!1)})).then((function(t){return r=t,e.Qa?e.Qa(n,r):r})).then(e.K).then((function(){if(!e.fa)return r;if(!(e.fa in r))throw new Xr("internal-error");return r[e.fa]}))}function Ts(t){return Is({error:{errors:[{message:t}],code:400,message:t}})}function Is(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Xr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",X(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Xr(r[i],e);return!e&&t&&(e=Er(t)),new Xr("internal-error",e)}function ks(t){this.b=t,this.a=null,this.fb=function(t){return(Os||(Os=new Wt((function(t,e){function n(){Ar(),yr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ar(),e(Error("Network Error"))},timeout:Ns.get()})}if(yr("gapi.iframes.Iframe"))t();else if(yr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){yr("gapi.load")?n():e(Error("Network Error"))},Xt(ba(r=it(As,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw Os=null,t})))).then((function(){return new Wt((function(e,n){yr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:yr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),xs.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var As=new Z(tt,"https://apis.google.com/js/api.js?onload=%{onload}"),Ns=new Nr(3e4,6e4),xs=new Nr(5e3,15e3),Os=null;function Rs(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Sn(this.i,"/__/auth/iframe"),wn(this.a,"apiKey",this.g),wn(this.a,"appName",this.h),this.b=null,this.c=[]}function Ps(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Ds(t){try{return Rg.a.app(t).auth().Aa()}catch(e){return[]}}function Ls(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Ms(t){var e=Jn();return function(t){return Ss(t,ls,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=En(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=En(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:rr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new To(Jn())}))}function Us(t){return t.l?t.l:(t.l=or().then((function(){if(!t.o){var e=t.c,n=t.h,r=Ds(t.b),i=new Rs(t.u,t.f,t.b);i.f=e,i.b=n,i.c=z(r||[]),t.o=i.toString()}t.i=new ks(t.o),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.fb.then((function(){t.a.register("authEvent",e,yr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=wo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Xt(n)}return n.status="ERROR",Xt(n)}))}(t)})),t.l)}function js(t){return t.m||(t.v=t.c?vr(t.c,Ds(t.b)):null,t.m=new ka(t.f,ki(t.h),t.v)),t.m}function Fs(t,e,n,r,i,o,a,s,u,l,c){return(t=new Ps(t,e,n,r,i)).l=o,t.g=a,t.i=s,t.b=K(u||null),t.f=l,t.nb(c).toString()}function Vs(t){if(this.a=t||Rg.a.INTERNAL.reactNative&&Rg.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Xr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function qs(t){this.b=t,this.a={},this.f=C(this.c,this)}Rs.prototype.toString=function(){return this.f?wn(this.a,"v",this.f):Mn(this.a.a,"v"),this.b?wn(this.a,"eid",this.b):Mn(this.a.a,"eid"),this.c.length?wn(this.a,"fw",this.c.join(",")):Mn(this.a.a,"fw"),this.a.toString()},Ps.prototype.nb=function(t){return this.h=t,this},Ps.prototype.toString=function(){var t=Sn(this.o,"/__/auth/handler");if(wn(t,"apiKey",this.m),wn(t,"appName",this.c),wn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=Rg.a.app(this.c).auth().ha()}catch(s){n=null}for(var r in e.ab=n,wn(t,"providerId",this.a.providerId),n=Sr((e=this.a).zb))n[r]=n[r].toString();r=e.Fc,n=K(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.cb&&e.ab&&!n[e.cb]&&(n[e.cb]=e.ab),Q(n)||wn(t,"customParameters",Er(n))}if("function"==typeof this.a.Hb&&(e=this.a.Hb()).length&&wn(t,"scopes",e.join(",")),this.l?wn(t,"redirectUrl",this.l):Mn(t.a,"redirectUrl"),this.g?wn(t,"eventId",this.g):Mn(t.a,"eventId"),this.i?wn(t,"v",this.i):Mn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Cn(t,a)&&wn(t,a,this.b[a]);return this.h?wn(t,"tid",this.h):Mn(t.a,"tid"),this.f?wn(t,"eid",this.f):Mn(t.a,"eid"),(a=Ds(this.c)).length&&wn(t,"fw",a.join(",")),t.toString()},(t=Ls.prototype).Fb=function(t,e,n){var r=new Xr("popup-closed-by-user"),i=new Xr("web-storage-unsupported"),o=this,a=!1;return this.ia().then((function(){(function(t){var e={type:"webStorageSupport"};return Us(t).then((function(){return function(t,e){return t.fb.then((function(){return new Wt((function(n){t.a.send(e.type,e,n,yr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&er(t),e(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(t){return new Wt((function(e){return function n(){cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return cn(n).then((function(){e(r)}))}))},t.Ob=function(){var t=gr();return!Cr(t)&&!kr(t)},t.Jb=function(){return!1},t.Db=function(t,e,n,r,i,o,a,s){if(!t)return Zt(new Xr("popup-blocked"));if(a&&!Cr())return this.ia().s((function(e){er(t),i(e)})),r(),Xt();this.a||(this.a=Ms(js(this)));var u=this;return this.a.then((function(){var e=u.ia().s((function(e){throw er(t),i(e),e}));return r(),e})).then((function(){_o(n),a||$n(Fs(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,s),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Eb=function(t,e,n,r){this.a||(this.a=Ms(js(this)));var i=this;return this.a.then((function(){_o(e),$n(Fs(i.u,i.f,i.b,t,e,Jn(),n,i.c,void 0,i.h,r))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ia=function(){var t=this;return Us(this).then((function(){return t.i.fb})).s((function(){throw t.a=null,new Xr("network-request-failed")}))},t.Rb=function(){return!0},t.ya=function(t){this.g.push(t)},t.La=function(t){W(this.g,(function(e){return e==t}))},(t=Vs.prototype).get=function(t){return Xt(this.a.getItem(t)).then((function(t){return t&&Tr(t)}))},t.set=function(t,e){return Xt(this.a.setItem(t,Er(e)))},t.S=function(t){return Xt(this.a.removeItem(t))},t.$=function(){},t.ea=function(){};var Hs,Ws=[];function Bs(t,e,n){Q(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function zs(t){this.a=t}function Gs(t){this.c=t,this.b=!1,this.a=[]}function Qs(t,e,n,r){var i,o,a,s,u=n||{},l=null;if(t.b)return Zt(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Wt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),c),t.a.push(l={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Ks(t,l),e})).s((function(e){throw Ks(t,l),e}))}function Ks(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),W(t.a,(function(t){return t==e}))}}function Ys(){if(!Zs())throw new Xr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;ur()&&self?(this.l=function(){var t=ur()?self:null;if(j(Ws,(function(n){n.b==t&&(e=n)})),!e){var e=new qs(t);Ws.push(e)}return e}(),Bs(this.l,"keyChanged",(function(e,n){return nu(t).then((function(e){return 0<e.length&&j(t.a,(function(t){t(e)})),{keyProcessed:q(e,n.key)}}))})),Bs(this.l,"ping",(function(){return Xt(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Xt().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Xt(null)}().then((function(e){(t.h=e)&&(t.g=new Gs(new zs(e)),Qs(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&q(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function Xs(t){return t.m||(t.m=function t(e){return new Wt((function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new Wt((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).s((function(t){r(t)}))}}))}(t)),t.m}function Zs(){try{return!!a.indexedDB}catch(ge){return!1}}function Js(t){return t.objectStore("firebaseLocalStorage")}function $s(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function tu(t){return new Wt((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function eu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Qs(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):Xt()}function nu(t){return Xs(t).then((function(t){var e=Js($s(t,!1));return e.getAll?tu(e.getAll()):new Wt((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function ru(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function iu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Xt().then((function(){if(Zs()){var t=Ir(),r="__sak"+t;return Hs||(Hs=new Ys),(n=Hs).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.S(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.$((function(t){j(e.a,(function(e){e(t)}))})),t}))}function ou(){this.a={},this.type="inMemory"}function au(){if(!function(){var t="Node"==lr();if(!(t=su()||t&&Rg.a.INTERNAL.node&&Rg.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==lr())throw new Xr("internal-error","The LocalStorage compatibility library was not found.");throw new Xr("web-storage-unsupported")}this.a=su()||Rg.a.INTERNAL.node.localStorage,this.type="localStorage"}function su(){try{var t=a.localStorage,e=Ir();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function uu(){this.type="nullStorage"}function lu(){if(!function(){var t="Node"==lr();if(!(t=cu()||t&&Rg.a.INTERNAL.node&&Rg.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==lr())throw new Xr("internal-error","The SessionStorage compatibility library was not found.");throw new Xr("web-storage-unsupported")}this.a=cu()||Rg.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function cu(){try{var t=a.sessionStorage,e=Ir();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function hu(){var t={};t.Browser=du,t.Node=vu,t.ReactNative=gu,t.Worker=yu,this.a=t[lr()]}qs.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];j(r,(function(e){i.push(Xt().then((function(){return e(t.origin,t.data.data)})))})),$t(i).then((function(r){var i=[];j(r,(function(t){i.push({fulfilled:t.Gb,value:t.value,reason:t.reason?t.reason.message:void 0})})),j(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},zs.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Gs.prototype.close=function(){for(;0<this.a.length;)Ks(this,this.a[0]);this.b=!0},(t=Ys.prototype).set=function(t,e){var n,r=!1,i=this;return Xs(this).then((function(e){return tu((e=Js($s(n=e,!0))).get(t))})).then((function(o){var a=Js($s(n,!0));return o?(o.value=e,tu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,tu(a.add(o)))})).then((function(){return i.c[t]=e,eu(i,t)})).ka((function(){r&&i.b--}))},t.get=function(t){return Xs(this).then((function(e){return tu(Js($s(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.S=function(t){var e=!1,n=this;return Xs(this).then((function(r){return e=!0,n.b++,tu(Js($s(r,!0)).delete(t))})).then((function(){return delete n.c[t],eu(n,t)})).ka((function(){e&&n.b--}))},t.$=function(t){0==this.a.length&&function(t){ru(t),function e(){t.f=setTimeout((function(){t.i=nu(t).then((function(e){0<e.length&&j(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ea=function(t){W(this.a,(function(e){return e==t})),0==this.a.length&&ru(this)},(t=iu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.S=function(t){return this.b.then((function(e){return e.S(t)}))},t.$=function(t){this.a.push(t)},t.ea=function(t){W(this.a,(function(e){return e==t}))},(t=ou.prototype).get=function(t){return Xt(this.a[t])},t.set=function(t,e){return this.a[t]=e,Xt()},t.S=function(t){return delete this.a[t],Xt()},t.$=function(){},t.ea=function(){},(t=au.prototype).get=function(t){var e=this;return Xt().then((function(){return Tr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Xt().then((function(){var r=Er(e);null===r?n.S(t):n.a.setItem(t,r)}))},t.S=function(t){var e=this;return Xt().then((function(){e.a.removeItem(t)}))},t.$=function(t){a.window&&Ge(a.window,"storage",t)},t.ea=function(t){a.window&&Ye(a.window,"storage",t)},(t=uu.prototype).get=function(){return Xt(null)},t.set=function(){return Xt()},t.S=function(){return Xt()},t.$=function(){},t.ea=function(){},(t=lu.prototype).get=function(t){var e=this;return Xt().then((function(){return Tr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Xt().then((function(){var r=Er(e);null===r?n.S(t):n.a.setItem(t,r)}))},t.S=function(t){var e=this;return Xt().then((function(){e.a.removeItem(t)}))},t.$=function(){},t.ea=function(){};var pu,fu,du={C:au,Sa:lu},vu={C:au,Sa:lu},gu={C:Vs,Sa:uu},yu={C:au,Sa:uu},mu={$c:"local",NONE:"none",bd:"session"};function _u(){var t=!(kr(gr())||!sr()),e=Cr(),n=mr();this.m=t,this.h=e,this.l=n,this.a={},pu||(pu=new hu),t=pu;try{this.g=!Zn()&&Rr()||!a.indexedDB?new t.a.C:new iu(ur()?new ou:new t.a.C)}catch(r){this.g=new ou,this.h=!0}try{this.i=new t.a.Sa}catch(r){this.i=new ou}this.u=new ou,this.f=C(this.Pb,this),this.b={}}function bu(){return fu||(fu=new _u),fu}function wu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Cu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Eu(t,e,n){return n=Cu(e,n),"local"==e.C&&(t.b[n]=null),wu(t,e.C).S(n)}function Su(t){t.c&&(clearInterval(t.c),t.c=null)}function Tu(t){this.a=t,this.b=bu()}(t=_u.prototype).get=function(t,e){return wu(this,t.C).get(Cu(t,e))},t.set=function(t,e,n){var r=Cu(t,n),i=this,o=wu(this,t.C);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.C&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Cu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),Q(this.a)&&(wu(this,"local").$(this.f),this.h||(Zn()||!Rr())&&a.indexedDB||!this.l||function(t){Su(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Le({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Pb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Cu(t,e),this.a[t]&&(W(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),Q(this.a)&&(wu(this,"local").ea(this.f),Su(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Za(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?wu(this,"local").ea(this.f):Su(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.Za(e))},me&&ke&&10==ke&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else j(t,C(this.Za,this))},t.Za=function(t){this.a[t]&&j(this.a[t],(function(t){t()}))};var Iu,ku={name:"authEvent",C:"local"};function Au(){this.a=bu()}function Nu(t,e){this.b=xu,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0!==Iu||(Iu=a.Int32Array?new Int32Array(Uu):Uu),this.reset()}T(Nu,(function(){this.b=-1}));for(var xu=64,Ou=xu-1,Ru=[],Pu=0;Pu<Ou;Pu++)Ru[Pu]=0;var Du=B(128,Ru);function Lu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var p=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|Iu[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+p|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Mu(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(s(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Lu(t),i=0);else{if(!v(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Lu(t),i=0)}}t.c=i,t.g+=n}Nu.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):z(this.h)};var Uu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ju(){Nu.call(this,8,Fu)}T(ju,Nu);var Fu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Vu(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.o=i||null,this.h=e+":"+n,this.v=new Au,this.g=new Tu(this.h),this.f=null,this.b=[],this.a=this.c=null}function qu(t){return new Xr("invalid-cordova-configuration",t)}function Hu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Wu(t){return t.f||(t.f=t.ia().then((function(){return new Wt((function(e){t.ya((function n(r){return e(r),t.La(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Bu(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=qi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Tr(Cn(o=En(i),"firebaseError")||null))?Zr(o):null)?new bo(r.c,r.b,null,null,o,null,r.R()):new bo(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}Hu(t,i)}))}var n=new bo("unknown",null,null,null,new Xr("no-auth-event")),r=!1,i=cn(500).then((function(){return Bu(t).then((function(){r||Hu(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(yr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},So||(So=new Co),function(t){var e=So;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=yr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Bu(t){var e=null;return function(t){return t.b.get(ku,t.a).then((function(t){return wo(t)}))}(t.g).then((function(n){return e=n,Eu((n=t.g).b,ku,n.a)})).then((function(){return e}))}function zu(t){this.a=t,this.b=bu()}(t=Vu.prototype).ia=function(){return this.Ba?this.Ba:this.Ba=(ar(void 0)?or().then((function(){return new Wt((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Zt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof yr("universalLinks.subscribe",a))throw qu("cordova-universal-links-plugin-fix is not installed");if(void 0===yr("BuildInfo.packageName",a))throw qu("cordova-plugin-buildinfo is not installed");if("function"!=typeof yr("cordova.plugins.browsertab.openUrl",a))throw qu("cordova-plugin-browsertab is not installed");if("function"!=typeof yr("cordova.InAppBrowser.open",a))throw qu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Xr("cordova-not-ready")}))},t.Fb=function(t,e){return e(new Xr("operation-not-supported-in-this-environment")),Xt()},t.Db=function(){return Zt(new Xr("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(t,e,n,r){if(this.c)return Zt(new Xr("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,l=null,c=null;return this.c=Xt().then((function(){return _o(e),Wu(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new bo(e,r,null,o,new Xr("no-auth-event"),null,i),u=yr("BuildInfo.packageName",a);if("string"!=typeof u)throw new Xr("invalid-cordova-configuration");var l=yr("BuildInfo.displayName",a),c={};if(gr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=u;else{if(!gr().toLowerCase().match(/android/))return Zt(new Xr("operation-not-supported-in-this-environment"));c.apn=u}l&&(c.appDisplayName=l),o=function(t){var e=new ju;Mu(e,t),t=[];var n=8*e.g;Mu(e,Du,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Lu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return F(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),c.sessionId=o;var h=Fs(t.u,t.i,t.l,e,n,null,r,t.m,c,t.o,i);return t.ia().then((function(){var e=t.h;return t.v.a.set(ku,s.A(),e)})).then((function(){var e=yr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new Xr("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=yr("cordova.plugins.browsertab.openUrl",a)))throw new Xr("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=yr("cordova.InAppBrowser.open",a)))throw new Xr("invalid-cordova-configuration");e=gr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Wt((function(t,e){u=function(){var e=yr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.ya(u),c=function(){xr()&&l()},o.addEventListener("resume",l=function(){s||(s=cn(2e3).then((function(){e(new Xr("redirect-cancelled-by-user"))})))},!1),gr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).s((function(t){return Bu(i).then((function(){throw t}))}))})).ka((function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),u&&i.La(u),i.c=null}))},t.ya=function(t){this.b.push(t),Wu(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new bo("unknown",null,null,null,new Xr("no-auth-event")),t(e))}))},t.La=function(t){W(this.b,(function(e){return e==t}))};var Gu={name:"pendingRedirect",C:"session"};function Qu(t){return Eu(t.b,Gu,t.a)}function Ku(t,e,n){this.i={},this.v=0,this.B=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=C(this.o,this),this.b=new ul,this.w=new fl,this.g=new zu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=Yu(this.B,this.u,this.m,Ti)}function Yu(t,e,n,r){var i=Rg.a.SDK_VERSION||null;return ar()?new Vu(t,e,n,i,r):new Ls(t,e,n,i,r)}function Xu(t){t.f||(t.f=!0,t.a.ya(t.l));var e=t.a;return t.a.ia().s((function(n){throw t.a==e&&t.reset(),n}))}function Zu(t){t.a.Ob()&&Xu(t).s((function(e){var n=new bo("unknown",null,null,null,new Xr("operation-not-supported-in-this-environment"));rl(e)&&t.o(n)})),t.a.Jb()||ll(t.b)}function Ju(t,e){q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Gu,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Qu(t.g).then((function(){Xu(t).s((function(e){var n=new bo("unknown",null,null,null,new Xr("operation-not-supported-in-this-environment"));rl(e)&&t.o(n)}))})):Zu(t)})).s((function(){Zu(t)}))}function $u(t,e){W(t.h,(function(t){return t==e}))}Ku.prototype.reset=function(){this.f=!1,this.a.La(this.l),this.a=Yu(this.B,this.u,this.m),this.i={}},Ku.prototype.o=function(t){if(!t)throw new Xr("invalid-auth-event");if(6e5<=S()-this.v&&(this.i={},this.v=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.v=S())),e=!0;break}}return ll(this.b),e};var tl=new Nr(2e3,1e4),el=new Nr(3e4,6e4);function nl(t,e,n,r,i,o,a){return t.a.Db(e,n,r,(function(){t.f||(t.f=!0,t.a.ya(t.l))}),(function(){t.reset()}),i,o,a)}function rl(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function il(t,e,n,r,i){var o;return function(t){return t.b.set(Gu,"pending",t.a)}(t.g).then((function(){return t.a.Eb(e,n,r,i).s((function(e){if(rl(e))throw new Xr("operation-not-supported-in-this-environment");return o=e,Qu(t.g).then((function(){throw o}))})).then((function(){return t.a.Rb()?new Wt((function(){})):Qu(t.g).then((function(){return t.oa()})).then((function(){})).s((function(){}))}))}))}function ol(t,e,n,r,i){return t.a.Fb(r,(function(t){e.ja(n,null,t,i)}),tl.get())}Ku.prototype.oa=function(){return this.b.oa()};var al={};function sl(t,e,n){var r=e+":"+n;return al[r]||(al[r]=new Ku(t,e,n)),al[r]}function ul(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function ll(t){t.g||(t.g=!0,pl(t,!1,null,null))}function cl(t){t.g&&!t.i&&pl(t,!1,null,null)}function hl(t,e){if(t.b=function(){return Xt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function pl(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Zt(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):hl(t,n):hl(t,{user:null}),t.f=[],t.c=[]}function fl(){}function dl(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(t){this.vb=t},enumerable:!1})}function vl(t,e){this.a=e,Ur(this,"verificationId",t)}function gl(t,e,n,r){return new go(t).Va(e,n).then((function(t){return new vl(t,r)}))}function yl(t){var e=Si(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Xr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");jr(this,{token:t,expirationTime:Or(1e3*e.exp),authTime:Or(1e3*e.auth_time),issuedAtTime:Or(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function ml(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function _l(t){this.f=t,this.b=this.a=null,this.c=0}function bl(t,e){var n=e[Na],r=e.refreshToken;e=wl(e.expiresIn),t.b=n,t.c=e,t.a=r}function wl(t){return S()+1e3*parseInt(t,10)}function Cl(t,e){this.a=t||null,this.b=e||null,jr(this,{lastSignInTime:Or(e||null),creationTime:Or(t||null)})}function El(t,e,n,r,i,o){jr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Sl(t,e){for(var n in De.call(this,t),e)this[n]=e[n]}function Tl(t,e,n){this.I=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null,t=Rg.a.SDK_VERSION?vr(Rg.a.SDK_VERSION):null,this.a=new ka(this.l,ki(Ti),t),this.b=new _l(this.a),Rl(this,e[Na]),bl(this.b,e),Ur(this,"refreshToken",this.b.a),Ll(this,n||{}),on.call(this),this.J=!1,this.o&&_r()&&(this.i=sl(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(t){return new ml((function(){return t.G(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-S()-3e5;return 0<e?e:0}))}(this),this.W=C(this.Ha,this);var r=this;this.ga=null,this.va=function(t){r.sa(t.g)},this.Z=null,this.P=[],this.ua=function(t){kl(r,t.c)},this.Y=null}function Il(t,e){t.Z&&Ye(t.Z,"languageCodeChanged",t.va),(t.Z=e)&&Ge(e,"languageCodeChanged",t.va)}function kl(t,e){t.P=e,La(t.a,Rg.a.SDK_VERSION?vr(Rg.a.SDK_VERSION,t.P):null)}function Al(t,e){t.Y&&Ye(t.Y,"frameworkChanged",t.ua),(t.Y=e)&&Ge(e,"frameworkChanged",t.ua)}function Nl(t){try{return Rg.a.app(t.m).auth()}catch(e){throw new Xr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function xl(t){t.B||t.w.b||(t.w.start(),Ye(t,"tokenChanged",t.W),Ge(t,"tokenChanged",t.W))}function Ol(t){Ye(t,"tokenChanged",t.W),t.w.stop()}function Rl(t,e){t.ma=e,Ur(t,"_lat",e)}function Pl(t){for(var e=[],n=0;n<t.O.length;n++)e.push(t.O[n](t));return $t(e).then((function(){return t}))}function Dl(t){t.i&&!t.J&&(t.J=!0,Ju(t.i,t))}function Ll(t,e){jr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Cl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ml(){}function Ul(t){return Xt().then((function(){if(t.B)throw new Xr("app-deleted")}))}function jl(t){return F(t.providerData,(function(t){return t.providerId}))}function Fl(t,e){e&&(Vl(t,e.providerId),t.providerData.push(e))}function Vl(t,e){W(t.providerData,(function(t){return t.providerId==e}))}function ql(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ur(t,e,n)}function Hl(t,e){t!=e&&(jr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Ur(t,"metadata",e.metadata?function(t){return new Cl(t.a,t.b)}(e.metadata):new Cl),j(e.providerData,(function(e){Fl(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Ur(t,"refreshToken",t.b.a))}function Wl(t){return t.G().then((function(e){var n=t.isAnonymous;return function(t,e){return Ss(t.a,os,{idToken:e}).then(C(t.zc,t))}(t,e).then((function(){return n||ql(t,"isAnonymous",!1),e}))}))}function Bl(t,e){e[Na]&&t.ma!=e[Na]&&(bl(t.b,e),t.dispatchEvent(new Sl("tokenChanged")),Rl(t,e[Na]),ql(t,"refreshToken",t.b.a))}function zl(t,e){return Wl(t).then((function(){if(q(jl(t),e))return Pl(t).then((function(){throw new Xr("provider-already-linked")}))}))}function Gl(t,e,n){return Fr({user:t,credential:mo(e),additionalUserInfo:e=Ri(e),operationType:n})}function Ql(t,e){return Bl(t,e),t.reload().then((function(){return t}))}function Kl(t,e,n,r,i){if(!_r())return Zt(new Xr("operation-not-supported-in-this-environment"));if(t.h&&!i)return Zt(t.h);var o=Oi(n.providerId),a=Ir(t.uid+":::"),s=null;(!Cr()||sr())&&t.o&&n.isOAuthProvider&&(s=Fs(t.o,t.l,t.m,e,n,null,a,Rg.a.SDK_VERSION||null,null,null,t.tenantId));var u=nr(s,o&&o.Da,o&&o.Ca);return r=r().then((function(){if(Xl(t),!i)return t.G().then((function(){}))})).then((function(){return nl(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new Wt((function(n,r){t.ja(e,null,new Xr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=a,t.c=ol(t.i,t,e,u,a)}))})).then((function(t){return u&&er(u),t?Fr(t):null})).s((function(t){throw u&&er(u),t})),Zl(t,r,i)}function Yl(t,e,n,r,i){if(!_r())return Zt(new Xr("operation-not-supported-in-this-environment"));if(t.h&&!i)return Zt(t.h);var o=null,a=Ir(t.uid+":::");return r=r().then((function(){if(Xl(t),!i)return t.G().then((function(){}))})).then((function(){return t.ca=a,Pl(t)})).then((function(e){return t.da&&(e=(e=t.da).b.set(tc,t.A(),e.a)),e})).then((function(){return il(t.i,e,n,a,t.tenantId)})).s((function(e){if(o=e,t.da)return ec(t.da);throw o})).then((function(){if(o)throw o})),Zl(t,r,i)}function Xl(t){if(!t.i||!t.J){if(t.i&&!t.J)throw new Xr("internal-error");throw new Xr("auth-domain-config-required")}}function Zl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Zt(t.h)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Sl("userInvalidated")),t.h=e),e}))}(t,e,n);return t.I.push(r),r.ka((function(){H(t.I,r)})),r}function Jl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Na]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-S())/1e3;var r=new Tl(e,n,t);return t.providerData&&j(t.providerData,(function(t){t&&Fl(r,Fr(t))})),t.redirectEventId&&(r.ca=t.redirectEventId),r}function $l(t){this.a=t,this.b=bu()}ul.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ul.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(pl(this,!0,null,t.a),Xt()):e.za(n,r)?function(t,e,n){n=n.za(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.R(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){pl(t,s,e,null)})).s((function(e){pl(t,s,null,e)}))}(this,t,e):Zt(new Xr("invalid-auth-event")):(pl(this,!1,null,null),Xt())}else Zt(new Xr("invalid-auth-event"))},ul.prototype.oa=function(){var t=this;return new Wt((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Xr("timeout");t.a&&t.a.cancel(),t.a=cn(el.get()).then((function(){t.b||(t.g=!0,pl(t,!0,null,e))}))}(t))}))},fl.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ja(t.c,null,t.a,t.b),Xt()):e.za(n,r)?function(t,e){var n=t.b,r=t.c;e.za(r,n)(t.g,t.f,t.R(),t.i).then((function(t){e.ja(r,t,null,n)})).s((function(t){e.ja(r,null,t,n)}))}(t,e):Zt(new Xr("invalid-auth-event"))}else Zt(new Xr("invalid-auth-event"))},vl.prototype.confirm=function(t){return t=yo(this.verificationId,t),this.a(t)},ml.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return xr()||!t?Xt():new Wt((function(n){e=function(){xr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},ml.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},_l.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},_l.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Zt(new Xr("user-token-expired")):t||!this.b||S()>this.c-3e4?this.a?function(t,e){return function(t,e){return new Wt((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ma(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Is(t)):t.access_token&&t.refresh_token?n(t):r(new Xr("internal-error")):r(new Xr("network-request-failed"))}),"POST",Ln(e).toString(),t.g,t.u.get()):r(new Xr("internal-error"))}))}(t.f,e).then((function(e){return t.b=e.access_token,t.c=wl(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Xt(null):Xt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Cl.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(Sl,De),T(Tl,on),Tl.prototype.sa=function(t){this.ga=t,Da(this.a,t)},Tl.prototype.ha=function(){return this.ga},Tl.prototype.Aa=function(){return z(this.P)},Tl.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Ur(Tl.prototype,"providerId","firebase"),(t=Tl.prototype).reload=function(){var t=this;return Zl(this,Ul(this).then((function(){return Wl(t).then((function(){return Pl(t)})).then(Ml)})))},t.dc=function(t){return this.G(t).then((function(t){return new yl(t)}))},t.G=function(t){var e=this;return Zl(this,Ul(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new Xr("internal-error");return t.accessToken!=e.ma&&(Rl(e,t.accessToken),e.dispatchEvent(new Sl("tokenChanged"))),ql(e,"refreshToken",t.refreshToken),t.accessToken})))},t.zc=function(t){if(!(t=t.users)||!t.length)throw new Xr("internal-error");Ll(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?F(t,(function(t){return new El(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Fl(this,e[n]);ql(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.Ac=function(t){return Lr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(t)},t.gb=function(t){var e=this,n=null;return Zl(this,t.f(this.a,this.uid).then((function(t){return Bl(e,t),n=Gl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.rc=function(t){return Lr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(t)},t.eb=function(t){var e=this,n=null;return Zl(this,zl(this,t.providerId).then((function(){return e.G()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Gl(e,t,"link"),Ql(e,t)})).then((function(){return n})))},t.sc=function(t,e){var n=this;return Zl(this,zl(this,"phone").then((function(){return gl(Nl(n),t,e,C(n.eb,n))})))},t.Bc=function(t,e){var n=this;return Zl(this,Xt().then((function(){return gl(Nl(n),t,e,C(n.gb,n))})),!0)},t.rb=function(t){var e=this;return Zl(this,this.G().then((function(n){return e.a.rb(n,t)})).then((function(t){return Bl(e,t),e.reload()})))},t.Sc=function(t){var e=this;return Zl(this,this.G().then((function(n){return t.b(e.a,n)})).then((function(t){return Bl(e,t),e.reload()})))},t.sb=function(t){var e=this;return Zl(this,this.G().then((function(n){return e.a.sb(n,t)})).then((function(t){return Bl(e,t),e.reload()})))},t.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ul(this);var e=this;return Zl(this,this.G().then((function(n){return e.a.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Bl(e,t),ql(e,"displayName",t.displayName||null),ql(e,"photoURL",t.photoUrl||null),j(e.providerData,(function(t){"password"===t.providerId&&(Ur(t,"displayName",e.displayName),Ur(t,"photoURL",e.photoURL))})),Pl(e)})).then(Ml))},t.Qc=function(t){var e=this;return Zl(this,Wl(this).then((function(n){return q(jl(e),t)?function(t,e,n){return Ss(t,ns,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return j(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),j(jl(e),(function(t){n[t]||Vl(e,t)})),n[go.PROVIDER_ID]||Ur(e,"phoneNumber",null),Pl(e)})):Pl(e).then((function(){throw new Xr("no-such-provider")}))})))},t.delete=function(){var t=this;return Zl(this,this.G().then((function(e){return Ss(t.a,es,{idToken:e})})).then((function(){t.dispatchEvent(new Sl("userDeleted"))}))).then((function(){for(var e=0;e<t.I.length;e++)t.I[e].cancel("app-deleted");Il(t,null),Al(t,null),t.I=[],t.B=!0,Ol(t),Ur(t,"refreshToken",null),t.i&&$u(t.i,t)}))},t.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ca||null)==e||"reauthViaRedirect"==t&&(this.ca||null)==e)},t.ja=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?C(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?C(this.Cb,this):"linkViaRedirect"==t&&(this.ca||null)==e?C(this.Bb,this):"reauthViaRedirect"==t&&(this.ca||null)==e?C(this.Cb,this):null},t.tc=function(t){var e=this;return Kl(this,"linkViaPopup",t,(function(){return zl(e,t.providerId).then((function(){return Pl(e)}))}),!1)},t.Cc=function(t){return Kl(this,"reauthViaPopup",t,(function(){return Xt()}),!0)},t.uc=function(t){var e=this;return Yl(this,"linkViaRedirect",t,(function(){return zl(e,t.providerId)}),!1)},t.Dc=function(t){return Yl(this,"reauthViaRedirect",t,(function(){return Xt()}),!0)},t.Bb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Zl(this,this.G().then((function(n){return Ka(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Gl(i,t,"link"),Ql(i,t)})).then((function(){return o})))},t.Cb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Zl(this,Xt().then((function(){return Wi(Ya(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Gl(i,t,"reauthenticate"),Bl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.jb=function(t){var e=this,n=null;return Zl(this,this.G().then((function(e){return n=e,void 0===t||Q(t)?{}:_i(new li(t))})).then((function(t){return e.a.jb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.toJSON=function(){return this.A()},t.A=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&X(t,this.metadata.A()),j(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),t};var tc={name:"redirectUser",C:"session"};function ec(t){return Eu(t.b,tc,t.a)}function nc(t){this.a=t,this.b=bu(),this.c=null,this.f=function(t){var e=oc("local"),n=oc("session"),r=oc("none");return function(t,e,n){var r=Cu(e,n),i=wu(t,e.C);return t.get(e,n).then((function(o){var s=null;try{s=Tr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(ic,t.a).then((function(t){return t?oc(t):e}))}))}))})).then((function(e){return t.c=e,rc(t,e.C)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(oc("local"),this.a,C(this.g,this))}function rc(t,e){var n,r=[];for(n in mu)mu[n]!==e&&r.push(Eu(t.b,oc(mu[n]),t.a));return r.push(Eu(t.b,ic,t.a)),function(t){return new Wt((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Jt(t[s],E(o,s),a);else e(i)}))}(r)}nc.prototype.g=function(){var t=this,e=oc("local");lc(this,(function(){return Xt().then((function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null})).then((function(n){if(n)return rc(t,"local").then((function(){t.c=e}))}))}))};var ic={name:"persistence",C:"session"};function oc(t){return{name:"authUser",C:t}}function ac(t,e){return lc(t,(function(){return t.b.set(t.c,e.A(),t.a)}))}function sc(t){return lc(t,(function(){return Eu(t.b,t.c,t.a)}))}function uc(t,e){return lc(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Jl(t||{})}))}))}function lc(t,e){return t.f=t.f.then(e,e),t.f}function cc(t){if(this.l=!1,Ur(this,"settings",new dl),Ur(this,"app",t),!mc(this).options||!mc(this).options.apiKey)throw new Xr("invalid-api-key");t=Rg.a.SDK_VERSION?vr(Rg.a.SDK_VERSION):null,this.b=new ka(mc(this).options&&mc(this).options.apiKey,ki(Ti),t),this.O=[],this.m=[],this.J=[],this.Ub=Rg.a.INTERNAL.createSubscribe(C(this.oc,this)),this.W=void 0,this.Vb=Rg.a.INTERNAL.createSubscribe(C(this.pc,this)),gc(this,null),this.h=new nc(mc(this).options.apiKey+":"+mc(this).name),this.w=new $l(mc(this).options.apiKey+":"+mc(this).name),this.Y=Cc(this,function(t){var e=mc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(tc,t.a).then((function(t){return t&&e&&(t.authDomain=e),Jl(t||{})}))}(t.w,mc(t).options.authDomain).then((function(e){return(t.B=e)&&(e.da=t.w),ec(t.w)}));return Cc(t,e)}(t).then((function(){return uc(t.h,e)})).then((function(e){return e?(e.da=t.w,t.B&&(t.B.ca||null)==(e.ca||null)?e:e.reload().then((function(){return ac(t.h,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:sc(t.h)}))):null})).then((function(e){gc(t,e||null)}));return Cc(t,n)}(this)),this.i=Cc(this,function(t){return t.Y.then((function(){return dc(t)})).s((function(){})).then((function(){if(!t.l)return t.ma()})).s((function(){})).then((function(){if(!t.l){t.ga=!0;var e=t.h;e.b.addListener(oc("local"),e.a,t.ma)}}))}(this)),this.ga=!1,this.ma=C(this.Nc,this),this.ub=C(this.aa,this),this.ua=C(this.bc,this),this.va=C(this.mc,this),this.Ha=C(this.nc,this),this.a=null,function(t){var e=mc(t).options.authDomain,n=mc(t).options.apiKey;e&&_r()&&(t.Tb=t.Y.then((function(){if(!t.l){if(t.a=sl(e,n,mc(t).name),Ju(t.a,t),_c(t)&&Dl(_c(t)),t.B){Dl(t.B);var r=t.B;r.sa(t.ha()),Il(r,t),kl(r=t.B,t.I),Al(r,t),t.B=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.vc,this),this.o=0,on.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ha()},set:function(t){this.sa(t)},enumerable:!1}),t.Z=null,Object.defineProperty(t,"ti",{get:function(){return this.R()},set:function(t){this.nb(t)},enumerable:!1}),t.P=null}(this),this.I=[]}function hc(t){De.call(this,"languageCodeChanged"),this.g=t}function pc(t){De.call(this,"frameworkChanged"),this.c=t}function fc(t){return t.Tb||Zt(new Xr("auth-domain-config-required"))}function dc(t){if(!_r())return Zt(new Xr("operation-not-supported-in-this-environment"));var e=fc(t).then((function(){return t.a.oa()})).then((function(t){return t?Fr(t):null}));return Cc(t,e)}function vc(t,e){var n={};return n.apiKey=mc(t).options.apiKey,n.authDomain=mc(t).options.authDomain,n.appName=mc(t).name,t.Y.then((function(){return function(t,e,n,r){var i=new Tl(t,e);return n&&(i.da=n),r&&kl(i,r),i.reload().then((function(){return i}))}(n,e,t.w,t.Aa())})).then((function(e){return _c(t)&&e.uid==_c(t).uid?(Hl(_c(t),e),t.aa(e)):(gc(t,e),Dl(e),t.aa(e))})).then((function(){wc(t)}))}function gc(t,e){_c(t)&&(function(t,e){W(t.O,(function(t){return t==e}))}(_c(t),t.ub),Ye(_c(t),"tokenChanged",t.ua),Ye(_c(t),"userDeleted",t.va),Ye(_c(t),"userInvalidated",t.Ha),Ol(_c(t))),e&&(e.O.push(t.ub),Ge(e,"tokenChanged",t.ua),Ge(e,"userDeleted",t.va),Ge(e,"userInvalidated",t.Ha),0<t.o&&xl(e)),Ur(t,"currentUser",e),e&&(e.sa(t.ha()),Il(e,t),kl(e,t.I),Al(e,t))}function yc(t,e){var n=null,r=null;return Cc(t,e.then((function(e){return n=mo(e),r=Ri(e),vc(t,e)})).then((function(){return Fr({user:_c(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function mc(t){return t.app}function _c(t){return t.currentUser}function bc(t){return _c(t)&&_c(t)._lat||null}function wc(t){if(t.ga){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](bc(t));if(t.W!==t.getUid()&&t.J.length)for(t.W=t.getUid(),e=0;e<t.J.length;e++)t.J[e]&&t.J[e](bc(t))}}function Cc(t,e){return t.O.push(e),e.ka((function(){H(t.O,e)})),e}function Ec(){}function Sc(){this.a={},this.b=1e12}nc.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new Xr("invalid-persistence-type"),n=new Xr("unsupported-persistence-type");t:{for(r in mu)if(mu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(lr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!mr()&&"none"!==t)throw n}}(t),lc(this,(function(){return t!=n.c.C?n.b.get(n.c,n.a).then((function(r){return e=r,rc(n,t)})).then((function(){if(n.c=oc(t),e)return n.b.set(n.c,e,n.a)})):Xt()}))},T(cc,on),T(hc,De),T(pc,De),(t=cc.prototype).mb=function(t){return Cc(this,t=this.h.mb(t))},t.sa=function(t){this.Z===t||this.l||(this.Z=t,Da(this.b,this.Z),this.dispatchEvent(new hc(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var t=a.navigator;this.sa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.vc=function(t){this.I.push(t),La(this.b,Rg.a.SDK_VERSION?vr(Rg.a.SDK_VERSION,this.I):null),this.dispatchEvent(new pc(this.I))},t.Aa=function(){return z(this.I)},t.nb=function(t){this.P===t||this.l||(this.P=t,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:mc(this).options.apiKey,authDomain:mc(this).options.authDomain,appName:mc(this).name,currentUser:_c(this)&&_c(this).A()}},t.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ja=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?C(this.ac,this):null},t.ac=function(t,e,n,r){var i=this;t={requestUri:t,postBody:r,sessionId:e,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,s=Qa(i.b,t).then((function(t){return o=mo(t),a=Ri(t),t}));return Cc(this,t=i.Y.then((function(){return s})).then((function(t){return vc(i,t)})).then((function(){return Fr({user:_c(i),credential:o,additionalUserInfo:a,operationType:"signIn"})})))},t.Lc=function(t){if(!_r())return Zt(new Xr("operation-not-supported-in-this-environment"));var e=this,n=Oi(t.providerId),r=Ir(),i=null;(!Cr()||sr())&&mc(this).options.authDomain&&t.isOAuthProvider&&(i=Fs(mc(this).options.authDomain,mc(this).options.apiKey,mc(this).name,"signInViaPopup",t,null,r,Rg.a.SDK_VERSION||null,null,null,this.R()));var o=nr(i,n&&n.Da,n&&n.Ca);return Cc(this,n=fc(this).then((function(n){return nl(n,o,"signInViaPopup",t,r,!!i,e.R())})).then((function(){return new Wt((function(t,n){e.ja("signInViaPopup",null,new Xr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=ol(e.a,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&er(o),t?Fr(t):null})).s((function(t){throw o&&er(o),t})))},t.Mc=function(t){if(!_r())return Zt(new Xr("operation-not-supported-in-this-environment"));var e=this;return Cc(this,fc(this).then((function(){return function(t){return lc(t,(function(){return t.b.set(ic,t.c.C,t.a)}))}(e.h)})).then((function(){return il(e.a,"signInViaRedirect",t,void 0,e.R())})))},t.oa=function(){var t=this;return dc(this).then((function(e){return t.a&&cl(t.a.b),e})).s((function(e){throw t.a&&cl(t.a.b),e}))},t.Rc=function(t){if(!t)return Zt(new Xr("null-user"));if(this.P!=t.tenantId)return Zt(new Xr("tenant-id-mismatch"));var e=this,n={};n.apiKey=mc(this).options.apiKey,n.authDomain=mc(this).options.authDomain,n.appName=mc(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.o,appName:t.m};var i=t.b,o={};return o[Na]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-S())/1e3,e=new Tl(e,o),n&&(e.da=n),r&&kl(e,r),Hl(e,t),e}(t,n,e.w,e.Aa());return Cc(this,this.i.then((function(){if(mc(e).options.apiKey!=t.l)return r.reload()})).then((function(){return _c(e)&&t.uid==_c(e).uid?(Hl(_c(e),t),e.aa(t)):(gc(e,r),Dl(r),e.aa(r))})).then((function(){wc(e)})))},t.pb=function(){var t=this;return Cc(this,this.i.then((function(){return t.a&&cl(t.a.b),_c(t)?(gc(t,null),sc(t.h).then((function(){wc(t)}))):Xt()})))},t.Nc=function(){var t=this;return uc(this.h,mc(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=_c(t)&&e){n=_c(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Hl(_c(t),e),_c(t).G();(_c(t)||e)&&(gc(t,e),e&&(Dl(e),e.da=t.w),t.a&&Ju(t.a,t),wc(t))}}))},t.aa=function(t){return ac(this.h,t)},t.bc=function(){wc(this),this.aa(_c(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(_c(e))}))},t.pc=function(t){var e=this;!function(t,e){t.J.push(e),Cc(t,t.i.then((function(){!t.l&&q(t.J,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(bc(t)))})))}(this,(function(){t.next(_c(e))}))},t.xc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then((function(){g(t)?t(_c(r)):g(t.next)&&t.next(_c(r))})),this.Ub(t,e,n)},t.wc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then((function(){r.W=r.getUid(),g(t)?t(_c(r)):g(t.next)&&t.next(_c(r))})),this.Vb(t,e,n)},t.cc=function(t){var e=this;return Cc(this,this.i.then((function(){return _c(e)?_c(e).G(t).then((function(t){return{accessToken:t}})):null})))},t.Hc=function(t){var e=this;return this.i.then((function(){return yc(e,Ss(e.b,_s,{token:t}))})).then((function(t){var n=t.user;return ql(n,"isAnonymous",!1),e.aa(n),t}))},t.Ic=function(t,e){var n=this;return this.i.then((function(){return yc(n,Ss(n.b,bs,{email:t,password:e}))}))},t.Xb=function(t,e){var n=this;return this.i.then((function(){return yc(n,Ss(n.b,$a,{email:t,password:e}))}))},t.Ra=function(t){var e=this;return this.i.then((function(){return yc(e,t.na(e.b))}))},t.Gc=function(t){return Lr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(t)},t.ob=function(){var t=this;return this.i.then((function(){var e=_c(t);if(e&&e.isAnonymous){var n=Fr({providerId:null,isNewUser:!1});return Fr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return yc(t,t.b.ob()).then((function(e){var n=e.user;return ql(n,"isAnonymous",!0),t.aa(n),e}))}))},t.getUid=function(){return _c(this)&&_c(this).uid||null},t.Wb=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&_c(this)&&xl(_c(this))},t.Ec=function(t){var e=this;j(this.m,(function(n){n==t&&e.o--})),0>this.o&&(this.o=0),0==this.o&&_c(this)&&Ol(_c(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Cc(this,this.i.then((function(){e.l||q(e.m,t)&&t(bc(e))})))},t.removeAuthTokenListener=function(t){W(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.O.length;t++)this.O[t].cancel("app-deleted");return this.O=[],this.h&&(t=this.h).b.removeListener(oc("local"),t.a,this.ma),this.a&&($u(this.a,this),cl(this.a.b)),Promise.resolve()},t.$b=function(t){return Cc(this,function(t,e){return Ss(t,ts,{identifier:e,continueUri:br()?Jn():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.qc=function(t){return!!ho(t)},t.lb=function(t,e){var n=this;return Cc(this,Xt().then((function(){var t=new li(e);if(!t.c)throw new Xr("argument-error",pi+" must be true when sending sign in link to email");return _i(t)})).then((function(e){return n.b.lb(t,e)})).then((function(){})))},t.Uc=function(t){return this.Ka(t).then((function(t){return t.data.email}))},t.$a=function(t,e){return Cc(this,this.b.$a(t,e).then((function(){})))},t.Ka=function(t){return Cc(this,this.b.Ka(t).then((function(t){return new qr(t)})))},t.Xa=function(t){return Cc(this,this.b.Xa(t).then((function(){})))},t.kb=function(t,e){var n=this;return Cc(this,Xt().then((function(){return void 0===e||Q(e)?{}:_i(new li(e))})).then((function(e){return n.b.kb(t,e)})).then((function(){})))},t.Kc=function(t,e){return Cc(this,gl(this,t,e,C(this.Ra,this)))},t.Jc=function(t,e){var n=this;return Cc(this,Xt().then((function(){var r=e||Jn(),i=co(t,r);if(!(r=ho(r)))throw new Xr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Xr("tenant-id-mismatch");return n.Ra(i)})))},Ec.prototype.render=function(){},Ec.prototype.reset=function(){},Ec.prototype.getResponse=function(){},Ec.prototype.execute=function(){};var Tc=null;function Ic(t,e){return(e=kc(e))&&t.a[e]||null}function kc(t){return(t=void 0===t?1e12:t)?t.toString():null}function Ac(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Hn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ge(this.f,"click",this.i)}function Nc(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function xc(){}Sc.prototype.render=function(t,e){return this.a[this.b.toString()]=new Ac(t,e),this.b++},Sc.prototype.reset=function(t){var e=Ic(this,t);t=kc(t),e&&t&&(e.delete(),delete this.a[t])},Sc.prototype.getResponse=function(t){return(t=Ic(this,t))?t.getResponse():null},Sc.prototype.execute=function(t){(t=Ic(this,t))&&t.execute()},Ac.prototype.getResponse=function(){return Nc(this),this.b},Ac.prototype.execute=function(){Nc(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Ac.prototype.delete=function(){Nc(this),this.g=!0,clearTimeout(this.a),this.a=null,Ye(this.f,"click",this.i)},xc.prototype.g=function(){return Tc||(Tc=new Sc),Xt(Tc)},xc.prototype.c=function(){};var Oc=null;function Rc(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Pc=new Z(tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Dc=new Nr(3e4,6e4);Rc.prototype.g=function(t){var e=this;return new Wt((function(n,r){var i=setTimeout((function(){r(new Xr("network-request-failed"))}),Dc.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new Xr("internal-error"));delete a[e.a]},Xt(ba(it(Pc,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new Xr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Rc.prototype.c=function(){this.b--};var Lc=null;function Mc(t,e,n,r,i,o,s){if(Ur(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=e,this.g=null,s?(Oc||(Oc=new xc),s=Oc):(Lc||(Lc=new Rc),s=Lc),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fc])throw new Xr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Vc],!a.document)throw new Xr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Hn(e)||!this.i&&Hn(e).hasChildNodes())throw new Xr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new ka(t,o||null,i||null),this.v=r||function(){return null};var u=this;this.l=[];var l=this.a[Uc];this.a[Uc]=function(t){if(qc(u,t),"function"==typeof l)l(t);else if("string"==typeof l){var e=yr(l,a);"function"==typeof e&&e(t)}};var c=this.a[jc];this.a[jc]=function(){if(qc(u,null),"function"==typeof c)c();else if("string"==typeof c){var t=yr(c,a);"function"==typeof t&&t()}}}var Uc="callback",jc="expired-callback",Fc="sitekey",Vc="size";function qc(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Hc(t,e){return t.h.push(e),e.ka((function(){H(t.h,e)})),e}function Wc(t){if(t.B)throw new Xr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Bc(t,e,n){var r=!1;try{this.b=n||Rg.a.app()}catch(a){throw new Xr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Xr("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Aa()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=Rg.a.SDK_VERSION?vr(Rg.a.SDK_VERSION,o):null,Mc.call(this,n,t,e,(function(){try{var t=i.b.auth().ha()}catch(e){t=null}return t}),o,ki(Ti),r)}function zc(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Xr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].N(n[i])&&!o){if(e=e[i],0>i||i>=Gc.length)throw new Xr("internal-error","Argument validator received an unsupported number of arguments.");n=Gc[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.M+".";break t}r=null}}if(r)throw new Xr("argument-error",t+" failed: "+r)}(t=Mc.prototype).Ba=function(){var t=this;return this.f?this.f:this.f=Hc(this,Xt().then((function(){if(br()&&!ur())return or();throw new Xr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.v())})).then((function(e){return t.g=e,Ss(t.o,cs,{})})).then((function(e){t.a[Fc]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){Wc(this);var t=this;return Hc(this,this.Ba().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=Hn(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!qn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ut(a.name),'"'),a.type){o.push(' type="',Ut(a.type),'"');var u={};X(u,a),delete u.type,a=u}o.push(">"),o=o.join("")}return o=i.createElement(o),a&&(s(a)?o.className=a:d(a)?o.className=a.join(" "):Wn(o,a)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(s(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!v(o)||y(o)&&0<o.nodeType?r(o):j(zn(o)?z(o):o,r)}}(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Wc(this);var t=this;return Hc(this,this.render().then((function(e){return new Wt((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){W(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Wc(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Wc(this),this.B=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Hn(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Bc,Mc);var Gc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Qc(t,e){return{name:t||"",M:"a valid string",optional:!!e,N:s}}function Kc(t,e){return{name:t||"",M:"a boolean",optional:!!e,N:u}}function Yc(t,e){return{name:t||"",M:"a valid object",optional:!!e,N:y}}function Xc(t,e){return{name:t||"",M:"a function",optional:!!e,N:g}}function Zc(t,e){return{name:t||"",M:"null",optional:!!e,N:f}}function Jc(t){return{name:t?t+"Credential":"credential",M:t?"a valid "+t+" credential":"a valid credential",optional:!1,N:function(e){return!!e&&!(!e.na||t&&e.providerId!==t)}}}function $c(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(t){return!!(t&&s(t.type)&&g(t.verify))}}}function th(t,e,n,r){return{name:n||"",M:t.M+" or "+e.M,optional:!!r,N:function(n){return t.N(n)||e.N(n)}}}function eh(t,e){for(var n in e){var r=e[n].name;t[r]=ih(r,t[n],e[n].j)}}function nh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){zc(t,[n],[r],!0),this[e]=r}),r,n,e[n].Ya),enumerable:!0})}}function rh(t,e,n,r){t[e]=ih(e,n,r)}function ih(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return zc(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}eh(cc.prototype,{Xa:{name:"applyActionCode",j:[Qc("code")]},Ka:{name:"checkActionCode",j:[Qc("code")]},$a:{name:"confirmPasswordReset",j:[Qc("code"),Qc("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[Qc("email"),Qc("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[Qc("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Qc("emailLink")]},wc:{name:"onAuthStateChanged",j:[th(Yc(),Xc(),"nextOrObserver"),Xc("opt_error",!0),Xc("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[th(Yc(),Xc(),"nextOrObserver"),Xc("opt_error",!0),Xc("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Qc("email"),th(Yc("opt_actionCodeSettings",!0),Zc(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Qc("email"),Yc("actionCodeSettings")]},mb:{name:"setPersistence",j:[Qc("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[Jc()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[Jc()]},Hc:{name:"signInWithCustomToken",j:[Qc("token")]},Ic:{name:"signInWithEmailAndPassword",j:[Qc("email"),Qc("password")]},Jc:{name:"signInWithEmailLink",j:[Qc("email"),Qc("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[Qc("phoneNumber"),$c()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[th({name:"user",M:"an instance of Firebase User",optional:!1,N:function(t){return!!(t&&t instanceof Tl)}},Zc(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Qc(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[Qc("code")]}}),nh(cc.prototype,{lc:{name:"languageCode",Ya:th(Qc(),Zc(),"languageCode")},ti:{name:"tenantId",Ya:th(Qc(),Zc(),"tenantId")}}),(cc.Persistence=mu).LOCAL="local",cc.Persistence.SESSION="session",cc.Persistence.NONE="none",eh(Tl.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Kc("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[Kc("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[Jc()]},eb:{name:"linkWithCredential",j:[Jc()]},sc:{name:"linkWithPhoneNumber",j:[Qc("phoneNumber"),$c()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Jc()]},gb:{name:"reauthenticateWithCredential",j:[Jc()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Qc("phoneNumber"),$c()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[th(Yc("opt_actionCodeSettings",!0),Zc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Qc(null,!0)]},Qc:{name:"unlink",j:[Qc("provider")]},rb:{name:"updateEmail",j:[Qc("email")]},sb:{name:"updatePassword",j:[Qc("password")]},Sc:{name:"updatePhoneNumber",j:[Jc("phone")]},tb:{name:"updateProfile",j:[Yc("profile")]}}),eh(Sc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),eh(Ec.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),eh(Wt.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),nh(dl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Ya:Kc("appVerificationDisabledForTesting")}}),eh(vl.prototype,{confirm:{name:"confirm",j:[Qc("verificationCode")]}}),rh(Hi,"fromJSON",(function(t){t=s(t)?JSON.parse(t):t;for(var e,n=[Yi,uo,fo,Gi],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[th(Qc(),Yc(),"json")]),rh(lo,"credential",(function(t,e){return new so(t,e)}),[Qc("email"),Qc("password")]),eh(so.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),eh($i.prototype,{wa:{name:"addScope",j:[Qc("scope")]},Ea:{name:"setCustomParameters",j:[Yc("customOAuthParameters")]}}),rh($i,"credential",to,[th(Qc(),Yc(),"token")]),rh(lo,"credentialWithLink",co,[Qc("email"),Qc("emailLink")]),eh(eo.prototype,{wa:{name:"addScope",j:[Qc("scope")]},Ea:{name:"setCustomParameters",j:[Yc("customOAuthParameters")]}}),rh(eo,"credential",no,[th(Qc(),Yc(),"token")]),eh(ro.prototype,{wa:{name:"addScope",j:[Qc("scope")]},Ea:{name:"setCustomParameters",j:[Yc("customOAuthParameters")]}}),rh(ro,"credential",io,[th(Qc(),th(Yc(),Zc()),"idToken"),th(Qc(),Zc(),"accessToken",!0)]),eh(oo.prototype,{Ea:{name:"setCustomParameters",j:[Yc("customOAuthParameters")]}}),rh(oo,"credential",ao,[th(Qc(),Yc(),"token"),Qc("secret",!0)]),eh(Ji.prototype,{wa:{name:"addScope",j:[Qc("scope")]},credential:{name:"credential",j:[th(Qc(),th(Yc(),Zc()),"optionsOrIdToken"),th(Qc(),Zc(),"accessToken",!0)]},Ea:{name:"setCustomParameters",j:[Yc("customOAuthParameters")]}}),eh(Qi.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),eh(Bi.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),rh(go,"credential",yo,[Qc("verificationId"),Qc("verificationCode")]),eh(go.prototype,{Va:{name:"verifyPhoneNumber",j:[Qc("phoneNumber"),$c()]}}),eh(po.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),eh(Xr.prototype,{toJSON:{name:"toJSON",j:[Qc(null,!0)]}}),eh(Io.prototype,{toJSON:{name:"toJSON",j:[Qc(null,!0)]}}),eh(To.prototype,{toJSON:{name:"toJSON",j:[Qc(null,!0)]}}),eh(Bc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rh(ti,"parseLink",ui,[Qc("link")]),function(){if(void 0===Rg.a||!Rg.a.INTERNAL||!Rg.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Hr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:cc,AuthCredential:Hi,Error:Xr};rh(t,"EmailAuthProvider",lo,[]),rh(t,"FacebookAuthProvider",$i,[]),rh(t,"GithubAuthProvider",eo,[]),rh(t,"GoogleAuthProvider",ro,[]),rh(t,"TwitterAuthProvider",oo,[]),rh(t,"OAuthProvider",Ji,[Qc("providerId")]),rh(t,"SAMLAuthProvider",Zi,[Qc("providerId")]),rh(t,"PhoneAuthProvider",go,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(t){return!!(t&&t instanceof cc)}}]),rh(t,"RecaptchaVerifier",Bc,[th(Qc(),{name:"",M:"an HTML element",optional:!1,N:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Yc("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(t){return!!(t&&t instanceof Rg.a.app.App)}}]),rh(t,"ActionCodeURL",ti,[]),Rg.a.INTERNAL.registerService("auth",(function(t,e){return e({INTERNAL:{getUid:C((t=new cc(t)).getUid,t),getToken:C(t.cc,t),addAuthTokenListener:C(t.Wb,t),removeAuthTokenListener:C(t.Ec,t)}}),t}),t,(function(t,e){if("create"===t)try{e.auth()}catch(n){}})),Rg.a.INTERNAL.extendNamespace({User:Tl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Cm,Em=function(){},Sm=((Cm=function(){function t(t,e){this.router=t,this.auth=e}return t.prototype.canActivate=function(t,e){return console.log("url dentro de canActivate",e.url),console.log(t),console.log("estado ",e),console.log(this.auth.isLoggedIn()),!!sessionStorage.getItem("user")||(console.log("Tenes que loguearte"),this.router.navigate(["Login"]),!1)},t}()).ngInjectableDef=yt({factory:function(){return new Cm(Vt(tp),Vt(_d))},token:Cm,providedIn:"root"}),Cm),Tm=function(){},Im=new ls(cs,[hs],(function(t){return function(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===De&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[Zn(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([xr(512,sn,un,[[8,[xp,Ed,kd,Od,Ld,Fd,Wd,Qd,Zd,ev,ov,lv,fv,yv,wv,Tv,Nv,Pv,Uv,qv,tg]],[3,sn],Wt]),xr(5120,Hi,qo,[[3,Hi]]),xr(4608,Cs,Es,[Hi,[2,ws]]),xr(5120,Ei,Ho,[ao]),xr(5120,Li,Mi,[]),xr(5120,Nn,Fo,[]),xr(5120,xn,Vo,[]),xr(4608,Il,kl,[As]),xr(6144,ke,null,[Il]),xr(4608,_l,wl,[]),xr(5120,Gu,(function(t,e,n,r,i,o,a,s){return[new yl(t,e,n),new Tl(r),new Cl(i,o,a,s)]}),[As,ao,Fi,As,As,_l,qi,[2,bl]]),xr(4608,Qu,Qu,[Gu,ao]),xr(135680,Xu,Xu,[As]),xr(4608,rl,rl,[Qu,Xu,Li]),xr(6144,dn,null,[rl]),xr(6144,Yu,null,[Xu]),xr(4608,vo,vo,[ao]),xr(5120,zc,Ep,[tp]),xr(4608,cp,cp,[]),xr(6144,up,null,[cp]),xr(135680,hp,hp,[tp,ko,Zi,Me,up]),xr(4608,lp,lp,[]),xr(5120,pp,mp,[tp,Ds,fp]),xr(5120,kp,Ip,[Sp]),xr(5120,Vi,(function(t){return[t]}),[kp]),xr(4608,Zp,Zp,[]),xr(5120,cd,hd,[ud,ao,[2,ld]]),xr(4608,Tg,Tg,[ud,[2,ld],[2,$f],Fi,ao]),xr(4608,xg,xg,[ud,[2,ld],[2,Ng],Fi,ao]),xr(4608,md,md,[ud,[2,ld],Fi,ao]),xr(4608,Df,Df,[Fi,[2,Of],[2,Rf],[2,Pf]]),xr(4608,_d,_d,[md]),xr(4608,Sm,Sm,[tp,_d]),xr(1073742336,ks,ks,[]),xr(1024,ee,Ll,[]),xr(1024,_o,(function(){return[gp()]}),[]),xr(512,Sp,Sp,[Me]),xr(1024,Pi,(function(t,e){return[(n=t,Wu("probe",zu),Wu("coreTokens",Object.assign({},Bu,(n||[]).reduce((function(t,e){return t[e.name]=e.token,t}),{}))),function(){return zu}),Tp(e)];var n}),[[2,_o],Sp]),xr(512,Di,Di,[[2,Pi]]),xr(131584,To,To,[ao,qi,Me,ee,sn,Di]),xr(1073742336,Wo,Wo,[To]),xr(1073742336,Ml,Ml,[[3,Ml]]),xr(1024,dp,bp,[[3,tp]]),xr(512,Ec,Sc,[]),xr(512,op,op,[]),xr(256,fp,{},[]),xr(1024,ds,_p,[ps,[2,vs],fp]),xr(512,gs,gs,[ds,ps]),xr(512,Zi,Zi,[]),xr(512,ko,xo,[Zi,[2,Ao]]),xr(1024,Qh,(function(){return[[{path:"",component:Wf},{path:"Login",component:Wf},{path:"Registro",component:Sd},{path:"Admin",component:Ad,canActivate:[Sm]},{path:"AltaAdmin",component:Rd,canActivate:[Sm]},{path:"Estadistica",component:Md,canActivate:[Sm]},{path:"Estadisticas",component:Vd,children:[{path:"Registros",component:Bd},{path:"TurnosAdmin",component:Kd},{path:"EncuestasAdmin",component:Jd}],canActivate:[Sm]},{path:"Cliente",component:nv,canActivate:[Sm]},{path:"PedirTurno",component:av,canActivate:[Sm]},{path:"ListaTurnos",component:cv,canActivate:[Sm]},{path:"EncuestasCli",component:dv,canActivate:[Sm]},{path:"Recepcion",component:mv,canActivate:[Sm]},{path:"TurnosRecepcion",component:Cv,canActivate:[Sm]},{path:"AltaTurnoRecepcion",component:Iv,canActivate:[Sm]},{path:"Especialista",component:xv,canActivate:[Sm]},{path:"TurnosEspecialista",component:Dv,canActivate:[Sm]},{path:"**",component:jv},{path:"error",component:jv}]]}),[]),xr(1024,tp,Cp,[To,Ec,op,gs,Me,ko,Zi,Qh,fp,[2,Yh],[2,zh]]),xr(1073742336,yp,yp,[[2,dp],[2,tp]]),xr(1073742336,Tm,Tm,[]),xr(1073742336,Af,Af,[]),xr(1073742336,Nf,Nf,[]),xr(1073742336,pd,pd,[]),xr(1073742336,Ig,Ig,[]),xr(1073742336,wm,wm,[]),xr(1073742336,Em,Em,[]),xr(1073742336,jf,jf,[]),xr(1073742336,Ff,Ff,[]),xr(1073742336,cs,cs,[]),xr(256,De,!0,[]),xr(256,ud,{apiKey:"AIzaSyBvFP7L1NnU90GzdMx20EzONWCCt86us1o",authDomain:"tp-2-5d61e.firebaseapp.com",databaseURL:"https://tp-2-5d61e.firebaseio.com",projectId:"tp-2-5d61e",storageBucket:"tp-2-5d61e.appspot.com",messagingSenderId:"830055635727",appId:"1:830055635727:web:ddc4b6a4c900c1b38e3c7a"},[]),xr(256,ld,void 0,[])])}));(function(){if(re)throw new Error("Cannot enable prod mode after platform setup.");ne=!1})(),Dl().bootstrapModuleFactory(Im).catch((function(t){return console.error(t)}))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=(15&s)<<2|l>>6,h=63&l;u||(h=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var f="FirebaseError",d=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=f,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?g(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new d(i,s),l=0,c=Object.keys(r);l<c.length;l++){var h=c[l];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function g(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function m(t){return JSON.parse(t)}var _=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=m(l(o[0])||""),n=m(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^s&(u^l),o=1518500249):(i=s^u^l,o=1859775393):r<60?(i=s&u|l&(s|u),o=2400959708):(i=s^u^l,o=3395469782);var h=(a<<5|a>>>27)+i+c+o+n[r]&4294967295;c=l,l=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}function E(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=v,e.FirebaseError=d,e.Sha1=b,e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=l,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=_,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=E,e.getUA=p,e.isAdmin=function(t){var e=_(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=_(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=_(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=_(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=m,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);